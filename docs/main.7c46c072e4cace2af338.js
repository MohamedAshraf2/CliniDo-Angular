(self.webpackChunkclini_do=self.webpackChunkclini_do||[]).push([[179],{8255:Tt=>{function Ke(z){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+z+"'");throw o.code="MODULE_NOT_FOUND",o})}Ke.keys=()=>[],Ke.resolve=Ke,Ke.id=8255,Tt.exports=Ke},7716:(Tt,Ke,z)=>{"use strict";z.d(Ke,{deG:()=>qh,tb:()=>av,AFp:()=>WI,ip1:()=>Cw,CZH:()=>mp,hGG:()=>JM,z2F:()=>Sm,sBO:()=>tp,Sil:()=>Im,_Vd:()=>Wf,EJc:()=>cv,SBq:()=>ea,qLn:()=>cf,vpe:()=>Oo,gxx:()=>Ef,tBr:()=>zc,XFs:()=>at,OlP:()=>kr,zs3:()=>Xr,ZZ4:()=>Wg,aQg:()=>xy,soG:()=>Em,YKP:()=>Ab,v3s:()=>lD,h0i:()=>ta,PXZ:()=>Vw,R0b:()=>Mo,FiY:()=>Ga,Lbi:()=>KI,g9A:()=>ov,Qsj:()=>RA,FYo:()=>wy,JOm:()=>uc,Tiy:()=>Qf,q3G:()=>_r,tp0:()=>za,EAV:()=>hD,Rgc:()=>lh,dDg:()=>rD,DyG:()=>Ls,q4F:()=>Gg,GfV:()=>Ty,s_b:()=>np,ifc:()=>ot,eFA:()=>_v,G48:()=>Rw,Gpc:()=>Q,X6Q:()=>kw,_c5:()=>YM,VLi:()=>Ow,c2e:()=>lv,zSh:()=>ug,wAp:()=>Kt,vHH:()=>Me,EiD:()=>or,mCW:()=>Qc,qzn:()=>sc,JVY:()=>s0,pB0:()=>Jh,eBb:()=>o0,L6k:()=>Hp,LAX:()=>l_,cg1:()=>eh,Tjo:()=>zM,kL8:()=>cy,yhl:()=>r0,dqk:()=>bn,sIi:()=>pg,CqO:()=>K_,QGY:()=>W_,F4k:()=>LC,RDi:()=>F,AaK:()=>ge,z3N:()=>Wa,qOj:()=>uC,TTD:()=>ll,_Bn:()=>MA,xp6:()=>x0,uIk:()=>dC,ekj:()=>YC,Suo:()=>TI,Xpm:()=>Br,lG2:()=>dn,Yz7:()=>$n,cJS:()=>Xn,oAB:()=>dt,Yjl:()=>vr,Y36:()=>vg,_UZ:()=>$1,qZA:()=>G_,TgZ:()=>wg,EpF:()=>Nf,n5z:()=>_a,Ikx:()=>ly,LFG:()=>Ur,$8M:()=>Xi,NdJ:()=>kf,CRH:()=>Qy,kcU:()=>Zc,O4$:()=>zo,oxw:()=>Gu,ALo:()=>Kb,lcZ:()=>Yb,xi3:()=>Qb,Q6J:()=>Cg,s9C:()=>Qd,MGl:()=>Eg,DdM:()=>$b,VKq:()=>pI,iGM:()=>wI,MAs:()=>_C,CHM:()=>Pn,LSH:()=>zp,kYT:()=>Bt,YNc:()=>gC,_uU:()=>eA,Oqu:()=>JC,hij:()=>Ku,AsE:()=>Cc,Gf:()=>EI});var o=z(9765),W=z(5319),H=z(7574),Ee=z(6682),Ie=z(8819);function fe(i){for(let s in i)if(i[s]===fe)return s;throw Error("Could not find renamed property on target object.")}function Fe(i,s){for(const l in s)s.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=s[l])}function ge(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ge).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function ve(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const K=fe({__forward_ref__:fe});function Q(i){return i.__forward_ref__=Q,i.toString=function(){return ge(this())},i}function re(i){return De(i)?i():i}function De(i){return"function"==typeof i&&i.hasOwnProperty(K)&&i.__forward_ref__===Q}class Me extends Error{constructor(s,l){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,l)),this.code=s}}function ue(i){return"string"==typeof i?i:null==i?"":String(i)}function Pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ue(i)}function O(i,s){const l=s?` in ${s}`:"";throw new Me("201",`No provider for ${Pe(i)} found${l}`)}function Un(i,s){null==i&&function(i,s,l,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${l} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function $n(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Sn(i){return _n(i,Je)||_n(i,yr)}function _n(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ss(i){return i&&(i.hasOwnProperty(Zn)||i.hasOwnProperty(wt))?i[Zn]:null}const Je=fe({\u0275prov:fe}),Zn=fe({\u0275inj:fe}),yr=fe({ngInjectableDef:fe}),wt=fe({ngInjectorDef:fe});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let On;function Mr(i){const s=On;return On=i,s}function Pt(i,s,l){const u=Sn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&at.Optional?null:void 0!==s?s:void O(ge(i),"Injector")}function rn(i){return{toString:i}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),ot=(()=>((ot=ot||{})[ot.Emulated=0]="Emulated",ot[ot.None=2]="None",ot[ot.ShadowDom=3]="ShadowDom",ot))();const St="undefined"!=typeof globalThis&&globalThis,Na="undefined"!=typeof window&&window,er="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bn=St||"undefined"!=typeof global&&global||Na||er,se={},ee=[],oe=fe({\u0275cmp:fe}),Be=fe({\u0275dir:fe}),Ae=fe({\u0275pipe:fe}),yt=fe({\u0275mod:fe}),Vt=fe({\u0275loc:fe}),vn=fe({\u0275fac:fe}),tr=fe({__NG_ELEMENT_ID__:fe});let Lr=0;function Br(i){return rn(()=>{const l={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ee,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ot.Emulated,id:"c",styles:i.styles||ee,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,_=i.pipes;return u.id+=Lr++,u.inputs=wn(i.inputs,l),u.outputs=wn(i.outputs),f&&f.forEach(C=>C(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(le):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(ce):null,u})}function le(i){return lr(i)||function(i){return i[Be]||null}(i)}function ce(i){return function(i){return i[Ae]||null}(i)}const We={};function dt(i){return rn(()=>{const s={type:i.type,bootstrap:i.bootstrap||ee,declarations:i.declarations||ee,imports:i.imports||ee,exports:i.exports||ee,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(We[i.id]=i.type),s})}function Bt(i,s){return rn(()=>{const l=gr(i,!0);l.declarations=s.declarations||ee,l.imports=s.imports||ee,l.exports=s.exports||ee})}function wn(i,s){if(null==i)return se;const l={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),l[d]=u,s&&(s[d]=f)}return l}const dn=Br;function vr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function lr(i){return i[oe]||null}function gr(i,s){const l=i[yt]||null;if(!l&&!0===s)throw new Error(`Type ${ge(i)} does not have '\u0275mod' property.`);return l}function vo(i){return Array.isArray(i)&&"object"==typeof i[1]}function Di(i){return Array.isArray(i)&&!0===i[1]}function Co(i){return 0!=(8&i.flags)}function Ms(i){return 2==(2&i.flags)}function la(i){return 1==(1&i.flags)}function Js(i){return null!==i.template}function ai(i){return 0!=(512&i[2])}function ki(i,s){return i.hasOwnProperty(vn)?i[vn]:null}class bo{constructor(s,l,u){this.previousValue=s,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function ll(){return Fc}function Fc(i){return i.type.prototype.ngOnChanges&&(i.setInput=ua),Wi}function Wi(){const i=bd(this),s=null==i?void 0:i.current;if(s){const l=i.previous;if(l===se)i.previous=s;else for(let u in s)l[u]=s[u];i.current=null,this.ngOnChanges(s)}}function ua(i,s,l,u){const d=bd(i)||function(i,s){return i[Ri]=s}(i,{previous:se,current:null}),f=d.current||(d.current={}),_=d.previous,C=this.declaredInputs[l],E=_[C];f[C]=new bo(E&&E.currentValue,s,_===se),i[u]=s}ll.ngInherit=!0;const Ri="__ngSimpleChanges__";function bd(i){return i[Ri]||null}const I="http://www.w3.org/2000/svg";let R;function F(i){R=i}function J(i){return!!i.listen}const Se={createRenderer:(i,s)=>void 0!==R?R:"undefined"!=typeof document?document:void 0};function ye(i){for(;Array.isArray(i);)i=i[0];return i}function Ht(i,s){return ye(s[i])}function _t(i,s){return ye(s[i.index])}function xr(i,s){return i.data[s]}function Tr(i,s){return i[s]}function gn(i,s){const l=s[i];return vo(l)?l:l[0]}function zt(i){return 4==(4&i[2])}function Yr(i){return 128==(128&i[2])}function Ln(i,s){return null==s?null:i[s]}function Uo(i){i[18]=0}function Xs(i,s){i[5]+=s;let l=i,u=i[3];for(;null!==u&&(1===s&&1===l[5]||-1===s&&0===l[5]);)u[5]+=s,l=u,u=u[3]}const bt={lFrame:Vc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function gi(){return bt.bindingsEnabled}function Ge(){return bt.lFrame.lView}function hn(){return bt.lFrame.tView}function Pn(i){return bt.lFrame.contextLView=i,i[8]}function Fn(){let i=La();for(;null!==i&&64===i.type;)i=i.parent;return i}function La(){return bt.lFrame.currentTNode}function Li(i,s){const l=bt.lFrame;l.currentTNode=i,l.isParent=s}function jo(){return bt.lFrame.isParent}function ql(){return bt.isInCheckNoChangesMode}function Bo(i){bt.isInCheckNoChangesMode=i}function Pr(){const i=bt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Fi(){return bt.lFrame.bindingIndex}function to(){return bt.lFrame.bindingIndex++}function Fr(i){const s=bt.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,l}function ks(i,s){const l=bt.lFrame;l.bindingIndex=l.bindingRootIndex=i,jl(s)}function jl(i){bt.lFrame.currentDirectiveIndex=i}function Bl(){return bt.lFrame.currentQueryIndex}function da(i){bt.lFrame.currentQueryIndex=i}function zn(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Go(i,s,l){if(l&at.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||l&at.Host||(d=zn(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const u=bt.lFrame=Vi();return u.currentTNode=s,u.lView=i,!0}function xi(i){const s=Vi(),l=i[1];bt.lFrame=s,s.currentTNode=l.firstChild,s.lView=i,s.tView=l,s.contextLView=i,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function Vi(){const i=bt.lFrame,s=null===i?null:i.child;return null===s?Vc(i):s}function Vc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Uc(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Hl=Uc;function ha(){const i=Uc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Qr(){return bt.lFrame.selectedIndex}function wo(i){bt.lFrame.selectedIndex=i}function Ar(){const i=bt.lFrame;return xr(i.tView,i.selectedIndex)}function zo(){bt.lFrame.currentNamespace=I}function Zc(){bt.lFrame.currentNamespace=null}function Ua(i,s){for(let l=s.directiveStart,u=s.directiveEnd;l<u;l++){const f=i.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:k}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-l,_),C&&((i.contentHooks||(i.contentHooks=[])).push(l,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(l,C)),E&&(i.viewHooks||(i.viewHooks=[])).push(-l,E),S&&((i.viewHooks||(i.viewHooks=[])).push(l,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(l,S)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(l,k)}}function j(i,s,l){Ze(i,s,3,l)}function te(i,s,l,u){(3&i[2])===l&&Ze(i,s,l,u)}function ae(i,s){let l=i[2];(3&l)===s&&(l&=2047,l+=1,i[2]=l)}function Ze(i,s,l,u){const f=null!=u?u:-1,_=s.length-1;let C=0;for(let E=void 0!==u?65535&i[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(C=s[E],null!=u&&C>=u)break}else s[E]<0&&(i[18]+=65536),(C<f||-1==f)&&(Ce(i,l,s,E),i[18]=(4294901760&i[18])+E+2),E++}function Ce(i,s,l,u){const d=l[u]<0,f=l[u+1],C=i[d?-l[u]:l[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class Qe{constructor(s,l,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Vr(i,s,l){const u=J(i);let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const _=l[d++],C=l[d++],E=l[d++];u?i.setAttribute(s,C,E,_):s.setAttributeNS(_,C,E)}else{const _=f,C=l[++d];Nr(_)?u&&i.setProperty(s,_,C):u?i.setAttribute(s,_,C):s.setAttribute(_,C),d++}}return d}function mi(i){return 3===i||4===i||6===i}function Nr(i){return 64===i.charCodeAt(0)}function hr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let l=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?l=d:0===l||dl(i,l,d,null,-1===l||2===l?s[++u]:null)}}return i}function dl(i,s,l,u,d){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const C=i[f++];if("number"==typeof C){if(C===s){_=-1;break}if(C>s){_=f-1;break}}}for(;f<i.length;){const C=i[f];if("number"==typeof C)break;if(C===l){if(null===u)return void(null!==d&&(i[f+1]=d));if(u===i[f+1])return void(i[f+2]=d)}f++,null!==u&&f++,null!==d&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,l),null!==u&&i.splice(f++,0,u),null!==d&&i.splice(f++,0,d)}function pa(i){return-1!==i}function Ir(i){return 32767&i}function ga(i,s){let l=function(i){return i>>16}(i),u=s;for(;l>0;)u=u[15],l--;return u}let Ed=!0;function Gl(i){const s=Ed;return Ed=i,s}let Fh=0;function Za(i,s){const l=fr(i,s);if(-1!==l)return l;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,qc(u.data,i),qc(s,null),qc(u.blueprint,null));const d=Qi(i,s),f=i.injectorIndex;if(pa(d)){const _=Ir(d),C=ga(d,s),E=C[1].data;for(let S=0;S<8;S++)s[f+S]=C[_+S]|E[_+S]}return s[f+8]=d,f}function qc(i,s){i.push(0,0,0,0,0,0,0,0,s)}function fr(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Qi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,u=null,d=s;for(;null!==d;){const f=d[1],_=f.type;if(u=2===_?f.declTNode:1===_?d[6]:null,null===u)return-1;if(l++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function xe(i,s,l){!function(i,s,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(tr)&&(u=l[tr]),null==u&&(u=l[tr]=Fh++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,l)}function Et(i,s,l){if(l&at.Optional)return i;O(s,"NodeInjector")}function Ji(i,s,l,u){if(l&at.Optional&&void 0===u&&(u=null),0==(l&(at.Self|at.Host))){const d=i[9],f=Mr(void 0);try{return d?d.get(s,u,l&at.Optional):Pt(s,u,l&at.Optional)}finally{Mr(f)}}return Et(u,s,l)}function Eo(i,s,l,u=at.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(tr)?i[tr]:void 0;return"number"==typeof s?s>=0?255&s:Ut:s}(l);if("function"==typeof f){if(!Go(s,i,u))return u&at.Host?Et(d,l,u):Ji(s,l,u,d);try{const _=f(u);if(null!=_||u&at.Optional)return _;O(l)}finally{Hl()}}else if("number"==typeof f){let _=null,C=fr(i,s),E=-1,S=u&at.Host?s[16][6]:null;for((-1===C||u&at.SkipSelf)&&(E=-1===C?Qi(i,s):s[C+8],-1!==E&&Uh(u,!1)?(_=s[1],C=Ir(E),s=ga(E,s)):C=-1);-1!==C;){const k=s[1];if(ma(f,C,k.data)){const q=Mu(C,s,l,_,u,S);if(q!==qa)return q}E=s[C+8],-1!==E&&Uh(u,s[1].data[C+8]===S)&&ma(f,C,s)?(_=k,C=Ir(E),s=ga(E,s)):C=-1}}}return Ji(s,l,u,d)}const qa={};function Ut(){return new ds(Fn(),Ge())}function Mu(i,s,l,u,d,f){const _=s[1],C=_.data[i+8],k=Dr(C,_,l,null==u?Ms(C)&&Ed:u!=_&&0!=(3&C.type),d&at.Host&&f===C);return null!==k?Sr(s,_,k,C):qa}function Dr(i,s,l,u,d){const f=i.providerIndexes,_=s.data,C=1048575&f,E=i.directiveStart,k=f>>20,G=d?C+k:i.directiveEnd;for(let ie=u?C:C+k;ie<G;ie++){const he=_[ie];if(ie<E&&l===he||ie>=E&&he.type===l)return ie}if(d){const ie=_[E];if(ie&&Js(ie)&&ie.type===l)return E}return null}function Sr(i,s,l,u){let d=i[l];const f=s.data;if(function(i){return i instanceof Qe}(d)){const _=d;_.resolving&&function(i,s){throw new Me("200",`Circular dependency in DI detected for ${i}`)}(Pe(f[l]));const C=Gl(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?Mr(_.injectImpl):null;Go(i,u,at.Default);try{d=i[l]=_.factory(void 0,f,i,u),s.firstCreatePass&&l>=u.directiveStart&&function(i,s,l){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(u){const _=Fc(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(i,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-i,d),f&&((l.preOrderHooks||(l.preOrderHooks=[])).push(i,f),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,f))}(l,f[l],s)}finally{null!==E&&Mr(E),Gl(C),_.resolving=!1,Hl()}}return d}function ma(i,s,l){return!!(l[s+(i>>5)]&1<<i)}function Uh(i,s){return!(i&at.Self||i&at.Host&&s)}class ds{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,u){return Eo(this._tNode,this._lView,s,u,l)}}function _a(i){return rn(()=>{const s=i.prototype.constructor,l=s[vn]||ja(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const f=d[vn]||ja(d);if(f&&f!==l)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function ja(i){return De(i)?()=>{const s=ja(re(i));return s&&s()}:ki(i)}function Xi(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const l=i.attrs;if(l){const u=l.length;let d=0;for(;d<u;){const f=l[d];if(mi(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<u&&"string"==typeof l[d];)d++;else{if(f===s)return l[d+1];d+=2}}}return null}(Fn(),i)}const Wo="__parameters__";function hs(i,s,l){return rn(()=>{const u=function(i){return function(...l){if(i){const u=i(...l);for(const d in u)this[d]=u[d]}}}(s);function d(...f){if(this instanceof d)return u.apply(this,f),this;const _=new d(...f);return C.annotation=_,C;function C(E,S,k){const q=E.hasOwnProperty(Wo)?E[Wo]:Object.defineProperty(E,Wo,{value:[]})[Wo];for(;q.length<=k;)q.push(null);return(q[k]=q[k]||[]).push(_),E}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class kr{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=$n({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qh=new kr("AnalyzeForEntryComponents"),Ls=Function;function no(i,s){void 0===s&&(s=i);for(let l=0;l<i.length;l++){let u=i[l];Array.isArray(u)?(s===i&&(s=i.slice(0,l)),no(u,s)):s!==i&&s.push(u)}return s}function Fs(i,s){i.forEach(l=>Array.isArray(l)?Fs(l,s):s(l))}function Hc(i,s,l){s>=i.length?i.push(l):i.splice(s,0,l)}function Vs(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function fs(i,s,l){let u=ps(i,s);return u>=0?i[1|u]=l:(u=~u,function(i,s,l,u){let d=i.length;if(d==s)i.push(l,u);else if(1===d)i.push(u,i[0]),i[0]=l;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=l,i[s+1]=u}}(i,u,s,l)),u}function Gc(i,s){const l=ps(i,s);if(l>=0)return i[1|l]}function ps(i,s){return function(i,s,l){let u=0,d=i.length>>l;for(;d!==u;){const f=u+(d-u>>1),_=i[f<<l];if(s===_)return f<<l;_>s?d=f:u=f+1}return~(d<<l)}(i,s,1)}const Nn={},kn="__NG_DI_FLAG__",Jr="ngTempTokenPath",yi=/\n/gm,Jl="__source",Ko=fe({provide:String,useValue:fe});let Zs;function Ui(i){const s=Zs;return Zs=i,s}function r_(i,s=at.Default){if(void 0===Zs)throw new Error("inject() must be called from an injection context");return null===Zs?Pt(i,void 0,s):Zs.get(i,s&at.Optional?null:void 0,s)}function Ur(i,s=at.Default){return(On||r_)(re(i),s)}function ml(i){const s=[];for(let l=0;l<i.length;l++){const u=re(i[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,f=at.Default;for(let _=0;_<u.length;_++){const C=u[_],E=Bh(C);"number"==typeof E?-1===E?d=C.token:f|=E:d=C}s.push(Ur(d,f))}else s.push(Ur(u))}return s}function Xl(i,s){return i[kn]=s,i.prototype[kn]=s,i}function Bh(i){return i[kn]}function Hh(i,s,l,u){const d=i[Jr];throw s[Jl]&&d.unshift(s[Jl]),i.message=function(i,s,l,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ge(s);if(Array.isArray(s))d=s.map(ge).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let C=s[_];f.push(_+":"+("string"==typeof C?JSON.stringify(C):ge(C)))}d=`{${f.join(", ")}}`}return`${l}${u?"("+u+")":""}[${d}]: ${i.replace(yi,"\n  ")}`}("\n"+i.message,d,l,u),i.ngTokenPath=d,i[Jr]=null,i}const zc=Xl(hs("Inject",i=>({token:i})),-1),Ga=Xl(hs("Optional"),8),za=Xl(hs("SkipSelf"),4);let Pd;function Nd(i){var s;return(null===(s=function(){if(void 0===Pd&&(Pd=null,bn.trustedTypes))try{Pd=bn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Pd}())||void 0===s?void 0:s.createHTML(i))||i}class _l{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qh extends _l{getTypeName(){return"HTML"}}class e0 extends _l{getTypeName(){return"Style"}}class t0 extends _l{getTypeName(){return"Script"}}class a_ extends _l{getTypeName(){return"URL"}}class n0 extends _l{getTypeName(){return"ResourceURL"}}function Wa(i){return i instanceof _l?i.changingThisBreaksApplicationSecurity:i}function sc(i,s){const l=r0(i);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}function r0(i){return i instanceof _l&&i.getTypeName()||null}function s0(i){return new Qh(i)}function Hp(i){return new e0(i)}function o0(i){return new t0(i)}function l_(i){return new a_(i)}function Jh(i){return new n0(i)}class oT{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Nd(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Ld{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Nd(s),l;const u=this.inertDocument.createElement("body");return u.innerHTML=Nd(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const l=s.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const oc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$p=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qc(i){return(i=String(i)).match(oc)||i.match($p)?i:"unsafe:"+i}function Yo(i){const s={};for(const l of i.split(","))s[l]=!0;return s}function ac(...i){const s={};for(const l of i)for(const u in l)l.hasOwnProperty(u)&&(s[u]=!0);return s}const nf=Yo("area,br,col,hr,img,wbr"),Fd=Yo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lc=Yo("rp,rt"),a0=ac(nf,ac(Fd,Yo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ac(lc,Yo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ac(lc,Fd)),w=Yo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),g=Yo("srcset"),L=ac(w,g,Yo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),U=Yo("script,style,template");class pe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!a0.hasOwnProperty(l))return this.sanitizedSomething=!0,!U.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=s.attributes;for(let d=0;d<u.length;d++){const f=u.item(d),_=f.name,C=_.toLowerCase();if(!L.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=f.value;w[C]&&(E=Qc(E)),g[C]&&(i=E,E=(i=String(i)).split(",").map(s=>Qc(s.trim())).join(", ")),this.buf.push(" ",_,'="',lt(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();a0.hasOwnProperty(l)&&!nf.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(lt(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const He=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mt=/([^\#-~ |!])/g;function lt(i){return i.replace(/&/g,"&amp;").replace(He,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(mt,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gt;function or(i,s){let l=null;try{Gt=Gt||function(i){const s=new Ld(i);return function(){try{return!!(new window.DOMParser).parseFromString(Nd(""),"text/html")}catch(i){return!1}}()?new oT(s):s}(i);let u=s?String(s):"";l=Gt.getInertBodyElement(u);let d=5,f=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=f,f=l.innerHTML,l=Gt.getInertBodyElement(u)}while(u!==f);return Nd((new pe).sanitizeChildren(Wn(l)||l))}finally{if(l){const u=Wn(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Wn(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function zp(i){const s=function(){const i=Ge();return i&&i[12]}();return s?s.sanitize(_r.URL,i)||"":sc(i,"URL")?Wa(i):Qc(ue(i))}const cT="__ngContext__";function gs(i,s){i[cT]=s}function c0(i){const s=function(i){return i[cT]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function p_(i){return i.ngOriginalError}function Yx(i,...s){i.error(...s)}class cf{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s),u=this._findContext(s),d=(i=s)&&i.ngErrorLogger||Yx;var i;d(this._console,"ERROR",s),l&&d(this._console,"ORIGINAL ERROR",l),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(p_(s)):null}_findOriginalError(s){let l=s&&p_(s);for(;l&&p_(l);)l=p_(l);return l||null}}const tS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bn))();function yl(i){return i instanceof Function?i():i}var uc=(()=>((uc=uc||{})[uc.Important=1]="Important",uc[uc.DashCase=2]="DashCase",uc))();function m_(i,s){return undefined(i,s)}function eg(i){const s=i[3];return Di(s)?s[3]:s}function bT(i){return wT(i[13])}function df(i){return wT(i[4])}function wT(i){for(;null!==i&&!Di(i);)i=i[4];return i}function Ya(i,s,l,u,d){if(null!=u){let f,_=!1;Di(u)?f=u:vo(u)&&(_=!0,u=u[0]);const C=ye(u);0===i&&null!==l?null==d?ST(s,l,C):Fu(s,l,C,d||null,!0):1===i&&null!==l?Fu(s,l,C,d||null,!0):2===i?function(i,s,l){const u=y_(i,s);u&&function(i,s,l,u){J(i)?i.removeChild(s,l,u):s.removeChild(l)}(i,u,s,l)}(s,C,_):3===i&&s.destroyNode(C),null!=f&&function(i,s,l,u,d){const f=l[7];f!==ye(l)&&Ya(s,i,u,f,d);for(let C=10;C<l.length;C++){const E=l[C];rg(E[1],E,i,s,u,f)}}(s,i,f,l,d)}}function y0(i,s,l){return J(i)?i.createElement(s,l):null===l?i.createElement(s):i.createElementNS(l,s)}function TT(i,s){const l=i[9],u=l.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Xs(d,-1)),l.splice(u,1)}function __(i,s){if(i.length<=10)return;const l=10+s,u=i[l];if(u){const d=u[17];null!==d&&d!==i&&TT(d,u),s>0&&(i[l-1][4]=u[4]);const f=Vs(i,10+s);!function(i,s){rg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function AT(i,s){if(!(256&s[2])){const l=s[11];J(l)&&l.destroyNode&&rg(i,s,l,3,null,null),function(i){let s=i[13];if(!s)return C0(i[1],i);for(;s;){let l=null;if(vo(s))l=s[13];else{const u=s[10];u&&(l=u)}if(!l){for(;s&&!s[4]&&s!==i;)vo(s)&&C0(s[1],s),s=s[3];null===s&&(s=i),vo(s)&&C0(s[1],s),l=s&&s[4]}s=l}}(s)}}function C0(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let u=0;u<l.length;u+=2){const d=s[l[u]];if(!(d instanceof Qe)){const f=l[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const C=d[f[_]],E=f[_+1];try{E.call(C)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const l=i.cleanup,u=s[7];let d=-1;if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const _=l[f+1],C="function"==typeof _?_(s):ye(s[_]),E=u[d=l[f+2]],S=l[f+3];"boolean"==typeof S?C.removeEventListener(l[f],E,S):S>=0?u[d=S]():u[d=-S].unsubscribe(),f+=2}else{const _=u[d=l[f+1]];l[f].call(_)}if(null!==u){for(let f=d+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&J(s[11])&&s[11].destroy();const l=s[17];if(null!==l&&Di(s[3])){l!==s[3]&&TT(l,s);const u=s[19];null!==u&&u.detachView(i)}}}function DT(i,s,l){return function(i,s,l){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return l[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===ot.None||d===ot.Emulated)return null}return _t(u,l)}(i,s.parent,l)}function Fu(i,s,l,u,d){J(i)?i.insertBefore(s,l,u,d):s.insertBefore(l,u,d)}function ST(i,s,l){J(i)?i.appendChild(s,l):s.appendChild(l)}function Vu(i,s,l,u,d){null!==u?Fu(i,s,l,u,d):ST(i,s,l)}function y_(i,s){return J(i)?i.parentNode(s):s.parentNode}let hc=function(i,s,l){return 40&i.type?_t(i,l):null};function ng(i,s,l,u){const d=DT(i,u,s),f=s[11],C=function(i,s,l){return hc(i,s,l)}(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(l))for(let E=0;E<l.length;E++)Vu(f,d,l[E],C,!1);else Vu(f,d,l,C,!1)}function v_(i,s){if(null!==s){const l=s.type;if(3&l)return _t(s,i);if(4&l)return b0(-1,i[s.index]);if(8&l){const u=s.child;if(null!==u)return v_(i,u);{const d=i[s.index];return Di(d)?b0(-1,d):ye(d)}}if(32&l)return m_(s,i)()||ye(i[s.index]);{const u=PT(i,s);return null!==u?Array.isArray(u)?u[0]:v_(eg(i[16]),u):v_(i,s.next)}}return null}function PT(i,s){return null!==s?i[16][6].projection[s.projection]:null}function b0(i,s){const l=10+i+1;if(l<s.length){const u=s[l],d=u[1].firstChild;if(null!==d)return v_(u,d)}return s[7]}function w0(i,s,l,u,d,f,_){for(;null!=l;){const C=u[l.index],E=l.type;if(_&&0===s&&(C&&gs(ye(C),u),l.flags|=4),64!=(64&l.flags))if(8&E)w0(i,s,l.child,u,d,f,!1),Ya(s,i,d,C,f);else if(32&E){const S=m_(l,u);let k;for(;k=S();)Ya(s,i,d,k,f);Ya(s,i,d,C,f)}else 16&E?E0(i,s,u,l,d,f):Ya(s,i,d,C,f);l=_?l.projectionNext:l.next}}function rg(i,s,l,u,d,f){w0(l,u,i.firstChild,s,d,f,!1)}function E0(i,s,l,u,d,f){const _=l[16],E=_[6].projection[u.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)Ya(s,i,d,E[S],f);else w0(i,s,E,_[3],d,f,!0)}function RT(i,s,l){J(i)?i.setAttribute(s,"style",l):s.style.cssText=l}function T0(i,s,l){J(i)?""===l?i.removeAttribute(s,"class"):i.setAttribute(s,"class",l):s.className=l}function A0(i,s,l){let u=i.length;for(;;){const d=i.indexOf(s,l);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===u||i.charCodeAt(d+f)<=32)return d}l=d+1}}const LT="ng-template";function ff(i,s,l){let u=0;for(;u<i.length;){let d=i[u++];if(l&&"class"===d){if(d=i[u],-1!==A0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function I0(i){return 4===i.type&&i.value!==LT}function D0(i,s,l){return s===(4!==i.type||l?i.value:LT)}function fS(i,s,l){let u=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(mi(i[s]))return s;return i.length}(d);let _=!1;for(let C=0;C<s.length;C++){const E=s[C];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!D0(i,E,l)||""===E&&1===s.length){if(vl(u))return!1;_=!0}}else{const S=8&u?E:s[++C];if(8&u&&null!==i.attrs){if(!ff(i.attrs,S,l)){if(vl(u))return!1;_=!0}continue}const q=pS(8&u?"class":E,d,I0(i),l);if(-1===q){if(vl(u))return!1;_=!0;continue}if(""!==S){let G;G=q>f?"":d[q+1].toLowerCase();const ie=8&u?G:null;if(ie&&-1!==A0(ie,S,0)||2&u&&S!==G){if(vl(u))return!1;_=!0}}}}else{if(!_&&!vl(u)&&!vl(E))return!1;if(_&&vl(E))continue;_=!1,u=E|1&u}}return vl(u)||_}function vl(i){return 0==(1&i)}function pS(i,s,l,u){if(null===s)return-1;let d=0;if(u||!l){let f=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const u=i[l];if("number"==typeof u)return-1;if(u===s)return l;l++}return-1}(s,i)}function Cl(i,s,l=!1){for(let u=0;u<s.length;u++)if(fS(i,s[u],l))return!0;return!1}function ms(i,s){return i?":not("+s.trim()+")":s}function fc(i){let s=i[0],l=1,u=2,d="",f=!1;for(;l<i.length;){let _=i[l];if("string"==typeof _)if(2&u){const C=i[++l];d+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!vl(_)&&(s+=ms(f,d),d=""),u=_,f=f||!vl(u);l++}return""!==d&&(s+=ms(f,d)),s}const mn={};function x0(i){ZT(hn(),Ge(),Qr()+i,ql())}function ZT(i,s,l,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&j(s,f,l)}else{const f=i.preOrderHooks;null!==f&&te(s,f,0,l)}wo(l)}function ig(i,s){return i<<17|s<<2}function bl(i){return i>>17&32767}function pf(i){return 2|i}function Ao(i){return(131068&i)>>2}function Vn(i,s){return-131069&i|s<<2}function O0(i){return 1|i}function F0(i,s){const l=i.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const d=l[u],f=l[u+1];if(-1!==f){const _=i.data[f];da(d),_.contentQueries(2,s[f],f)}}}function sg(i,s,l,u,d,f,_,C,E,S){const k=s.blueprint.slice();return k[0]=d,k[2]=140|u,Uo(k),k[3]=k[15]=i,k[8]=l,k[10]=_||i&&i[10],k[11]=C||i&&i[11],k[12]=E||i&&i[12]||null,k[9]=S||i&&i[9]||null,k[6]=f,k[16]=2==s.type?i[16]:k,k}function Xc(i,s,l,u,d){let f=i.data[s];if(null===f)f=function(i,s,l,u,d){const f=La(),_=jo(),E=i.data[s]=function(i,s,l,u,d,f){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,l,s,u,d);return null===i.firstChild&&(i.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(i,s,l,u,d),bt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=l,f.value=u,f.attrs=d;const _=function(){const i=bt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Li(f,!0),f}function Zu(i,s,l,u){if(0===l)return-1;const d=s.length;for(let f=0;f<l;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function yf(i,s,l){xi(s);try{const u=i.viewQuery;null!==u&&K0(1,u,l);const d=i.template;null!==d&&D_(i,s,d,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&F0(i,s),i.staticViewQueries&&K0(2,i.viewQuery,l);const f=i.components;null!==f&&function(i,s){for(let l=0;l<s.length;l++)kS(i,s[l])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,ha()}}function $d(i,s,l,u){const d=s[2];if(256==(256&d))return;xi(s);const f=ql();try{Uo(s),function(i){bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&D_(i,s,l,2,u);const _=3==(3&d);if(!f)if(_){const S=i.preOrderCheckHooks;null!==S&&j(s,S,null)}else{const S=i.preOrderHooks;null!==S&&te(s,S,0,null),ae(s,0)}if(function(i){for(let s=bT(i);null!==s;s=df(s)){if(!s[2])continue;const l=s[9];for(let u=0;u<l.length;u++){const d=l[u],f=d[3];0==(1024&d[2])&&Xs(f,1),d[2]|=1024}}}(s),function(i){for(let s=bT(i);null!==s;s=df(s))for(let l=10;l<s.length;l++){const u=s[l],d=u[1];Yr(u)&&$d(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&F0(i,s),!f)if(_){const S=i.contentCheckHooks;null!==S&&j(s,S)}else{const S=i.contentHooks;null!==S&&te(s,S,1),ae(s,1)}!function(i,s){const l=i.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const d=l[u];if(d<0)wo(~d);else{const f=d,_=l[++u],C=l[++u];ks(_,f),C(2,s[f])}}}finally{wo(-1)}}(i,s);const C=i.components;null!==C&&function(i,s){for(let l=0;l<s.length;l++)O_(i,s[l])}(s,C);const E=i.viewQuery;if(null!==E&&K0(2,E,u),!f)if(_){const S=i.viewCheckHooks;null!==S&&j(s,S)}else{const S=i.viewHooks;null!==S&&te(s,S,2),ae(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Xs(s[3],-1))}finally{ha()}}function TS(i,s,l,u){const d=s[10],f=!ql(),_=zt(s);try{f&&!_&&d.begin&&d.begin(),_&&yf(i,s,u),$d(i,s,l,u)}finally{f&&!_&&d.end&&d.end()}}function D_(i,s,l,u,d){const f=Qr(),_=2&u;try{wo(-1),_&&s.length>20&&ZT(i,s,20,ql()),l(u,d)}finally{wo(f)}}function V0(i,s,l){!gi()||(function(i,s,l,u){const d=l.directiveStart,f=l.directiveEnd;i.firstCreatePass||Za(l,s),gs(u,s);const _=l.initialInputs;for(let C=d;C<f;C++){const E=i.data[C],S=Js(E);S&&MS(s,l,E);const k=Sr(s,i,C,l);gs(k,s),null!==_&&PS(0,C-d,k,E,0,_),S&&(gn(l.index,s)[8]=k)}}(i,s,l,_t(l,s)),128==(128&l.flags)&&function(i,s,l){const u=l.directiveStart,d=l.directiveEnd,_=l.index,C=bt.lFrame.currentDirectiveIndex;try{wo(_);for(let E=u;E<d;E++){const S=i.data[E],k=s[E];jl(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&i1(S,k)}}finally{wo(-1),jl(C)}}(i,s,l))}function U0(i,s,l=_t){const u=s.localNames;if(null!==u){let d=s.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],C=-1===_?l(s,i):i[_];i[d++]=C}}}function Z0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Gd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Gd(i,s,l,u,d,f,_,C,E,S){const k=20+u,q=k+d,G=function(i,s){const l=[];for(let u=0;u<s;u++)l.push(u<i?null:mn);return l}(k,q),ie="function"==typeof S?S():S;return G[1]={type:i,blueprint:G,template:l,queries:null,viewQuery:C,declTNode:s,data:G.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:ie,incompleteFirstPass:!1}}function j0(i,s,l,u){const d=bf(s);null===l?d.push(u):(d.push(l),i.firstCreatePass&&l1(i).push(u,d.length-1))}function XT(i,s,l){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(s,d):l[u]=[s,d]}return l}function Io(i,s,l,u,d,f,_,C){const E=_t(s,l);let k,S=s.inputs;!C&&null!=S&&(k=S[u])?(u1(i,l,k,u,d),Ms(s)&&function(i,s){const l=gn(s,i);16&l[2]||(l[2]|=64)}(l,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=_?_(d,s.value||"",u):d,J(f)?f.setProperty(E,u,d):Nr(u)||(E.setProperty?E.setProperty(u,d):E[u]=d))}function zd(i,s,l,u){let d=!1;if(gi()){const f=function(i,s,l){const u=i.directiveRegistry;let d=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];Cl(l,_.selectors,!1)&&(d||(d=[]),xe(Za(l,s),i,_.type),Js(_)?(wa(i,l),d.unshift(_)):d.push(_))}return d}(i,s,l),_=null===u?null:{"":-1};if(null!==f){d=!0,og(l,i.data.length,f.length);for(let k=0;k<f.length;k++){const q=f[k];q.providersResolver&&q.providersResolver(q)}let C=!1,E=!1,S=Zu(i,s,f.length,null);for(let k=0;k<f.length;k++){const q=f[k];l.mergedAttrs=hr(l.mergedAttrs,q.hostAttrs),ag(i,l,s,S,q),o1(S,q,_),null!==q.contentQueries&&(l.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(l.flags|=128);const G=q.type.prototype;!C&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(l.index),C=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(l.index),E=!0),S++}!function(i,s){const u=s.directiveEnd,d=i.data,f=s.attrs,_=[];let C=null,E=null;for(let S=s.directiveStart;S<u;S++){const k=d[S],q=k.inputs,G=null===f||I0(s)?null:S_(q,f);_.push(G),C=XT(q,S,C),E=XT(k.outputs,S,E)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=C,s.outputs=E}(i,l)}_&&function(i,s,l){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=l[s[d+1]];if(null==f)throw new Me("301",`Export of name '${s[d+1]}' not found!`);u.push(s[d],f)}}}(l,u,_)}return l.mergedAttrs=hr(l.mergedAttrs,l.attrs),d}function Cf(i,s,l,u,d,f){const _=f.hostBindings;if(_){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const l=i[--s];if("number"==typeof l&&l<0)return l}return 0})(C)!=E&&C.push(E),C.push(u,d,_)}}function i1(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function wa(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function o1(i,s,l){if(l){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)l[s.exportAs[u]]=i;Js(s)&&(l[""]=i)}}function og(i,s,l){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+l,i.providerIndexes=s}function ag(i,s,l,u,d){i.data[u]=d;const f=d.factory||(d.factory=ki(d.type)),_=new Qe(f,Js(d),null);i.blueprint[u]=_,l[u]=_,Cf(i,s,0,u,Zu(i,l,d.hostVars,mn),d)}function MS(i,s,l){const u=_t(s,i),d=Z0(l),f=i[10],_=P_(i,sg(i,d,null,l.onPush?64:16,u,s,f,f.createRenderer(u,l),null,null));i[s.index]=_}function _c(i,s,l,u,d,f){const _=_t(i,s);!function(i,s,l,u,d,f,_){if(null==f)J(i)?i.removeAttribute(s,d,l):s.removeAttribute(d);else{const C=null==_?ue(f):_(f,u||"",d);J(i)?i.setAttribute(s,d,C,l):l?s.setAttributeNS(l,d,C):s.setAttribute(d,C)}}(s[11],_,f,i.value,l,u,d)}function PS(i,s,l,u,d,f){const _=f[s];if(null!==_){const C=u.setInput;for(let E=0;E<_.length;){const S=_[E++],k=_[E++],q=_[E++];null!==C?u.setInput(l,q,S,k):l[k]=q}}}function S_(i,s){let l=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return l}function $0(i,s,l,u){return new Array(i,!0,!1,s,null,0,u,l,null,null)}function O_(i,s){const l=gn(s,i);if(Yr(l)){const u=l[1];80&l[2]?$d(u,l,u.template,l[8]):l[5]>0&&M_(l)}}function M_(i){for(let u=bT(i);null!==u;u=df(u))for(let d=10;d<u.length;d++){const f=u[d];if(1024&f[2]){const _=f[1];$d(_,f,_.template,f[8])}else f[5]>0&&M_(f)}const l=i[1].components;if(null!==l)for(let u=0;u<l.length;u++){const d=gn(l[u],i);Yr(d)&&d[5]>0&&M_(d)}}function kS(i,s){const l=gn(s,i),u=l[1];(function(i,s){for(let l=s.length;l<i.blueprint.length;l++)s.push(i.blueprint[l])})(u,l),yf(u,l,l[8])}function P_(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function G0(i){for(;i;){i[2]|=64;const s=eg(i);if(ai(i)&&!s)return i;i=s}return null}function z0(i,s,l){const u=s[10];u.begin&&u.begin();try{$d(i,s,i.template,l)}catch(d){throw wf(s,d),d}finally{u.end&&u.end()}}function W0(i){!function(i){for(let s=0;s<i.components.length;s++){const l=i.components[s],u=c0(l),d=u[1];TS(d,u,d.template,l)}}(i[8])}function K0(i,s,l){da(0),s(i,l)}const VS=(()=>Promise.resolve(null))();function bf(i){return i[7]||(i[7]=[])}function l1(i){return i.cleanup||(i.cleanup=[])}function wf(i,s){const l=i[9],u=l?l.get(cf,null):null;u&&u.handleError(s)}function u1(i,s,l,u,d){for(let f=0;f<l.length;){const _=l[f++],C=l[f++],E=s[_],S=i.data[_];null!==S.setInput?S.setInput(E,d,u,C):E[C]=d}}function eu(i,s,l){const u=Ht(s,i);!function(i,s,l){J(i)?i.setValue(s,l):s.textContent=l}(i[11],u,l)}function k_(i,s,l){let u=l?i.styles:null,d=l?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const C=s[_];"number"==typeof C?f=C:1==f?d=ve(d,C):2==f&&(u=ve(u,C+": "+s[++_]+";"))}l?i.styles=u:i.stylesWithoutHost=u,l?i.classes=d:i.classesWithoutHost=d}const Ef=new kr("INJECTOR",-1);class d1{get(s,l=Nn){if(l===Nn){const u=new Error(`NullInjectorError: No provider for ${ge(s)}!`);throw u.name="NullInjectorError",u}return l}}const ug=new kr("Set Injector scope."),Tf={},qS={};let Q0;function h1(){return void 0===Q0&&(Q0=new d1),Q0}function f1(i,s=null,l=null,u){return new p1(i,l,s||h1(),u)}class p1{constructor(s,l,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];l&&Fs(l,C=>this.processProvider(C,s,l)),Fs([s],C=>this.processInjectorType(C,[],f)),this.records.set(Ef,Wd(void 0,this));const _=this.records.get(ug);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:ge(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,l=Nn,u=at.Default){this.assertNotDestroyed();const d=Ui(this),f=Mr(void 0);try{if(!(u&at.SkipSelf)){let C=this.records.get(s);if(void 0===C){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof kr)&&Sn(s);C=E&&this.injectableDefInScope(E)?Wd(g1(s),Tf):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&at.Self?h1():this.parent).get(s,l=u&at.Optional&&l===Nn?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[Jr]=_[Jr]||[]).unshift(ge(s)),d)throw _;return Hh(_,s,"R3InjectorError",this.source)}throw _}finally{Mr(f),Ui(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(ge(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,l,u){if(!(s=re(s)))return!1;let d=Ss(s);const f=null==d&&s.ngModule||void 0,_=void 0===f?s:f,C=-1!==u.indexOf(_);if(void 0!==f&&(d=Ss(f)),null==d)return!1;if(null!=d.imports&&!C){let k;u.push(_);try{Fs(d.imports,q=>{this.processInjectorType(q,l,u)&&(void 0===k&&(k=[]),k.push(q))})}finally{}if(void 0!==k)for(let q=0;q<k.length;q++){const{ngModule:G,providers:ie}=k[q];Fs(ie,he=>this.processProvider(he,G,ie||ee))}}this.injectorDefTypes.add(_);const E=ki(_)||(()=>new _);this.records.set(_,Wd(E,Tf));const S=d.providers;if(null!=S&&!C){const k=s;Fs(S,q=>this.processProvider(q,k,S))}return void 0!==f&&void 0!==s.providers}processProvider(s,l,u){let d=Af(s=re(s))?s:re(s&&s.provide);const f=y1(i=s)?Wd(void 0,i.useValue):Wd(J0(i),Tf);var i;if(Af(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Wd(void 0,Tf,!0),_.factory=()=>ml(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,f)}hydrate(s,l){return l.value===Tf&&(l.value=qS,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(i=l.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const l=re(s.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function g1(i){const s=Sn(i),l=null!==s?s.factory:ki(i);if(null!==l)return l;if(i instanceof kr)throw new Error(`Token ${ge(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const l=[];for(let u=0;u<i;u++)l.push(s);return l}(s,"?");throw new Error(`Can't resolve all parameters for ${ge(i)}: (${u.join(", ")}).`)}const l=function(i){const s=i&&(i[Je]||i[yr]);if(s){const l=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new Error("unreachable")}function J0(i,s,l){let u;if(Af(i)){const d=re(i);return ki(d)||g1(d)}if(y1(i))u=()=>re(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...ml(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>Ur(re(i.useExisting));else{const d=re(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return ki(d)||g1(d);u=()=>new d(...ml(i.deps))}return u}function Wd(i,s,l=!1){return{factory:i,value:s,multi:l?[]:void 0}}function y1(i){return null!==i&&"object"==typeof i&&Ko in i}function Af(i){return"function"==typeof i}const tC=function(i,s,l){return function(i,s=null,l=null,u){const d=f1(i,s,l,u);return d._resolveInjectorDefTypes(),d}({name:l},s,i,l)};let Xr=(()=>{class i{static create(l,u){return Array.isArray(l)?tC(l,u,""):tC(l.providers,l.parent,l.name||"")}}return i.THROW_IF_NOT_FOUND=Nn,i.NULL=new d1,i.\u0275prov=$n({token:i,providedIn:"any",factory:()=>Ur(Ef)}),i.__NG_ELEMENT_ID__=-1,i})();function x1(i,s){Ua(c0(i)[1],Fn())}function uC(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const u=[i];for(;s;){let d;if(Js(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(l){u.push(d);const _=i;_.inputs=F_(i.inputs),_.declaredInputs=F_(i.declaredInputs),_.outputs=F_(i.outputs);const C=d.hostBindings;C&&Do(i,C);const E=d.viewQuery,S=d.contentQueries;if(E&&iO(i,E),S&&sO(i,S),Fe(i.inputs,d.inputs),Fe(i.declaredInputs,d.declaredInputs),Fe(i.outputs,d.outputs),Js(d)&&d.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const C=f[_];C&&C.ngInherit&&C(i),C===uC&&(l=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,l=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=hr(d.hostAttrs,l=hr(l,d.hostAttrs))}}(u)}function F_(i){return i===se?{}:i===ee?[]:i}function iO(i,s){const l=i.viewQuery;i.viewQuery=l?(u,d)=>{s(u,d),l(u,d)}:s}function sO(i,s){const l=i.contentQueries;i.contentQueries=l?(u,d,f)=>{s(u,d,f),l(u,d,f)}:s}function Do(i,s){const l=i.hostBindings;i.hostBindings=l?(u,d)=>{s(u,d),l(u,d)}:s}let Qo=null;function Jo(){if(!Qo){const i=bn.Symbol;if(i&&i.iterator)Qo=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const u=s[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Qo=u)}}}return Qo}class ${constructor(s){this.wrapped=s}static wrap(s){return new $(s)}static unwrap(s){return $.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof $}}function pg(i){return!!gg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Jo()in i)}function gg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Wt(i,s,l){return i[s]=l}function ys(i,s,l){return!Object.is(i[s],l)&&(i[s]=l,!0)}function El(i,s,l,u){const d=ys(i,s,l);return ys(i,s+1,u)||d}function dC(i,s,l,u){const d=Ge();return ys(d,to(),s)&&(hn(),_c(Ar(),d,i,s,l,u)),dC}function xf(i,s,l,u){return ys(i,to(),l)?s+ue(l)+u:mn}function gC(i,s,l,u,d,f,_,C){const E=Ge(),S=hn(),k=i+20,q=S.firstCreatePass?function(i,s,l,u,d,f,_,C,E){const S=s.consts,k=Xc(s,i,4,_||null,Ln(S,C));zd(s,l,k,Ln(S,E)),Ua(s,k);const q=k.tViews=Gd(2,k,u,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,k),q.queries=s.queries.embeddedTView(k)),k}(k,S,E,s,l,u,d,f,_):S.data[k];Li(q,!1);const G=E[11].createComment("");ng(S,E,G,q),gs(G,E),P_(E,E[k]=$0(G,E,G,q)),la(q)&&V0(S,E,q),null!=_&&U0(E,q,C)}function _C(i){return Tr(bt.lFrame.contextLView,20+i)}function vg(i,s=at.Default){const l=Ge();return null===l?Ur(i,s):Eo(Fn(),l,re(i),s)}function Cg(i,s,l){const u=Ge();return ys(u,to(),s)&&Io(hn(),Ar(),u,i,s,u[11],l,!1),Cg}function bg(i,s,l,u,d){const _=d?"class":"style";u1(i,l,s.inputs[_],_,u)}function wg(i,s,l,u){const d=Ge(),f=hn(),_=20+i,C=d[11],E=d[_]=y0(C,s,bt.lFrame.currentNamespace),S=f.firstCreatePass?function(i,s,l,u,d,f,_){const C=s.consts,S=Xc(s,i,2,d,Ln(C,f));return zd(s,l,S,Ln(C,_)),null!==S.attrs&&k_(S,S.attrs,!1),null!==S.mergedAttrs&&k_(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(_,f,d,0,s,l,u):f.data[_];Li(S,!0);const k=S.mergedAttrs;null!==k&&Vr(C,E,k);const q=S.classes;null!==q&&T0(C,E,q);const G=S.styles;null!==G&&RT(C,E,G),64!=(64&S.flags)&&ng(f,d,E,S),0===bt.lFrame.elementDepthCount&&gs(E,d),bt.lFrame.elementDepthCount++,la(S)&&(V0(f,d,S),function(i,s,l){if(Co(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,l[f],f)}}}(f,S,d)),null!==u&&U0(d,S)}function G_(){let i=Fn();jo()?bt.lFrame.isParent=!1:(i=i.parent,Li(i,!1));const s=i;bt.lFrame.elementDepthCount--;const l=hn();l.firstCreatePass&&(Ua(l,i),Co(i)&&l.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&bg(l,s,Ge(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&bg(l,s,Ge(),s.stylesWithoutHost,!1)}function $1(i,s,l,u){wg(i,s,l,u),G_()}function Nf(){return Ge()}function W_(i){return!!i&&"function"==typeof i.then}function LC(i){return!!i&&"function"==typeof i.subscribe}const K_=LC;function kf(i,s,l,u){const d=Ge(),f=hn(),_=Fn();return function(i,s,l,u,d,f,_,C){const E=la(u),k=i.firstCreatePass&&l1(i),q=s[8],G=bf(s);let ie=!0;if(3&u.type||C){const Te=_t(u,s),it=C?C(Te):Te,ze=G.length,Lt=C?Dt=>C(ye(Dt[u.index])):u.index;if(J(l)){let Dt=null;if(!C&&E&&(Dt=function(i,s,l,u){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===l&&d[f+1]===u){const C=s[7],E=d[f+2];return C.length>E?C[E]:null}"string"==typeof _&&(f+=2)}return null}(i,s,d,u.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=f,Dt.__ngLastListenerFn__=f,ie=!1;else{f=FC(u,s,q,f,!1);const pn=l.listen(it,d,f);G.push(f,pn),k&&k.push(d,Lt,ze,ze+1)}}else f=FC(u,s,q,f,!0),it.addEventListener(d,f,_),G.push(f),k&&k.push(d,Lt,ze,_)}else f=FC(u,s,q,f,!1);const he=u.outputs;let Re;if(ie&&null!==he&&(Re=he[d])){const Te=Re.length;if(Te)for(let it=0;it<Te;it+=2){const Ei=s[Re[it]][Re[it+1]].subscribe(f),sa=G.length;G.push(f,Ei),k&&k.push(d,u.index,sa,-(sa+1))}}}(f,d,d[11],_,i,s,!!l,u),kf}function z1(i,s,l,u){try{return!1!==l(u)}catch(d){return wf(i,d),!1}}function FC(i,s,l,u,d){return function f(_){if(_===Function)return u;const C=2&i.flags?gn(i.index,s):s;0==(32&s[2])&&G0(C);let E=z1(s,0,u,_),S=f.__ngNextListenerFn__;for(;S;)E=z1(s,0,S,_)&&E,S=S.__ngNextListenerFn__;return d&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function Gu(i=1){return function(i){return(bt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,bt.lFrame.contextLView))[8]}(i)}function Qd(i,s,l){return Eg(i,"",s,"",l),Qd}function Eg(i,s,l,u,d){const f=Ge(),_=xf(f,s,l,u);return _!==mn&&Io(hn(),Ar(),f,i,_,f[11],d,!1),Eg}function X_(i,s,l,u,d){const f=i[l+1],_=null===s;let C=u?bl(f):Ao(f),E=!1;for(;0!==C&&(!1===E||_);){const k=i[C+1];ey(i[C],s)&&(E=!0,i[C+1]=u?O0(k):pf(k)),C=u?bl(k):Ao(k)}E&&(i[l+1]=u?pf(f):O0(f))}function ey(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ps(i,s)>=0}function YC(i,s){return function(i,s,l,u){const d=Ge(),f=hn(),_=Fr(2);f.firstUpdatePass&&function(i,s,l,u){const d=i.data;if(null===d[l+1]){const f=d[Qr()],_=function(i,s){return s>=i.expandoStartIndex}(i,l);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,u)&&null===s&&!_&&(s=!1),s=function(i,s,l,u){const d=function(i){const s=bt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(l=Wu(l=Zr(null,i,s,l,u),s.attrs,u),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(l=Zr(d,i,s,l,u),null===f){let E=function(i,s,l){const u=l?s.classBindings:s.styleBindings;if(0!==Ao(u))return i[bl(u)]}(i,s,u);void 0!==E&&Array.isArray(E)&&(E=Zr(null,i,s,E[1],u),E=Wu(E,s.attrs,u),function(i,s,l,u){i[bl(l?s.classBindings:s.styleBindings)]=u}(i,s,u,E))}else f=function(i,s,l){let u;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)u=Wu(u,i[f].hostAttrs,l);return Wu(u,s.attrs,l)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),l}(d,f,s,u),function(i,s,l,u,d,f){let _=f?s.classBindings:s.styleBindings,C=bl(_),E=Ao(_);i[u]=l;let k,S=!1;if(Array.isArray(l)){const q=l;k=q[1],(null===k||ps(q,k)>0)&&(S=!0)}else k=l;if(d)if(0!==E){const G=bl(i[C+1]);i[u+1]=ig(G,C),0!==G&&(i[G+1]=Vn(i[G+1],u)),i[C+1]=function(i,s){return 131071&i|s<<17}(i[C+1],u)}else i[u+1]=ig(C,0),0!==C&&(i[C+1]=Vn(i[C+1],u)),C=u;else i[u+1]=ig(E,0),0===C?C=u:i[E+1]=Vn(i[E+1],u),E=u;S&&(i[u+1]=pf(i[u+1])),X_(i,k,u,!0),X_(i,k,u,!1),function(i,s,l,u,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ps(f,s)>=0&&(l[u+1]=O0(l[u+1]))}(s,k,i,u,f),_=ig(C,E),f?s.classBindings=_:s.styleBindings=_}(d,f,s,l,_,u)}}(f,i,_,u),s!==mn&&ys(d,_,s)&&function(i,s,l,u,d,f,_,C){if(!(3&s.type))return;const E=i.data,S=E[C+1];xg(function(i){return 1==(1&i)}(S)?J1(E,s,l,d,Ao(S),_):void 0)||(xg(f)||function(i){return 2==(2&i)}(S)&&(f=J1(E,null,l,d,C,_)),function(i,s,l,u,d){const f=J(i);if(s)d?f?i.addClass(l,u):l.classList.add(u):f?i.removeClass(l,u):l.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:uc.DashCase;if(null==d)f?i.removeStyle(l,u,_):l.style.removeProperty(u);else{const C="string"==typeof d&&d.endsWith("!important");C&&(d=d.slice(0,-10),_|=uc.Important),f?i.setStyle(l,u,d,_):l.style.setProperty(u,d,C?"important":"")}}}(u,_,Ht(Qr(),l),d,f))}(f,f.data[Qr()],d,d[11],i,d[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ge(Wa(i)))),i}(s,l),u,_)}(i,s,null,!0),YC}function Zr(i,s,l,u,d){let f=null;const _=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<_&&(f=s[C],u=Wu(u,f.hostAttrs,d),f!==i);)C++;return null!==i&&(l.directiveStylingLast=C),u}function Wu(i,s,l){const u=l?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),fs(i,_,!!l||s[++f]))}return void 0===i?null:i}function J1(i,s,l,u,d,f){const _=null===s;let C;for(;d>0;){const E=i[d],S=Array.isArray(E),k=S?E[1]:E,q=null===k;let G=l[d+1];G===mn&&(G=q?ee:void 0);let ie=q?Gc(G,u):k===u?G:void 0;if(S&&!xg(ie)&&(ie=Gc(E,u)),xg(ie)&&(C=ie,_))return C;const he=i[d+1];d=_?bl(he):Ao(he)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(C=Gc(E,u))}return C}function xg(i){return void 0!==i}function eA(i,s=""){const l=Ge(),u=hn(),d=i+20,f=u.firstCreatePass?Xc(u,d,1,s,null):u.data[d],_=l[d]=function(i,s){return J(i)?i.createText(s):i.createTextNode(s)}(l[11],s);ng(u,l,_,f),Li(f,!1)}function JC(i){return Ku("",i,""),JC}function Ku(i,s,l){const u=Ge(),d=xf(u,i,s,l);return d!==mn&&eu(u,Qr(),d),Ku}function Cc(i,s,l,u,d){const f=Ge(),_=function(i,s,l,u,d,f){const C=El(i,Fi(),l,d);return Fr(2),C?s+ue(l)+u+ue(d)+f:mn}(f,i,s,l,u,d);return _!==mn&&eu(f,Qr(),_),Cc}function ly(i,s,l){const u=Ge();return ys(u,to(),s)&&Io(hn(),Ar(),u,i,s,u[11],l,!0),ly}const Yu=void 0;var fA=["en",[["a","p"],["AM","PM"],Yu],[["AM","PM"],Yu,Yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yu,"{1} 'at' {0}",Yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Zf={};function eh(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=Ng(s);if(l)return l;const u=s.split("-")[0];if(l=Ng(u),l)return l;if("en"===u)return fA;throw new Error(`Missing locale data for the locale "${i}".`)}function cy(i){return eh(i)[Kt.PluralCase]}function Ng(i){return i in Zf||(Zf[i]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[i]),Zf[i]}var Kt=(()=>((Kt=Kt||{})[Kt.LocaleId=0]="LocaleId",Kt[Kt.DayPeriodsFormat=1]="DayPeriodsFormat",Kt[Kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Kt[Kt.DaysFormat=3]="DaysFormat",Kt[Kt.DaysStandalone=4]="DaysStandalone",Kt[Kt.MonthsFormat=5]="MonthsFormat",Kt[Kt.MonthsStandalone=6]="MonthsStandalone",Kt[Kt.Eras=7]="Eras",Kt[Kt.FirstDayOfWeek=8]="FirstDayOfWeek",Kt[Kt.WeekendRange=9]="WeekendRange",Kt[Kt.DateFormat=10]="DateFormat",Kt[Kt.TimeFormat=11]="TimeFormat",Kt[Kt.DateTimeFormat=12]="DateTimeFormat",Kt[Kt.NumberSymbols=13]="NumberSymbols",Kt[Kt.NumberFormats=14]="NumberFormats",Kt[Kt.CurrencyCode=15]="CurrencyCode",Kt[Kt.CurrencySymbol=16]="CurrencySymbol",Kt[Kt.CurrencyName=17]="CurrencyName",Kt[Kt.Currencies=18]="Currencies",Kt[Kt.Directionality=19]="Directionality",Kt[Kt.PluralCase=20]="PluralCase",Kt[Kt.ExtraData=21]="ExtraData",Kt))();const Qu="en-US";let Rg=Qu;function dy(i){Un(i,"Expected localeId to be defined"),"string"==typeof i&&(Rg=i.toLowerCase().replace(/_/g,"-"))}function qg(i,s,l,u,d){if(i=re(i),Array.isArray(i))for(let f=0;f<i.length;f++)qg(i[f],s,l,u,d);else{const f=hn(),_=Ge();let C=Af(i)?i:re(i.provide),E=J0(i);const S=Fn(),k=1048575&S.providerIndexes,q=S.directiveStart,G=S.providerIndexes>>20;if(Af(i)||!i.multi){const ie=new Qe(E,d,vg),he=Gf(C,s,d?k:k+G,q);-1===he?(xe(Za(S,_),f,C),vy(f,i,s.length),s.push(C),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),l.push(ie),_.push(ie)):(l[he]=ie,_[he]=ie)}else{const ie=Gf(C,s,k+G,q),he=Gf(C,s,k,k+G),Re=ie>=0&&l[ie],Te=he>=0&&l[he];if(d&&!Te||!d&&!Re){xe(Za(S,_),f,C);const it=function(i,s,l,u,d){const f=new Qe(i,l,vg);return f.multi=[],f.index=s,f.componentProviders=0,vb(f,d,u&&!l),f}(d?lo:jg,l.length,d,u,E);!d&&Te&&(l[he].providerFactory=it),vy(f,i,s.length,0),s.push(C),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),l.push(it),_.push(it)}else vy(f,i,ie>-1?ie:he,vb(l[d?he:ie],E,!d&&u));!d&&u&&Te&&l[he].componentProviders++}}}function vy(i,s,l,u){const d=Af(s);if(d||function(i){return!!i.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const C=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=C.indexOf(l);-1===E?C.push(l,[u,_]):C[E+1].push(u,_)}else C.push(l,_)}}}function vb(i,s,l){return l&&i.componentProviders++,i.multi.push(s)-1}function Gf(i,s,l,u){for(let d=l;d<u;d++)if(s[d]===i)return d;return-1}function jg(i,s,l,u){return Cy(this.multi,[])}function lo(i,s,l,u){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=Sr(l,l[1],this.providerFactory.index,u);f=C.slice(0,_),Cy(d,f);for(let E=_;E<C.length;E++)f.push(C[E])}else f=[],Cy(d,f);return f}function Cy(i,s){for(let l=0;l<i.length;l++)s.push((0,i[l])());return s}function MA(i,s=[]){return l=>{l.providersResolver=(u,d)=>function(i,s,l){const u=hn();if(u.firstCreatePass){const d=Js(i);qg(l,u.data,u.blueprint,d,!0),qg(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class zf{}const Bg="ngComponent";class xo{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ge(i)}. Did you add it to @NgModule.entryComponents?`);return s[Bg]=i,s}(s)}}let Wf=(()=>{class i{}return i.NULL=new xo,i})();function by(...i){}function Kf(i,s){return new ea(_t(i,s))}const ZO=function(){return Kf(Fn(),Ge())};let ea=(()=>{class i{constructor(l){this.nativeElement=l}}return i.__NG_ELEMENT_ID__=ZO,i})();function Hg(i){return i instanceof ea?i.nativeElement:i}class wy{}let RA=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>FA(),i})();const FA=function(){const i=Ge(),l=gn(Fn().index,i);return function(i){return i[11]}(vo(l)?l:i)};let Qf=(()=>{class i{}return i.\u0275prov=$n({token:i,providedIn:"root",factory:()=>null}),i})();class Ty{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Gg=new Ty("12.2.13");class Ay{constructor(){}supports(s){return pg(s)}create(s){return new VA(s)}}const Jf=(i,s)=>s;class VA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Jf}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,u=this._removalsHead,d=0,f=null;for(;l||u;){const _=!u||l&&l.currentIndex<Xf(u,d,f)?l:u,C=Xf(_,d,f),E=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{f||(f=[]);const S=C-d,k=E-d;if(S!=k){for(let G=0;G<S;G++){const ie=G<f.length?f[G]:f[G]=0,he=ie+G;k<=he&&he<S&&(f[G]=ie+1)}f[_.previousIndex]=k-S}}C!==E&&s(_,C,E)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!pg(s))throw new Error(`Error trying to diff '${ge(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,l=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)f=s[C],_=this._trackByFn(C,f),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,f,_,C)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,_,C),u=!0),l=l._next}else d=0,function(i,s){if(Array.isArray(i))for(let l=0;l<i.length;l++)s(i[l]);else{const l=i[Jo()]();let u;for(;!(u=l.next()).done;)s(u.value)}}(s,C=>{_=this._trackByFn(d,C),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,C,_,d)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,_,d),u=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,u,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,f,d)):s=this._addAfter(new zg(l,u),f,d),s}_verifyReinsertion(s,l,u,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,l,u),this._addToMoves(s,u),s}_moveAfter(s,l,u){return this._unlink(s),this._insertAfter(s,l,u),this._addToMoves(s,u),s}_addAfter(s,l,u){return this._insertAfter(s,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,u){const d=null===l?this._itHead:l._next;return s._next=d,s._prev=l,null===d?this._itTail=s:d._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Iy),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,u=s._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Iy),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class zg{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const l=s._prevDup,u=s._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class Iy{constructor(){this.map=new Map}put(s){const l=s.trackById;let u=this.map.get(l);u||(u=new UA,this.map.set(l,u)),u.add(s)}get(s,l){const d=this.map.get(s);return d?d.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xf(i,s,l){const u=i.previousIndex;if(null===u)return u;let d=0;return l&&u<l.length&&(d=l[u]),u+s+d}class wb{constructor(){}supports(s){return s instanceof Map||gg(s)}create(){return new qO}}class qO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||gg(s)))throw new Error(`Error trying to diff '${ge(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(d,u);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const u=s._prev;return l._next=s,l._prev=u,s._prev=l,u&&(u._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,l);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const u=new ZA(s);return this._records.set(s,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(u=>l(s[u],u))}}class ZA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eb(){return new Wg([new Ay])}let Wg=(()=>{class i{constructor(l){this.factories=l}static create(l,u){if(null!=u){const d=u.factories.slice();l=l.concat(d)}return new i(l)}static extend(l){return{provide:i,useFactory:u=>i.create(l,u||Eb()),deps:[[i,new za,new Ga]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(i){return i.name||typeof i}(l)}'`)}}return i.\u0275prov=$n({token:i,providedIn:"root",factory:Eb}),i})();function qA(){return new xy([new wb])}let xy=(()=>{class i{constructor(l){this.factories=l}static create(l,u){if(u){const d=u.factories.slice();l=l.concat(d)}return new i(l)}static extend(l){return{provide:i,useFactory:u=>i.create(l,u||qA()),deps:[[i,new za,new Ga]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return i.\u0275prov=$n({token:i,providedIn:"root",factory:qA}),i})();function Kg(i,s,l,u,d=!1){for(;null!==l;){const f=s[l.index];if(null!==f&&u.push(ye(f)),Di(f))for(let C=10;C<f.length;C++){const E=f[C],S=E[1].firstChild;null!==S&&Kg(E[1],E,S,u)}const _=l.type;if(8&_)Kg(i,s,l.child,u);else if(32&_){const C=m_(l,s);let E;for(;E=C();)u.push(E)}else if(16&_){const C=PT(s,l);if(Array.isArray(C))u.push(...C);else{const E=eg(s[16]);Kg(E[1],E,C,u,!0)}}l=d?l.projectionNext:l.next}return u}class wc{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return Kg(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Di(s)){const l=s[8],u=l?l.indexOf(this):-1;u>-1&&(__(s,u),Vs(l,u))}this._attachedToViewContainer=!1}AT(this._lView[1],this._lView)}onDestroy(s){j0(this._lView[1],this._lView,null,s)}markForCheck(){G0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){z0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,l){Bo(!0);try{z0(i,s,l)}finally{Bo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,rg(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class ah extends wc{constructor(s){super(s),this._view=s}detectChanges(){W0(this._view)}checkNoChanges(){!function(i){Bo(!0);try{W0(i)}finally{Bo(!1)}}(this._view)}get context(){return null}}const BA=function(i){return function(i,s,l){if(Ms(i)&&!l){const u=gn(i.index,s);return new wc(u,u)}return 47&i.type?new wc(s[16],s):null}(Fn(),Ge(),16==(16&i))};let tp=(()=>{class i{}return i.__NG_ELEMENT_ID__=BA,i})();const Yg=[new wb],BO=new Wg([new Ay]),Bi=new xy(Yg),HO=function(){return td(Fn(),Ge())};let lh=(()=>{class i{}return i.__NG_ELEMENT_ID__=HO,i})();const $O=lh,GA=class extends $O{constructor(s,l,u){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(s){const l=this._declarationTContainer.tViews,u=sg(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(l)),yf(l,u,s),new wc(u)}};function td(i,s){return 4&i.type?new GA(s,i,Kf(i,s)):null}class ta{}class Ab{}const Qg=function(){return $i(Fn(),Ge())};let np=(()=>{class i{}return i.__NG_ELEMENT_ID__=Qg,i})();const Hi=np,ar=class extends Hi{constructor(s,l,u){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=u}get element(){return Kf(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const s=Qi(this._hostTNode,this._hostLView);if(pa(s)){const l=ga(s,this._hostLView),u=Ir(s);return new ds(l[1].data[u+8],l)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=Ib(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,u){const d=s.createEmbeddedView(l||{});return this.insert(d,u),d}createComponent(s,l,u,d,f){const _=u||this.parentInjector;if(!f&&null==s.ngModule&&_){const E=_.get(ta,null);E&&(f=E)}const C=s.create(_,d,void 0,f);return this.insert(C.hostView,l),C}insert(s,l){const u=s._lView,d=u[1];if(Di(u[3])){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const q=u[3],G=new ar(q,q[6],q[3]);G.detach(G.indexOf(s))}}const f=this._adjustIndex(l),_=this._lContainer;!function(i,s,l,u){const d=10+u,f=l.length;u>0&&(l[d-1][4]=s),u<f-10?(s[4]=l[d],Hc(l,10+u,s)):(l.push(s),s[4]=null),s[3]=l;const _=s[17];null!==_&&l!==_&&function(i,s){const l=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===l?i[9]=[s]:l.push(s)}(_,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=128}(d,u,_,f);const C=b0(f,_),E=u[11],S=y_(E,_[7]);return null!==S&&function(i,s,l,u,d,f){u[0]=d,u[6]=s,rg(i,u,l,1,d,f)}(d,_[6],E,u,S,C),s.attachToViewContainerRef(),Hc(Oy(_),f,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=Ib(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),u=__(this._lContainer,l);u&&(Vs(Oy(this._lContainer),l),AT(u[1],u))}detach(s){const l=this._adjustIndex(s,-1),u=__(this._lContainer,l);return u&&null!=Vs(Oy(this._lContainer),l)?new wc(u):null}_adjustIndex(s,l=0){return null==s?this.length+l:s}};function Ib(i){return i[8]}function Oy(i){return i[8]||(i[8]=[])}function $i(i,s){let l;const u=s[i.index];if(Di(u))l=u;else{let d;if(8&i.type)d=ye(u);else{const f=s[11];d=f.createComment("");const _=_t(i,s);Fu(f,y_(f,_),d,function(i,s){return J(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=l=$0(u,s,d,i),P_(s,l)}return new ar(l,i,s)}const cp={};class Hb extends Wf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=lr(s);return new dI(l,this.ngModule)}}function au(i){const s=[];for(let l in i)i.hasOwnProperty(l)&&s.push({propName:i[l],templateName:l});return s}const uI=new kr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>tS});class dI extends zf{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=s.selectors.map(fc).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return au(this.componentDef.inputs)}get outputs(){return au(this.componentDef.outputs)}create(s,l,u,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(l,u,d)=>{const f=i.get(l,cp,d);return f!==cp||u===cp?f:s.get(l,u,d)}}}(s,d.injector):s,_=f.get(wy,Se),C=f.get(Qf,null),E=_.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=u?function(i,s,l){if(J(i))return i.selectRootElement(s,l===ot.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):y0(_.createRenderer(null,this.componentDef),S,function(i){const s=i.toLowerCase();return"svg"===s?I:"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),q=this.componentDef.onPush?576:528,G=function(i,s){return{components:[],scheduler:i||tS,clean:VS,playerHandler:s||null,flags:0}}(),ie=Gd(0,null,null,1,0,null,null,null,null,null),he=sg(null,ie,G,q,null,null,_,E,C,f);let Re,Te;xi(he);try{const it=function(i,s,l,u,d,f){const _=l[1];l[20]=i;const E=Xc(_,20,2,"#host",null),S=E.mergedAttrs=s.hostAttrs;null!==S&&(k_(E,S,!0),null!==i&&(Vr(d,i,S),null!==E.classes&&T0(d,i,E.classes),null!==E.styles&&RT(d,i,E.styles)));const k=u.createRenderer(i,s),q=sg(l,Z0(s),null,s.onPush?64:16,l[20],E,u,k,f||null,null);return _.firstCreatePass&&(xe(Za(E,l),_,s.type),wa(_,E),og(E,l.length,1)),P_(l,q),l[20]=q}(k,this.componentDef,he,_,E);if(k)if(u)Vr(E,k,["ng-version",Gg.full]);else{const{attrs:ze,classes:Lt}=function(i){const s=[],l=[];let u=1,d=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++u]):8===d&&l.push(f);else{if(!vl(d))break;d=f}u++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);ze&&Vr(E,k,ze),Lt&&Lt.length>0&&T0(E,k,Lt.join(" "))}if(Te=xr(ie,20),void 0!==l){const ze=Te.projection=[];for(let Lt=0;Lt<this.ngContentSelectors.length;Lt++){const Dt=l[Lt];ze.push(null!=Dt?Array.from(Dt):null)}}Re=function(i,s,l,u,d){const f=l[1],_=function(i,s,l){const u=Fn();i.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),ag(i,u,s,Zu(i,s,1,null),l));const d=Sr(s,i,u.directiveStart,u);gs(d,s);const f=_t(u,s);return f&&gs(f,s),d}(f,l,s);if(u.components.push(_),i[8]=_,d&&d.forEach(E=>E(_,s)),s.contentQueries){const E=Fn();s.contentQueries(1,_,E.directiveStart)}const C=Fn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(wo(C.index),Cf(l[1],C,0,C.directiveStart,C.directiveEnd,s),i1(s,_)),_}(it,this.componentDef,he,G,[x1]),yf(ie,he,null)}finally{ha()}return new ld(this.componentType,Re,Kf(Te,he),he,Te)}}class ld extends class{}{constructor(s,l,u,d,f){super(),this.location=u,this._rootLView=d,this._tNode=f,this.instance=l,this.hostView=this.changeDetectorRef=new ah(d),this.componentType=s}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const cd=new Map;class Gy extends ta{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hb(this);const u=gr(s),d=s[Vt]||null;d&&dy(d),this._bootstrapComponents=yl(u.bootstrap),this._r3Injector=f1(s,l,[{provide:ta,useValue:this},{provide:Wf,useValue:this.componentFactoryResolver}],ge(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,l=Xr.THROW_IF_NOT_FOUND,u=at.Default){return s===Xr||s===ta||s===Ef?this:this._r3Injector.get(s,l,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ud extends Ab{constructor(s){super(),this.moduleType=s,null!==gr(s)&&function(i){const s=new Set;!function l(u){const d=gr(u,!0),f=d.id;null!==f&&(function(i,s,l){if(s&&s!==l)throw new Error(`Duplicate module registered for ${i} - ${ge(s)} vs ${ge(s.name)}`)}(f,cd.get(f),u),cd.set(f,u));const _=yl(d.imports);for(const C of _)s.has(C)||(s.add(C),l(C))}(i)}(s)}create(s){return new Gy(this.moduleType,s)}}function $b(i,s,l){const u=Pr()+i,d=Ge();return d[u]===mn?Wt(d,u,l?s.call(l):s()):function(i,s){return i[s]}(d,u)}function pI(i,s,l,u){return am(Ge(),Pr(),i,s,l,u)}function lu(i,s){const l=i[s];return l===mn?void 0:l}function am(i,s,l,u,d,f){const _=s+l;return ys(i,_,d)?Wt(i,_+1,f?u.call(f,d):u(d)):lu(i,_+1)}function Kb(i,s){const l=hn();let u;const d=i+20;l.firstCreatePass?(u=function(i,s){if(s)for(let l=s.length-1;l>=0;l--){const u=s[l];if(i===u.name)return u}throw new Me("302",`The pipe '${i}' could not be found!`)}(s,l.pipeRegistry),l.data[d]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,u.onDestroy)):u=l.data[d];const f=u.factory||(u.factory=ki(u.type)),_=Mr(vg);try{const C=Gl(!1),E=f();return Gl(C),function(i,s,l,u){l>=i.data.length&&(i.data[l]=null,i.blueprint[l]=null),s[l]=u}(l,Ge(),d,E),E}finally{Mr(_)}}function Yb(i,s,l){const u=i+20,d=Ge(),f=Tr(d,u);return hp(d,lm(d,u)?am(d,Pr(),s,f.transform,l,f):f.transform(l))}function Qb(i,s,l,u){const d=i+20,f=Ge(),_=Tr(f,d);return hp(f,lm(f,d)?function(i,s,l,u,d,f,_){const C=s+l;return El(i,C,d,f)?Wt(i,C+2,_?u.call(_,d,f):u(d,f)):lu(i,C+2)}(f,Pr(),s,_.transform,l,u,_):_.transform(l,u))}function lm(i,s){return i[1].data[s].pure}function hp(i,s){return $.isWrapped(s)&&(s=$.unwrap(s),i[Fi()]=mn),s}function hd(i){return s=>{setTimeout(i,void 0,s)}}const Oo=class extends o.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,u){var d,f,_;let C=s,E=l||(()=>null),S=u;if(s&&"object"==typeof s){const q=s;C=null===(d=q.next)||void 0===d?void 0:d.bind(q),E=null===(f=q.error)||void 0===f?void 0:f.bind(q),S=null===(_=q.complete)||void 0===_?void 0:_.bind(q)}this.__isAsync&&(E=hd(E),C&&(C=hd(C)),S&&(S=hd(S)));const k=super.subscribe({next:C,error:E,complete:S});return s instanceof W.w&&s.add(k),k}};function Xb(){return this._results[Jo()]()}class hh{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Jo(),u=hh.prototype;u[l]||(u[l]=Xb)}get changes(){return this._changes||(this._changes=new Oo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const u=this;u.dirty=!1;const d=no(s);(this._changesDetected=!function(i,s,l){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],f=s[u];if(l&&(d=l(d),f=l(f)),f!==d)return!1}return!0}(u._results,d,l))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class cm{constructor(s){this.queryList=s,this.matches=null}clone(){return new cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class ew{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const u=null!==s.contentQueries?s.contentQueries[0]:l.length,d=[];for(let f=0;f<u;f++){const _=l.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new ew(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==fp(s,l).matches&&this.queries[l].setDirty()}}class Yy{constructor(s,l,u=null){this.predicate=s,this.flags=l,this.read=u}}class tw{constructor(s=[]){this.queries=s}elementStart(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let u=0;u<this.length;u++){const d=null!==l?l.length:0,f=this.getByIndex(u).embeddedTView(s,d);f&&(f.indexInDeclarationView=u,null!==l?l.push(f):l=[f])}return null!==l?new tw(l):null}template(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class um{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new um(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];this.matchTNodeWithReadOption(s,l,mM(l,f)),this.matchTNodeWithReadOption(s,l,Dr(l,s,f,!1,!1))}else u===lh?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Dr(l,s,u,!1,!1))}matchTNodeWithReadOption(s,l,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===ea||d===np||d===lh&&4&l.type)this.addMatch(l.index,-2);else{const f=Dr(l,s,d,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,u)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function mM(i,s){const l=i.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===s)return l[u+1];return null}function Ts(i,s,l,u){return-1===l?function(i,s){return 11&i.type?Kf(i,s):4&i.type?td(i,s):null}(s,i):-2===l?function(i,s,l){return l===ea?Kf(s,i):l===lh?td(s,i):l===np?$i(s,i):void 0}(i,s,u):Sr(i,i[1],l,s)}function bI(i,s,l,u){const d=s[19].queries[u];if(null===d.matches){const f=i.data,_=l.matches,C=[];for(let E=0;E<_.length;E+=2){const S=_[E];C.push(S<0?null:Ts(s,f[S],_[E+1],l.metadata.read))}d.matches=C}return d.matches}function rw(i,s,l,u){const d=i.queries.getByIndex(l),f=d.matches;if(null!==f){const _=bI(i,s,d,l);for(let C=0;C<f.length;C+=2){const E=f[C];if(E>0)u.push(_[C/2]);else{const S=f[C+1],k=s[-E];for(let q=10;q<k.length;q++){const G=k[q];G[17]===G[3]&&rw(G[1],G,S,u)}if(null!==k[9]){const q=k[9];for(let G=0;G<q.length;G++){const ie=q[G];rw(ie[1],ie,S,u)}}}}}return u}function wI(i){const s=Ge(),l=hn(),u=Bl();da(u+1);const d=fp(l,u);if(i.dirty&&zt(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?rw(l,s,u,[]):bI(l,s,d,u);i.reset(f,Hg),i.notifyOnChanges()}return!0}return!1}function EI(i,s,l){const u=hn();u.firstCreatePass&&(Jy(u,new Yy(i,s,l),-1),2==(2&s)&&(u.staticViewQueries=!0)),iw(u,Ge(),s)}function TI(i,s,l,u){const d=hn();if(d.firstCreatePass){const f=Fn();Jy(d,new Yy(s,l,u),f.index),function(i,s){const l=i.contentQueries||(i.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,s)}(d,i),2==(2&l)&&(d.staticContentQueries=!0)}iw(d,Ge(),l)}function Qy(){return i=Ge(),s=Bl(),i[19].queries[s].queryList;var i,s}function iw(i,s,l){const u=new hh(4==(4&l));j0(i,s,u,u.destroy),null===s[19]&&(s[19]=new ew),s[19].queries.push(new cm(u))}function Jy(i,s,l){null===i.queries&&(i.queries=new tw),i.queries.track(new um(s,l))}function fp(i,s){return i.queries.getByIndex(s)}const Cw=new kr("Application Initializer");let mp=(()=>{class i{constructor(l){this.appInits=l,this.resolve=by,this.reject=by,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(W_(f))l.push(f);else if(K_(f)){const _=new Promise((C,E)=>{f.subscribe({complete:C,error:E})});l.push(_)}}Promise.all(l).then(()=>{u()}).catch(d=>{this.reject(d)}),0===l.length&&u(),this.initialized=!0}}return i.\u0275fac=function(l){return new(l||i)(Ur(Cw,8))},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})();const WI=new kr("AppId"),bw={provide:WI,useFactory:function(){return`${wm()}${wm()}${wm()}`},deps:[]};function wm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ov=new kr("Platform Initializer"),KI=new kr("Platform ID"),av=new kr("appBootstrapListener");let lv=(()=>{class i{log(l){console.log(l)}warn(l){console.warn(l)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})();const Em=new kr("LocaleId"),cv=new kr("DefaultCurrencyCode");class ww{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}const Tm=function(i){return new ud(i)},Ew=Tm,Tw=function(i){return Promise.resolve(Tm(i))},dv=function(i){const s=Tm(i),u=yl(gr(i).declarations).reduce((d,f)=>{const _=lr(f);return _&&d.push(new dI(_)),d},[]);return new ww(s,u)},uu=dv,Aw=function(i){return Promise.resolve(dv(i))};let Im=(()=>{class i{constructor(){this.compileModuleSync=Ew,this.compileModuleAsync=Tw,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=Aw}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})();const kM=(()=>Promise.resolve(0))();function Dm(i){"undefined"==typeof Zone?kM.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Mo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oo(!1),this.onMicrotaskEmpty=new Oo(!1),this.onStable=new Oo(!1),this.onError=new Oo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&l,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=bn.requestAnimationFrame,s=bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(bn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,hv(i),i.isCheckStableRunning=!0,xm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),hv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,d,f,_,C)=>{try{return tD(i),l.invokeTask(d,f,_,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),nD(i)}},onInvoke:(l,u,d,f,_,C,E)=>{try{return tD(i),l.invoke(d,f,_,C,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),nD(i)}},onHasTask:(l,u,d,f)=>{l.hasTask(d,f),u===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,hv(i),xm(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,u,d,f)=>(l.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,l,u){return this._inner.run(s,l,u)}runTask(s,l,u,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,LM,by,by);try{return f.runTask(_,l,u)}finally{f.cancelTask(_)}}runGuarded(s,l,u){return this._inner.runGuarded(s,l,u)}runOutsideAngular(s){return this._outer.run(s)}}const LM={};function xm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function hv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function tD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function nD(i){i._nesting--,xm(i)}class xw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo,this.onMicrotaskEmpty=new Oo,this.onStable=new Oo,this.onError=new Oo}run(s,l,u){return s.apply(l,u)}runGuarded(s,l,u){return s.apply(l,u)}runOutsideAngular(s){return s()}runTask(s,l,u,d){return s.apply(l,u)}}let rD=(()=>{class i{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mo.assertNotInAngularZone(),Dm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dm(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,d){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:f,updateCb:d})}whenStable(l,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,d){return[]}}return i.\u0275fac=function(l){return new(l||i)(Ur(Mo))},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})(),fv=(()=>{class i{constructor(){this._applications=new Map,Mw.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Mw.findTestabilityInTree(this,l,u)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})();class Sw{addToWindow(s){}findTestabilityInTree(s,l,u){return null}}function Ow(i){Mw=i}let Mw=new Sw,Pw=!0,Nw=!1;function kw(){return Nw=!0,Pw}function Rw(){if(Nw)throw new Error("Cannot enable prod mode after platform setup.");Pw=!1}let nl;const gv=new kr("AllowMultipleToken");class Vw{constructor(s,l){this.name=s,this.token=l}}function _v(i,s,l=[]){const u=`Platform: ${s}`,d=new kr(u);return(f=[])=>{let _=Uw();if(!_||_.injector.get(gv,!1))if(i)i(l.concat(f).concat({provide:d,useValue:!0}));else{const C=l.concat(f).concat({provide:d,useValue:!0},{provide:ug,useValue:"platform"});!function(i){if(nl&&!nl.destroyed&&!nl.injector.get(gv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nl=i.get(yv);const s=i.get(ov,null);s&&s.forEach(l=>l())}(Xr.create({providers:C,name:u}))}return function(i){const s=Uw();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function Uw(){return nl&&!nl.destroyed?nl:null}let yv=(()=>{class i{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const C=function(i,s){let l;return l="noop"===i?new xw:("zone.js"===i?void 0:i)||new Mo({enableLongStackTrace:kw(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Mo,useValue:C}];return C.run(()=>{const S=Xr.create({providers:E,parent:this.injector,name:l.moduleType.name}),k=l.create(S),q=k.injector.get(cf,null);if(!q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const G=C.onError.subscribe({next:ie=>{q.handleError(ie)}});k.onDestroy(()=>{qw(this._modules,k),G.unsubscribe()})}),function(i,s,l){try{const u=l();return W_(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(q,C,()=>{const G=k.injector.get(mp);return G.runInitializers(),G.donePromise.then(()=>(dy(k.injector.get(Em,Qu)||Qu),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,u=[]){const d=aD({},u);return function(i,s,l){const u=new ud(l);return Promise.resolve(u)}(0,0,l).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(l){const u=l.injector.get(Sm);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${ge(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(l){return new(l||i)(Ur(Xr))},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})();function aD(i,s){return Array.isArray(s)?s.reduce(aD,i):Object.assign(Object.assign({},i),s)}let Sm=(()=>{class i{constructor(l,u,d,f,_){this._zone=l,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new H.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new H.y(S=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Mo.assertNotInAngularZone(),Dm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{Mo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{k.unsubscribe(),q.unsubscribe()}});this.isStable=(0,Ee.T)(C,E.pipe((0,Ie.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=l instanceof zf?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(ta),C=d.create(Xr.NULL,[],u||d.selector,f),E=C.location.nativeElement,S=C.injector.get(rD,null),k=S&&C.injector.get(fv);return S&&k&&k.registerApplication(E,S),C.onDestroy(()=>{this.detachView(C.hostView),qw(this.components,C),k&&k.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;qw(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(av,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(l){return new(l||i)(Ur(Mo),Ur(Xr),Ur(cf),Ur(Wf),Ur(mp))},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})();function qw(i,s){const l=i.indexOf(s);l>-1&&i.splice(l,1)}class lD{}class dD{}const Bw={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hD=(()=>{class i{constructor(l,u){this._compiler=l,this._config=u||Bw}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[u,d]=l.split("#");return void 0===d&&(d="default"),z(8255)(u).then(f=>f[d]).then(f=>Hw(f,u,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(l){let[u,d]=l.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),z(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(_=>_[d+f]).then(_=>Hw(_,u,d))}}return i.\u0275fac=function(l){return new(l||i)(Ur(Im),Ur(dD,8))},i.\u0275prov=$n({token:i,factory:i.\u0275fac}),i})();function Hw(i,s,l){if(!i)throw new Error(`Cannot find '${l}' in '${s}'`);return i}const zM=function(i){return null},YM=_v(null,"core",[{provide:KI,useValue:"unknown"},{provide:yv,deps:[Xr]},{provide:fv,deps:[]},{provide:lv,deps:[]}]),mh=[{provide:Sm,useClass:Sm,deps:[Mo,Xr,cf,Wf,mp]},{provide:uI,deps:[Mo],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(l){s.push(l)}}},{provide:mp,useClass:mp,deps:[[new Ga,Cw]]},{provide:Im,useClass:Im,deps:[]},bw,{provide:Wg,useFactory:function(){return BO},deps:[]},{provide:xy,useFactory:function(){return Bi},deps:[]},{provide:Em,useFactory:function(i){return dy(i=i||"undefined"!=typeof $localize&&$localize.locale||Qu),i},deps:[[new zc(Em),new Ga,new za]]},{provide:cv,useValue:"USD"}];let JM=(()=>{class i{constructor(l){}}return i.\u0275fac=function(l){return new(l||i)(Ur(Sm))},i.\u0275mod=dt({type:i}),i.\u0275inj=Xn({providers:mh}),i})()},8939:(Tt,Ke,z)=>{"use strict";z.d(Ke,{hO:()=>De,xv:()=>ve,Dh:()=>ge,GT:()=>fe,cc:()=>Ne,on:()=>K,pX:()=>Ie});var o=z(7716),W=z(7841),H=z(2498);Tt=z.hmd(Tt);const Ee=["ngOnDestroy"],Ie=(ue,Pe,Ve,Xe={})=>new Proxy(ue,{get:(Ct,O)=>Ve.runOutsideAngular(()=>{var yn;if(ue[O])return(null===(yn=null==Xe?void 0:Xe.spy)||void 0===yn?void 0:yn.get)&&Xe.spy.get(O,ue[O]),ue[O];if(Ee.indexOf(O)>-1)return()=>{};const qt=Pe.toPromise().then(Hn=>{const on=Hn&&Hn[O];return"function"==typeof on?on.bind(Hn):on&&on.then?on.then(Qt=>Ve.run(()=>Qt)):Ve.run(()=>on)});return new Proxy(()=>{},{get:(Hn,on)=>qt[on],apply:(Hn,on,Qt)=>qt.then(en=>{var Ft;const Cn=en&&en(...Qt);return(null===(Ft=null==Xe?void 0:Xe.spy)||void 0===Ft?void 0:Ft.apply)&&Xe.spy.apply(O,Qt,Cn),Cn})})})}),fe=(ue,Pe)=>{Pe.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(Xe=>{Object.defineProperty(ue.prototype,Xe,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,Xe))})})};class Fe{constructor(Pe){return Pe}}const ge=new o.OlP("angularfire2.app.options"),ve=new o.OlP("angularfire2.app.name");function K(ue,Pe,Ve){const Ct="object"==typeof Ve&&Ve||{};Ct.name=Ct.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const yn=W.Z.apps.filter(qt=>qt&&qt.name===Ct.name)[0]||Pe.runOutsideAngular(()=>W.Z.initializeApp(ue,Ct));try{JSON.stringify(ue)!==JSON.stringify(yn.options)&&Q("error",`${yn.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qt){}return new Fe(yn)}const Q=(ue,...Pe)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ue](...Pe)},re={provide:Fe,useFactory:K,deps:[ge,o.R0b,[new o.FiY,ve]]};let De=(()=>{class ue{constructor(Ve){W.Z.registerVersion("angularfire",H.q4.full,"core"),W.Z.registerVersion("angularfire",H.q4.full,"app-compat"),W.Z.registerVersion("angular",o.q4F.full,Ve.toString())}static initializeApp(Ve,Xe){return{ngModule:ue,providers:[{provide:ge,useValue:Ve},{provide:ve,useValue:Xe}]}}}return ue.\u0275fac=function(Ve){return new(Ve||ue)(o.LFG(o.Lbi))},ue.\u0275mod=o.oAB({type:ue}),ue.\u0275inj=o.cJS({providers:[re]}),ue})();function Ne(ue,Pe,Ve,Xe,Ct){const[,O,yn]=globalThis.\u0275AngularfireInstanceCache.find(qt=>qt[0]===ue)||[];if(O)return function(ue,Pe){try{return ue.toString()===Pe.toString()}catch(Ve){return ue===Pe}}(Ct,yn)||(ke("error",`${Pe} was already initialized on the ${Ve} Firebase App with different settings.${we?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:Ct,was:yn})),O;{const qt=Xe();return globalThis.\u0275AngularfireInstanceCache.push([ue,qt,Ct]),qt}}const we=!!Tt.hot,ke=(ue,...Pe)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ue](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2498:(Tt,Ke,z)=>{"use strict";z.d(Ke,{q4:()=>t_,iC:()=>Gc,HU:()=>Dd,vb:()=>Hc,JM:()=>Fs});var o=z(7716),W=z(2329),H=z(8239),Ee=z(8026),Ie=z(3854),fe=z(3910),Fe=z(5422),ge=z(6676);const ve="@firebase/installations",K="0.5.4",re=`w:${K}`,De="FIS_v2",Pe=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(x){return x instanceof Ie.ZR&&x.code.includes("request-failed")}function Xe({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ct(x){return{token:x.token,requestStatus:2,expiresIn:en(x.expiresIn),creationTime:Date.now()}}function O(x,P){return yn.apply(this,arguments)}function yn(){return(yn=(0,H.Z)(function*(x,P){const X=(yield P.json()).error;return Pe.create("request-failed",{requestName:x,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function qt({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Hn(x,{refreshToken:P}){const Z=qt(x);return Z.append("Authorization",function(x){return`${De} ${x}`}(P)),Z}function on(x){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,H.Z)(function*(x){const P=yield x();return P.status>=500&&P.status<600?x():P})).apply(this,arguments)}function en(x){return Number(x.replace("s","000"))}function Cn(x,P){return xt.apply(this,arguments)}function xt(){return(xt=(0,H.Z)(function*(x,{fid:P}){const Z=Xe(x),Oe={method:"POST",headers:qt(x),body:JSON.stringify({fid:P,authVersion:De,appId:x.appId,sdkVersion:re})},et=yield on(()=>fetch(Z,Oe));if(et.ok){const ct=yield et.json();return{fid:ct.fid||P,registrationStatus:2,refreshToken:ct.refreshToken,authToken:Ct(ct.authToken)}}throw yield O("Create Installation",et)})).apply(this,arguments)}function zs(x){return new Promise(P=>{setTimeout(P,x)})}const xs=/^[cdef][\w-]{21}$/;function Un(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const Z=function(x){return function(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return xs.test(Z)?Z:""}catch(x){return""}}function Ws(x){return`${x.appName}!${x.appId}`}const Ai=new Map;function di(x,P){const Z=Ws(x);Xn(Z,P),function(x,P){const Z=(!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=x=>{Xn(x.data.key,x.data.fid)}),_n);Z&&Z.postMessage({key:x,fid:P}),0===Ai.size&&_n&&(_n.close(),_n=null)}(Z,P)}function Xn(x,P){const Z=Ai.get(x);if(Z)for(const X of Z)X(P)}let _n=null;const Zn="firebase-installations-store";let yr=null;function wt(){return yr||(yr=(0,ge.openDb)("firebase-installations-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(Zn)}})),yr}function at(x,P){return On.apply(this,arguments)}function On(){return(On=(0,H.Z)(function*(x,P){const Z=Ws(x),me=(yield wt()).transaction(Zn,"readwrite"),Oe=me.objectStore(Zn),et=yield Oe.get(Z);return yield Oe.put(P,Z),yield me.complete,(!et||et.fid!==P.fid)&&di(x,P.fid),P})).apply(this,arguments)}function oi(x){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,H.Z)(function*(x){const P=Ws(x),X=(yield wt()).transaction(Zn,"readwrite");yield X.objectStore(Zn).delete(P),yield X.complete})).apply(this,arguments)}function Pt(x,P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,H.Z)(function*(x,P){const Z=Ws(x),me=(yield wt()).transaction(Zn,"readwrite"),Oe=me.objectStore(Zn),et=yield Oe.get(Z),ct=P(et);return void 0===ct?yield Oe.delete(Z):yield Oe.put(ct,Z),yield me.complete,ct&&(!et||et.fid!==ct.fid)&&di(x,ct.fid),ct})).apply(this,arguments)}function rn(x){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,H.Z)(function*(x){let P;const Z=yield Pt(x,X=>{const me=dr(X),Oe=Tn(x,me);return P=Oe.registrationPromise,Oe.installationEntry});return""===Z.fid?{installationEntry:yield P}:{installationEntry:Z,registrationPromise:P}})).apply(this,arguments)}function dr(x){return bn(x||{fid:Un(),registrationStatus:0})}function Tn(x,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(Pe.create("app-offline"))};const Z={fid:P.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Z,registrationPromise:function(x,P){return St.apply(this,arguments)}(x,Z)}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Na(x)}:{installationEntry:P}}function St(){return(St=(0,H.Z)(function*(x,P){try{return at(x,yield Cn(x,P))}catch(Z){throw Ve(Z)&&409===Z.customData.serverCode?yield oi(x):yield at(x,{fid:P.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function Na(x){return er.apply(this,arguments)}function er(){return(er=(0,H.Z)(function*(x){let P=yield Gn(x);for(;1===P.registrationStatus;)yield zs(100),P=yield Gn(x);if(0===P.registrationStatus){const{installationEntry:Z,registrationPromise:X}=yield rn(x);return X||Z}return P})).apply(this,arguments)}function Gn(x){return Pt(x,P=>{if(!P)throw Pe.create("installation-not-found");return bn(P)})}function bn(x){return function(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function _o(x,P){return se.apply(this,arguments)}function se(){return(se=(0,H.Z)(function*({appConfig:x,platformLoggerProvider:P},Z){const X=ee(x,Z),me=Hn(x,Z),Oe=P.getImmediate({optional:!0});Oe&&me.append("x-firebase-client",Oe.getPlatformInfoString());const ct={method:"POST",headers:me,body:JSON.stringify({installation:{sdkVersion:re}})},gt=yield on(()=>fetch(X,ct));if(gt.ok)return Ct(yield gt.json());throw yield O("Generate Auth Token",gt)})).apply(this,arguments)}function ee(x,{fid:P}){return`${Xe(x)}/${P}/authTokens:generate`}function oe(x){return Be.apply(this,arguments)}function Be(){return(Be=(0,H.Z)(function*(x,P=!1){let Z;const X=yield Pt(x.appConfig,Oe=>{if(!Lr(Oe))throw Pe.create("not-registered");const et=Oe.authToken;if(!P&&Br(et))return Oe;if(1===et.requestStatus)return Z=Ae(x,P),Oe;{if(!navigator.onLine)throw Pe.create("app-offline");const ct=le(Oe);return Z=vn(x,ct),ct}});return Z?yield Z:X.authToken})).apply(this,arguments)}function Ae(x,P){return yt.apply(this,arguments)}function yt(){return(yt=(0,H.Z)(function*(x,P){let Z=yield Vt(x.appConfig);for(;1===Z.authToken.requestStatus;)yield zs(100),Z=yield Vt(x.appConfig);const X=Z.authToken;return 0===X.requestStatus?oe(x,P):X})).apply(this,arguments)}function Vt(x){return Pt(x,P=>{if(!Lr(P))throw Pe.create("not-registered");return function(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function vn(x,P){return tr.apply(this,arguments)}function tr(){return(tr=(0,H.Z)(function*(x,P){try{const Z=yield _o(x,P),X=Object.assign(Object.assign({},P),{authToken:Z});return yield at(x.appConfig,X),Z}catch(Z){if(!Ve(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const X=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield at(x.appConfig,X)}else yield oi(x.appConfig);throw Z}})).apply(this,arguments)}function Lr(x){return void 0!==x&&2===x.registrationStatus}function Br(x){return 2===x.requestStatus&&!function(x){const P=Date.now();return P<x.creationTime||x.creationTime+x.expiresIn<P+36e5}(x)}function le(x){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:P})}function dt(){return(dt=(0,H.Z)(function*(x){const P=x,{installationEntry:Z,registrationPromise:X}=yield rn(P.appConfig);return X?X.catch(console.error):oe(P).catch(console.error),Z.fid})).apply(this,arguments)}function wn(){return(wn=(0,H.Z)(function*(x,P=!1){const Z=x;return yield dn(Z.appConfig),(yield oe(Z,P)).token})).apply(this,arguments)}function dn(x){return vr.apply(this,arguments)}function vr(){return(vr=(0,H.Z)(function*(x){const{registrationPromise:P}=yield rn(x);P&&(yield P)})).apply(this,arguments)}function rr(x){return Pe.create("missing-app-config-values",{valueName:x})}const Ii="installations";(0,Ee._registerComponent)(new fe.wA(Ii,x=>{const P=x.getProvider("app").getImmediate();return{app:P,appConfig:function(x){if(!x||!x.options)throw rr("App Configuration");if(!x.name)throw rr("App Name");const P=["projectId","apiKey","appId"];for(const Z of P)if(!x.options[Z])throw rr(Z);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(P),platformLoggerProvider:(0,Ee._getProvider)(P,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ee._registerComponent)(new fe.wA("installations-internal",x=>{const P=x.getProvider("app").getImmediate(),Z=(0,Ee._getProvider)(P,Ii).getImmediate();return{getId:()=>function(x){return dt.apply(this,arguments)}(Z),getToken:me=>function(x){return wn.apply(this,arguments)}(Z,me)}},"PRIVATE")),(0,Ee.registerVersion)(ve,K),(0,Ee.registerVersion)(ve,K,"esm2017");const ka="@firebase/remote-config",Hr=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class la{constructor(P,Z,X,me){this.client=P,this.storage=Z,this.storageCache=X,this.logger=me}isCachedDataFresh(P,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-Z,me=X<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${me}.`),me}fetch(P){var Z=this;return(0,H.Z)(function*(){const[X,me]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(me&&Z.isCachedDataFresh(P.cacheMaxAgeMillis,X))return me;P.eTag=me&&me.eTag;const Oe=yield Z.client.fetch(P),et=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Oe.status&&et.push(Z.storage.setLastSuccessfulFetchResponse(Oe)),yield Promise.all(et),Oe})()}}function Js(x=navigator){return x.languages&&x.languages[0]||x.language}class ai{constructor(P,Z,X,me,Oe,et){this.firebaseInstallations=P,this.sdkVersion=Z,this.namespace=X,this.projectId=me,this.apiKey=Oe,this.appId=et}fetch(P){var Z=this;return(0,H.Z)(function*(){const[X,me]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},gt={sdk_version:Z.sdkVersion,app_instance_id:X,app_instance_id_token:me,app_id:Z.appId,language_code:Js()},Nn={method:"POST",headers:ct,body:JSON.stringify(gt)},kn=fetch(et,Nn),Jr=new Promise((Ko,Zs)=>{P.signal.addEventListener(()=>{const Ui=new Error("The operation was aborted.");Ui.name="AbortError",Zs(Ui)})});let Us;try{yield Promise.race([kn,Jr]),Us=yield kn}catch(Ko){let Zs="fetch-client-network";throw"AbortError"===Ko.name&&(Zs="fetch-timeout"),Hr.create(Zs,{originalErrorMessage:Ko.message})}let yi=Us.status;const pl=Us.headers.get("ETag")||void 0;let Jl,gl;if(200===Us.status){let Ko;try{Ko=yield Us.json()}catch(Zs){throw Hr.create("fetch-client-parse",{originalErrorMessage:Zs.message})}Jl=Ko.entries,gl=Ko.state}if("INSTANCE_STATE_UNSPECIFIED"===gl?yi=500:"NO_CHANGE"===gl?yi=304:("NO_TEMPLATE"===gl||"EMPTY_CONFIG"===gl)&&(Jl={}),304!==yi&&200!==yi)throw Hr.create("fetch-status",{httpStatus:yi});return{status:yi,eTag:pl,config:Jl}})()}}class kc{constructor(P,Z){this.client=P,this.storage=Z}fetch(P){var Z=this;return(0,H.Z)(function*(){const X=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(P,X)})()}attemptFetch(P,{throttleEndTimeMillis:Z,backoffCount:X}){var me=this;return(0,H.Z)(function*(){yield function(x,P){return new Promise((Z,X)=>{const me=Math.max(P-Date.now(),0),Oe=setTimeout(Z,me);x.addEventListener(()=>{clearTimeout(Oe),X(Hr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,Z);try{const Oe=yield me.client.fetch(P);return yield me.storage.deleteThrottleMetadata(),Oe}catch(Oe){if(!function(x){if(!(x instanceof Ie.ZR&&x.customData))return!1;const P=Number(x.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Oe))throw Oe;const et={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(X),backoffCount:X+1};return yield me.storage.setThrottleMetadata(et),me.attemptFetch(P,et)}})()}}class Rc{constructor(P,Z,X,me,Oe){this.app=P,this._client=Z,this._storageCache=X,this._storage=me,this._logger=Oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lc(x,P){const Z=x.target.error||void 0;return Hr.create(P,{originalErrorMessage:Z&&Z.message})}const Fo="app_namespace_store";class Au{constructor(P,Z,X,me=function(){return new Promise((x,P)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=X=>{P(Lc(X,"storage-open"))},Z.onsuccess=X=>{x(X.target.result)},Z.onupgradeneeded=X=>{const me=X.target.result;switch(X.oldVersion){case 0:me.createObjectStore(Fo,{keyPath:"compositeKey"})}}}catch(Z){P(Hr.create("storage-open",{originalErrorMessage:Z}))}})}()){this.appId=P,this.appName=Z,this.namespace=X,this.openDbPromise=me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var Z=this;return(0,H.Z)(function*(){const X=yield Z.openDbPromise;return new Promise((me,Oe)=>{const ct=X.transaction([Fo],"readonly").objectStore(Fo),gt=Z.createCompositeKey(P);try{const Nn=ct.get(gt);Nn.onerror=kn=>{Oe(Lc(kn,"storage-get"))},Nn.onsuccess=kn=>{const Jr=kn.target.result;me(Jr?Jr.value:void 0)}}catch(Nn){Oe(Hr.create("storage-get",{originalErrorMessage:Nn&&Nn.message}))}})})()}set(P,Z){var X=this;return(0,H.Z)(function*(){const me=yield X.openDbPromise;return new Promise((Oe,et)=>{const gt=me.transaction([Fo],"readwrite").objectStore(Fo),Nn=X.createCompositeKey(P);try{const kn=gt.put({compositeKey:Nn,value:Z});kn.onerror=Jr=>{et(Lc(Jr,"storage-set"))},kn.onsuccess=()=>{Oe()}}catch(kn){et(Hr.create("storage-set",{originalErrorMessage:kn&&kn.message}))}})})()}delete(P){var Z=this;return(0,H.Z)(function*(){const X=yield Z.openDbPromise;return new Promise((me,Oe)=>{const ct=X.transaction([Fo],"readwrite").objectStore(Fo),gt=Z.createCompositeKey(P);try{const Nn=ct.delete(gt);Nn.onerror=kn=>{Oe(Lc(kn,"storage-delete"))},Nn.onsuccess=()=>{me()}}catch(Nn){Oe(Hr.create("storage-delete",{originalErrorMessage:Nn&&Nn.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class kh{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,H.Z)(function*(){const Z=P.storage.getLastFetchStatus(),X=P.storage.getLastSuccessfulFetchTimestampMillis(),me=P.storage.getActiveConfig(),Oe=yield Z;Oe&&(P.lastFetchStatus=Oe);const et=yield X;et&&(P.lastSuccessfulFetchTimestampMillis=et);const ct=yield me;ct&&(P.activeConfig=ct)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Du(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,H.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(x){return!1}})).apply(this,arguments)}(0,Ee._registerComponent)(new fe.wA("remote-config",function(P,{instanceIdentifier:Z}){const X=P.getProvider("app").getImmediate(),me=P.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Hr.create("registration-window");if(!(0,Ie.hl)())throw Hr.create("indexed-db-unavailable");const{projectId:Oe,apiKey:et,appId:ct}=X.options;if(!Oe)throw Hr.create("registration-project-id");if(!et)throw Hr.create("registration-api-key");if(!ct)throw Hr.create("registration-app-id");const gt=new Au(ct,X.name,Z=Z||"firebase"),Nn=new kh(gt),kn=new Fe.Yd(ka);kn.logLevel=Fe.in.ERROR;const Jr=new ai(me,Ee.SDK_VERSION,Z,Oe,et,ct),Us=new kc(Jr,gt),yi=new la(Us,gt,Nn,kn),pl=new Rc(X,yi,Nn,gt,kn);return function(x){const P=(0,Ie.m9)(x);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(pl),pl},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(ka,"0.3.3"),(0,Ee.registerVersion)(ka,"0.3.3","esm2017");const Fl="/firebase-messaging-sw.js",Vl="/firebase-cloud-messaging-push-scope",Ul="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ki="google.c.a.c_id",bo="google.c.a.c_l",ll="google.c.a.ts",Fc="google.c.a.e";var ua=(()=>{return(x=ua||(ua={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ua;var x})();function Ri(x){const P=new Uint8Array(x);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bd(x){const Z=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(Z),me=new Uint8Array(X.length);for(let Oe=0;Oe<X.length;++Oe)me[Oe]=X.charCodeAt(Oe);return me}const Ra="fcm_token_details_db",m="fcm_token_object_Store";function b(x){return I.apply(this,arguments)}function I(){return(I=(0,H.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Oe=>Oe.name).includes(Ra))return null;let P=null;return(yield(0,ge.openDb)(Ra,5,function(){var X=(0,H.Z)(function*(me){var Oe;if(me.oldVersion<2||!me.objectStoreNames.contains(m))return;const et=me.transaction.objectStore(m),ct=yield et.index("fcmSenderId").get(x);if(yield et.clear(),ct)if(2===me.oldVersion){const gt=ct;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;P={token:gt.fcmToken,createTime:null!==(Oe=gt.createTime)&&void 0!==Oe?Oe:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:Ri(gt.vapidKey)}}}else if(3===me.oldVersion){const gt=ct;P={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:Ri(gt.auth),p256dh:Ri(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:Ri(gt.vapidKey)}}}else if(4===me.oldVersion){const gt=ct;P={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:Ri(gt.auth),p256dh:Ri(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:Ri(gt.vapidKey)}}}});return function(me){return X.apply(this,arguments)}}())).close(),yield(0,ge.deleteDb)(Ra),yield(0,ge.deleteDb)("fcm_vapid_details_db"),yield(0,ge.deleteDb)("undefined"),D(P)?P:null})).apply(this,arguments)}function D(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:P}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const V="firebase-messaging-store";let ne=null;function J(){return ne||(ne=(0,ge.openDb)("firebase-messaging-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(V)}})),ne}function _e(x){return Se.apply(this,arguments)}function Se(){return(Se=(0,H.Z)(function*(x){const P=Ht(x),X=yield(yield J()).transaction(V).objectStore(V).get(P);if(X)return X;{const me=yield b(x.appConfig.senderId);if(me)return yield Ye(x,me),me}})).apply(this,arguments)}function Ye(x,P){return ye.apply(this,arguments)}function ye(){return(ye=(0,H.Z)(function*(x,P){const Z=Ht(x),me=(yield J()).transaction(V,"readwrite");return yield me.objectStore(V).put(P,Z),yield me.complete,P})).apply(this,arguments)}function Ue(x){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,H.Z)(function*(x){const P=Ht(x),X=(yield J()).transaction(V,"readwrite");yield X.objectStore(V).delete(P),yield X.complete})).apply(this,arguments)}function Ht({appConfig:x}){return x.appId}const un=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xr(x,P){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,H.Z)(function*(x,P){const Z=yield Uo(x),X=bt(P),me={method:"POST",headers:Z,body:JSON.stringify(X)};let Oe;try{Oe=yield(yield fetch(Ln(x.appConfig),me)).json()}catch(et){throw un.create("token-subscribe-failed",{errorInfo:et})}if(Oe.error)throw un.create("token-subscribe-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw un.create("token-subscribe-no-token");return Oe.token})).apply(this,arguments)}function gn(x,P){return zt.apply(this,arguments)}function zt(){return(zt=(0,H.Z)(function*(x,P){const Z=yield Uo(x),X=bt(P.subscriptionOptions),me={method:"PATCH",headers:Z,body:JSON.stringify(X)};let Oe;try{Oe=yield(yield fetch(`${Ln(x.appConfig)}/${P.token}`,me)).json()}catch(et){throw un.create("token-update-failed",{errorInfo:et})}if(Oe.error)throw un.create("token-update-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw un.create("token-update-no-token");return Oe.token})).apply(this,arguments)}function Yr(x,P){return $t.apply(this,arguments)}function $t(){return($t=(0,H.Z)(function*(x,P){const X={method:"DELETE",headers:yield Uo(x)};try{const Oe=yield(yield fetch(`${Ln(x.appConfig)}/${P}`,X)).json();if(Oe.error)throw un.create("token-unsubscribe-failed",{errorInfo:Oe.error.message})}catch(me){throw un.create("token-unsubscribe-failed",{errorInfo:me})}})).apply(this,arguments)}function Ln({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Uo(x){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,H.Z)(function*({appConfig:x,installations:P}){const Z=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function bt({p256dh:x,auth:P,endpoint:Z,vapidKey:X}){const me={web:{endpoint:Z,auth:P,p256dh:x}};return X!==Ul&&(me.web.applicationPubKey=X),me}const Zo=6048e5;function qo(x){return pi.apply(this,arguments)}function pi(){return(pi=(0,H.Z)(function*(x){const P=yield Pn(x.swRegistration,x.vapidKey),Z={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:P.endpoint,auth:Ri(P.getKey("auth")),p256dh:Ri(P.getKey("p256dh"))},X=yield _e(x.firebaseDependencies);if(X){if(La(X.subscriptionOptions,Z))return Date.now()>=X.createTime+Zo?eo(x,{token:X.token,createTime:Date.now(),subscriptionOptions:Z}):X.token;try{yield Yr(x.firebaseDependencies,X.token)}catch(me){console.warn(me)}return Ge(x.firebaseDependencies,Z)}return Ge(x.firebaseDependencies,Z)})).apply(this,arguments)}function Ps(x){return gi.apply(this,arguments)}function gi(){return(gi=(0,H.Z)(function*(x){const P=yield _e(x.firebaseDependencies);P&&(yield Yr(x.firebaseDependencies,P.token),yield Ue(x.firebaseDependencies));const Z=yield x.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function eo(x,P){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,H.Z)(function*(x,P){try{const Z=yield gn(x.firebaseDependencies,P),X=Object.assign(Object.assign({},P),{token:Z,createTime:Date.now()});return yield Ye(x.firebaseDependencies,X),Z}catch(Z){throw yield Ps(x),Z}})).apply(this,arguments)}function Ge(x,P){return hn.apply(this,arguments)}function hn(){return(hn=(0,H.Z)(function*(x,P){const X={token:yield xr(x,P),createTime:Date.now(),subscriptionOptions:P};return yield Ye(x,X),X.token})).apply(this,arguments)}function Pn(x,P){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,H.Z)(function*(x,P){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bd(P)})})).apply(this,arguments)}function La(x,P){return P.vapidKey===x.vapidKey&&P.endpoint===x.endpoint&&P.auth===x.auth&&P.p256dh===x.p256dh}function Ki(x){const P={from:x.from,collapseKey:x.collapse_key,messageId:x.fcm_message_id};return function(x,P){if(!P.notification)return;x.notification={};const Z=P.notification.title;Z&&(x.notification.title=Z);const X=P.notification.body;X&&(x.notification.body=X);const me=P.notification.image;me&&(x.notification.image=me)}(P,x),function(x,P){!P.data||(x.data=P.data)}(P,x),function(x,P){if(!P.fcmOptions)return;x.fcmOptions={};const Z=P.fcmOptions.link;Z&&(x.fcmOptions.link=Z);const X=P.fcmOptions.analytics_label;X&&(x.fcmOptions.analyticsLabel=X)}(P,x),P}function Su(x){return"object"==typeof x&&!!x&&ki in x}function Zl(x,P){const Z=[];for(let X=0;X<x.length;X++)Z.push(x.charAt(X)),X<P.length&&Z.push(P.charAt(X));return Z.join("")}function Bo(x){return un.create("missing-app-config-values",{valueName:x})}Zl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pr{constructor(P,Z,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const me=function(x){if(!x||!x.options)throw Bo("App Configuration Object");if(!x.name)throw Bo("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=x;for(const X of P)if(!Z[X])throw Bo(X);return{appName:x.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:me,installations:Z,analyticsProvider:X}}_delete(){return Promise.resolve()}}function Fi(x){return Va.apply(this,arguments)}function Va(){return(Va=(0,H.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Fl,{scope:Vl}),x.swRegistration.update().catch(()=>{})}catch(P){throw un.create("failed-service-worker-registration",{browserErrorMessage:P.message})}})).apply(this,arguments)}function to(x,P){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,H.Z)(function*(x,P){if(!P&&!x.swRegistration&&(yield Fi(x)),P||!x.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");x.swRegistration=P}})).apply(this,arguments)}function Rh(x,P){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,H.Z)(function*(x,P){P?x.vapidKey=P:x.vapidKey||(x.vapidKey=Ul)})).apply(this,arguments)}function Yi(){return(Yi=(0,H.Z)(function*(x,P){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield Rh(x,null==P?void 0:P.vapidKey),yield to(x,null==P?void 0:P.serviceWorkerRegistration),qo(x)})).apply(this,arguments)}function jl(x,P,Z){return $o.apply(this,arguments)}function $o(){return($o=(0,H.Z)(function*(x,P,Z){const X=Bl(P);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:Z[ki],message_name:Z[bo],message_time:Z[ll],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bl(x){switch(x){case ua.NOTIFICATION_CLICKED:return"notification_open";case ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zn(){return(zn=(0,H.Z)(function*(x,P){const Z=P.data;if(!Z.isFirebaseMessaging)return;x.onMessageHandler&&Z.messageType===ua.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Ki(Z)):x.onMessageHandler.next(Ki(Z)));const X=Z.data;Su(X)&&"1"===X[Fc]&&(yield jl(x,Z.messageType,X))})).apply(this,arguments)}const Go="@firebase/messaging";function Hl(){return ha.apply(this,arguments)}function ha(){return(ha=(0,H.Z)(function*(){return"undefined"!=typeof window&&(0,Ie.hl)()&&(yield(0,Ie.eu)())&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ee._registerComponent)(new fe.wA("messaging",x=>{const P=new Pr(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function(x,P){return zn.apply(this,arguments)}(P,Z)),P},"PUBLIC")),(0,Ee._registerComponent)(new fe.wA("messaging-internal",x=>{const P=x.getProvider("messaging").getImmediate();return{getToken:X=>function(x,P){return Yi.apply(this,arguments)}(P,X)}},"PRIVATE")),(0,Ee.registerVersion)(Go,"0.9.4"),(0,Ee.registerVersion)(Go,"0.9.4","esm2017");const fa="analytics",cl="firebase_id",j="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",te="https://www.googletagmanager.com/gtag/js",ae=new Fe.Yd("@firebase/analytics");function Ze(x){return Promise.all(x.map(P=>P.catch(Z=>Z)))}function Ce(x,P){const Z=document.createElement("script");Z.src=`${te}?l=${x}&id=${P}`,Z.async=!0,document.head.appendChild(Z)}function Qe(x,P,Z,X,me,Oe){return st.apply(this,arguments)}function st(){return(st=(0,H.Z)(function*(x,P,Z,X,me,Oe){const et=X[me];try{if(et)yield P[et];else{const gt=(yield Ze(Z)).find(Nn=>Nn.measurementId===me);gt&&(yield P[gt.appId])}}catch(ct){ae.error(ct)}x("config",me,Oe)})).apply(this,arguments)}function ft(x,P,Z,X,me){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,H.Z)(function*(x,P,Z,X,me){try{let Oe=[];if(me&&me.send_to){let et=me.send_to;Array.isArray(et)||(et=[et]);const ct=yield Ze(Z);for(const gt of et){const Nn=ct.find(Jr=>Jr.measurementId===gt),kn=Nn&&P[Nn.appId];if(!kn){Oe=[];break}Oe.push(kn)}}0===Oe.length&&(Oe=Object.values(P)),yield Promise.all(Oe),x("event",X,me||{})}catch(Oe){ae.error(Oe)}})).apply(this,arguments)}function En(){const x=window.document.getElementsByTagName("script");for(const P of Object.values(x))if(P.src&&P.src.includes(te))return P;return null}const At=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hr=new class{constructor(P={},Z=1e3){this.throttleMetadata=P,this.intervalMillis=Z}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,Z){this.throttleMetadata[P]=Z}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function dl(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function pa(x){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,H.Z)(function*(x){var P;const{appId:Z,apiKey:X}=x,me={method:"GET",headers:dl(X)},Oe=j.replace("{app-id}",Z),et=yield fetch(Oe,me);if(200!==et.status&&304!==et.status){let ct="";try{const gt=yield et.json();(null===(P=gt.error)||void 0===P?void 0:P.message)&&(ct=gt.error.message)}catch(gt){}throw At.create("config-fetch-failed",{httpStatus:et.status,responseMessage:ct})}return et.json()})).apply(this,arguments)}function $l(x){return ga.apply(this,arguments)}function ga(){return(ga=(0,H.Z)(function*(x,P=hr,Z){const{appId:X,apiKey:me,measurementId:Oe}=x.options;if(!X)throw At.create("no-app-id");if(!me){if(Oe)return{measurementId:Oe,appId:X};throw At.create("no-api-key")}const et=P.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new Td;return setTimeout((0,H.Z)(function*(){ct.abort()}),void 0!==Z?Z:6e4),Ed({appId:X,apiKey:me,measurementId:Oe},et,ct,P)})).apply(this,arguments)}function Ed(x,P,Z){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,H.Z)(function*(x,{throttleEndTimeMillis:P,backoffCount:Z},X,me=hr){const{appId:Oe,measurementId:et}=x;try{yield Wv(X,P)}catch(ct){if(et)return ae.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:Oe,measurementId:et};throw ct}try{const ct=yield pa(x);return me.deleteThrottleMetadata(Oe),ct}catch(ct){if(!Lh(ct)){if(me.deleteThrottleMetadata(Oe),et)return ae.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:Oe,measurementId:et};throw ct}const gt=503===Number(ct.customData.httpStatus)?(0,Ie.$s)(Z,me.intervalMillis,30):(0,Ie.$s)(Z,me.intervalMillis),Nn={throttleEndTimeMillis:Date.now()+gt,backoffCount:Z+1};return me.setThrottleMetadata(Oe,Nn),ae.debug(`Calling attemptFetch again in ${gt} millis`),Ed(x,Nn,X,me)}})).apply(this,arguments)}function Wv(x,P){return new Promise((Z,X)=>{const me=Math.max(P-Date.now(),0),Oe=setTimeout(Z,me);x.addEventListener(()=>{clearTimeout(Oe),X(At.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function Lh(x){if(!(x instanceof Ie.ZR&&x.customData))return!1;const P=Number(x.customData.httpStatus);return 429===P||500===P||503===P||504===P}class Td{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}function Fh(){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,H.Z)(function*(){if(!(0,Ie.hl)())return ae.warn(At.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(x){return ae.warn(At.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function qc(){return(qc=(0,H.Z)(function*(x,P,Z,X,me,Oe,et){var ct;const gt=$l(x);gt.then(yi=>{Z[yi.measurementId]=yi.appId,x.options.measurementId&&yi.measurementId!==x.options.measurementId&&ae.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yi=>ae.error(yi)),P.push(gt);const Nn=Fh().then(yi=>{if(yi)return X.getId()}),[kn,Jr]=yield Promise.all([gt,Nn]);En()||Ce(Oe,kn.measurementId),me("js",new Date);const Us=null!==(ct=null==et?void 0:et.config)&&void 0!==ct?ct:{};return Us.origin="firebase",Us.update=!0,null!=Jr&&(Us[cl]=Jr),me("config",kn.measurementId,Us),kn.measurementId})).apply(this,arguments)}class fr{constructor(P){this.app=P}_delete(){return delete Qi[this.app.options.appId],Promise.resolve()}}let Qi={},xe=[];const Ad={};let Eo,qa,Et="dataLayer",Ut=!1;function Sr(x,P,Z){!function(){const x=[];if((0,Ie.ru)()&&x.push("This is a browser extension environment."),(0,Ie.zI)()||x.push("Cookies are not available."),x.length>0){const P=x.map((X,me)=>`(${me+1}) ${X}`).join(" "),Z=At.create("invalid-analytics-context",{errorInfo:P});ae.warn(Z.message)}}();const X=x.options.appId;if(!X)throw At.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw At.create("no-api-key");ae.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qi[X])throw At.create("already-exists",{id:X});if(!Ut){!function(x){let P=[];Array.isArray(window[x])?P=window[x]:window[x]=P}(Et);const{wrappedGtag:Oe,gtagCore:et}=function(x,P,Z,X,me){let Oe=function(...et){window[X].push(arguments)};return window[me]&&"function"==typeof window[me]&&(Oe=window[me]),window[me]=function(x,P,Z,X){function Oe(){return(Oe=(0,H.Z)(function*(et,ct,gt){try{"event"===et?yield ft(x,P,Z,ct,gt):"config"===et?yield Qe(x,P,Z,X,ct,gt):x("set",ct)}catch(Nn){ae.error(Nn)}})).apply(this,arguments)}return function(et,ct,gt){return Oe.apply(this,arguments)}}(Oe,x,P,Z),{gtagCore:Oe,wrappedGtag:window[me]}}(Qi,xe,Ad,Et,"gtag");qa=Oe,Eo=et,Ut=!0}return Qi[X]=function(x,P,Z,X,me,Oe,et){return qc.apply(this,arguments)}(x,xe,Ad,P,Eo,Et,Z),new fr(x)}function ma(){return(ma=(0,H.Z)(function*(x,P,Z,X,me){if(me&&me.global)x("event",Z,X);else{const Oe=yield P;x("event",Z,Object.assign(Object.assign({},X),{send_to:Oe}))}})).apply(this,arguments)}function hs(){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,H.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(x){return!1}})).apply(this,arguments)}const qh="@firebase/analytics";(0,Ee._registerComponent)(new fe.wA(fa,(P,{options:Z})=>Sr(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,Ee._registerComponent)(new fe.wA("analytics-internal",function(P){try{const Z=P.getProvider(fa).getImmediate();return{logEvent:(X,me,Oe)=>function(x,P,Z,X){x=(0,Ie.m9)(x),function(x,P,Z,X,me){return ma.apply(this,arguments)}(qa,Qi[x.app.options.appId],P,Z,X).catch(me=>ae.error(me))}(Z,X,me,Oe)}}catch(Z){throw At.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,Ee.registerVersion)(qh,"0.7.4"),(0,Ee.registerVersion)(qh,"0.7.4","esm2017");var ts=z(7771),Yl=z(3637),jc=z(3342),_i=z(3101),jh=z(309);const t_=new o.GfV("7.2.0"),ku="__angularfire_symbol__analyticsIsSupported",Id="__angularfire_symbol__remoteConfigIsSupported",Ls="__angularfire_symbol__messagingIsSupported";function Fs(x,P,Z){if(P){if(1===P.length)return P[0];const Oe=P.filter(et=>et.app===Z);if(1===Oe.length)return Oe[0]}return Z.container.getProvider(x).getImmediate({optional:!0})}globalThis[ku]||(globalThis[ku]=hs().then(x=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=x)),globalThis[Ls]||(globalThis[Ls]=Hl().then(x=>globalThis.__angularfire_symbol__messagingIsSupportedValue=x)),globalThis[Id]||(globalThis[Id]=Du().then(x=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=x));const Hc=(x,P)=>{const Z=P?[P]:(0,W.C6)(),X=[];return Z.forEach(me=>{me.container.getProvider(x).instances.forEach(et=>{X.includes(et)||X.push(et)})}),X};function Vs(){}class To{constructor(P,Z=ts.N){this.zone=P,this.delegate=Z}now(){return this.delegate.now()}schedule(P,Z,X){const me=this.zone;return this.delegate.schedule(function(et){me.runGuarded(()=>{P.apply(this,[et])})},Z,X)}}class $c{constructor(P){this.zone=P,this.task=null}call(P,Z){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)),Z.pipe((0,jc.b)({next:X,complete:X,error:X})).subscribe(P).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dd=(()=>{class x{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new To(Zone.current)),this.insideAngular=Z.run(()=>new To(Zone.current,Yl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(Z){return new(Z||x)(o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function ya(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Gc(x){return ya(),function(x){return function(Z){return(Z=Z.lift(new $c(x.ngZone))).pipe((0,_i.R)(x.outsideAngular),(0,jh.QV)(x.insideAngular))}}(ya())(x)}},2476:(Tt,Ke,z)=>{"use strict";z.d(Ke,{$:()=>Rh,A:()=>ko,E:()=>Di,G:()=>ai,I:()=>Wi,K:()=>Qs,L:()=>_e,M:()=>Ue,N:()=>Ot,P:()=>me,Q:()=>Ht,R:()=>ya,T:()=>ye,U:()=>Tr,V:()=>gn,W:()=>Uo,X:()=>Ki,Y:()=>jo,Z:()=>Su,_:()=>Pr,a:()=>Eo,a0:()=>ks,a1:()=>jl,a2:()=>Bl,a3:()=>zn,a4:()=>xi,a5:()=>Vc,a6:()=>Uc,a7:()=>ha,a8:()=>Ou,a9:()=>Ar,aA:()=>Kc,aB:()=>Hh,aC:()=>Gr,aG:()=>Mu,aJ:()=>un,aa:()=>wd,ab:()=>fa,ae:()=>j,af:()=>ae,ag:()=>Ze,aj:()=>pi,ak:()=>mr,am:()=>Ed,an:()=>Vh,ao:()=>wu,ap:()=>yr,aq:()=>oa,ar:()=>cs,as:()=>Sn,at:()=>oc,au:()=>Xv,av:()=>_n,aw:()=>Je,ax:()=>at,ay:()=>Xt,az:()=>Md,b:()=>Et,c:()=>yi,d:()=>Ko,e:()=>Jl,f:()=>zc,g:()=>zh,h:()=>za,i:()=>ts,j:()=>ec,k:()=>tf,l:()=>Gc,m:()=>nf,o:()=>zs,r:()=>Ca,s:()=>ns,u:()=>Z,z:()=>Ws});var o=z(8239),W=z(3854),H=z(8026);function Fe(w,g){var y={};for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&g.indexOf(T)<0&&(y[T]=w[T]);if(null!=w&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(T=Object.getOwnPropertySymbols(w);L<T.length;L++)g.indexOf(T[L])<0&&Object.prototype.propertyIsEnumerable.call(w,T[L])&&(y[T[L]]=w[T[L]])}return y}var Ft=z(5422),Cn=z(3910);const zs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ko={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ws=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ai=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},di=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ks=new Ft.Yd("@firebase/auth");function Xn(w,...g){Ks.logLevel<=Ft.in.ERROR&&Ks.error(`Auth (${H.SDK_VERSION}): ${w}`,...g)}function Sn(w,...g){throw Ss(w,...g)}function _n(w,...g){return Ss(w,...g)}function mo(w,g,y){const T=Object.assign(Object.assign({},Ai()),{[g]:y});return new W.LL("auth","Firebase",T).create(g,{appName:w.name})}function ls(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Sn(w,"argument-error"),mo(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ss(w,...g){if("string"!=typeof w){const y=g[0],T=[...g.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(y,...T)}return di.create(w,...g)}function Je(w,g,...y){if(!w)throw Ss(g,...y)}function Zn(w){const g="INTERNAL ASSERTION FAILED: "+w;throw Xn(g),new Error(g)}function yr(w,g){w||Zn(g)}const wt=new Map;function at(w){yr(w instanceof Function,"Expected a class definition");let g=wt.get(w);return g?(yr(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,wt.set(w,g),g)}function Mr(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Pt(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class dr{constructor(g,y){this.shortDelay=g,this.longDelay=y,yr(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,W.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Tn(w,g){yr(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class ot{static initialize(g,y,T){this.fetchImpl=g,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Na=new dr(3e4,6e4);function er(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Gn(w,g,y,T){return bn.apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(w,g,y,T,L={}){return Rn(w,L,()=>{let U={},pe={};T&&("GET"===g?pe=T:U={body:JSON.stringify(T)});const He=(0,W.xO)(Object.assign({key:w.config.apiKey},pe)).slice(1),mt=new(ot.headers());return mt.set("Content-Type","application/json"),mt.set("X-Client-Version",w._getSdkClientVersion()),w.languageCode&&mt.set("X-Firebase-Locale",w.languageCode),ot.fetch()(oe(w,w.config.apiHost,y,He),Object.assign({method:g,headers:mt,referrerPolicy:"no-referrer"},U))})})).apply(this,arguments)}function Rn(w,g,y){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(function*(w,g,y){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},St),g);try{const L=new Be(w),U=yield Promise.race([y(),L.promise]);L.clearNetworkTimeout();const pe=yield U.json();if("needConfirmation"in pe)throw Ae(w,"account-exists-with-different-credential",pe);if(U.ok&&!("errorMessage"in pe))return pe;{const He=U.ok?pe.errorMessage:pe.error.message,[mt,lt]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mt)throw Ae(w,"credential-already-in-use",pe);if("EMAIL_EXISTS"===mt)throw Ae(w,"email-already-in-use",pe);const Gt=T[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw mo(w,Gt,lt);Sn(w,Gt)}}catch(L){if(L instanceof W.ZR)throw L;Sn(w,"network-request-failed")}})).apply(this,arguments)}function se(w,g,y,T){return ee.apply(this,arguments)}function ee(){return(ee=(0,o.Z)(function*(w,g,y,T,L={}){const U=yield Gn(w,g,y,T,L);return"mfaPendingCredential"in U&&Sn(w,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function oe(w,g,y,T){const L=`${g}${y}?${T}`;return w.config.emulator?Tn(w.config,L):`${w.config.apiScheme}://${L}`}class Be{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(_n(this.auth,"timeout")),Na.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ae(w,g,y){const T={appName:w.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const L=_n(w,g,T);return L.customData._tokenResponse=y,L}function Vt(){return(Vt=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function vn(w,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Lr(w,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function be(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function We(){return(We=(0,o.Z)(function*(w,g=!1){const y=(0,W.m9)(w),T=yield y.getIdToken(g),L=Bt(T);Je(L&&L.exp&&L.auth_time&&L.iat,y.auth,"internal-error");const U="object"==typeof L.firebase?L.firebase:void 0,pe=null==U?void 0:U.sign_in_provider;return{claims:L,token:T,authTime:be(dt(L.auth_time)),issuedAtTime:be(dt(L.iat)),expirationTime:be(dt(L.exp)),signInProvider:pe||null,signInSecondFactor:(null==U?void 0:U.sign_in_second_factor)||null}})).apply(this,arguments)}function dt(w){return 1e3*Number(w)}function Bt(w){const[g,y,T]=w.split(".");if(void 0===g||void 0===y||void 0===T)return Xn("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,W.tV)(y);return L?JSON.parse(L):(Xn("Failed to decode base64 JWT payload"),null)}catch(L){return Xn("Caught error parsing JWT payload as JSON",L),null}}function dn(w,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,o.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(T){throw T instanceof W.ZR&&lr(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}function lr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class nr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),T)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class sn{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=be(this.lastLoginAt),this.creationTime=be(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gr(w){return Os.apply(this,arguments)}function Os(){return(Os=(0,o.Z)(function*(w){var g;const y=w.auth,T=yield w.getIdToken(),L=yield dn(w,Lr(y,{idToken:T}));Je(null==L?void 0:L.users.length,y,"internal-error");const U=L.users[0];w._notifyReloadListener(U);const pe=(null===(g=U.providerUserInfo)||void 0===g?void 0:g.length)?rr(U.providerUserInfo):[],He=cn(w.providerData,pe),Gt=!!w.isAnonymous&&!(w.email&&U.passwordHash||(null==He?void 0:He.length)),or={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:He,metadata:new sn(U.createdAt,U.lastLoginAt),isAnonymous:Gt};Object.assign(w,or)})).apply(this,arguments)}function ht(){return(ht=(0,o.Z)(function*(w){const g=(0,W.m9)(w);yield gr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function cn(w,g){return[...w.filter(T=>!g.some(L=>L.providerId===T.providerId)),...g]}function rr(w){return w.map(g=>{var{providerId:y}=g,T=Fe(g,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Ys(){return(Ys=(0,o.Z)(function*(w,g){const y=yield Rn(w,{},()=>{const T=(0,W.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:U}=w.config,pe=oe(w,L,"/v1/token",`key=${U}`);return ot.fetch()(pe,{method:"POST",headers:{"X-Client-Version":w._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Er{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Je(g.idToken,"internal-error"),Je(void 0!==g.idToken,"internal-error"),Je(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(w){const g=Bt(w);return Je(g,"internal-error"),Je(void 0!==g.exp,"internal-error"),Je(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var T=this;return(0,o.Z)(function*(){return Je(!T.accessToken||T.refreshToken,g,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(g,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var T=this;return(0,o.Z)(function*(){const{accessToken:L,refreshToken:U,expiresIn:pe}=yield function(w,g){return Ys.apply(this,arguments)}(g,y);T.updateTokensAndExpiration(L,U,Number(pe))})()}updateTokensAndExpiration(g,y,T){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(g,y){const{refreshToken:T,accessToken:L,expirationTime:U}=y,pe=new Er;return T&&(Je("string"==typeof T,"internal-error",{appName:g}),pe.refreshToken=T),L&&(Je("string"==typeof L,"internal-error",{appName:g}),pe.accessToken=L),U&&(Je("number"==typeof U,"internal-error",{appName:g}),pe.expirationTime=U),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Er,this.toJSON())}_performRefresh(){return Zn("not implemented")}}function hi(w,g){Je("string"==typeof w||void 0===w,"internal-error",{appName:g})}class ir{constructor(g){var{uid:y,auth:T,stsTokenManager:L}=g,U=Fe(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.metadata=new sn(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,o.Z)(function*(){const T=yield dn(y,y.stsTokenManager.getToken(y.auth,g));return Je(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(g){return function(w){return We.apply(this,arguments)}(this,g)}reload(){return function(w){return ht.apply(this,arguments)}(this)}_assign(g){this!==g&&(Je(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ir(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var T=this;return(0,o.Z)(function*(){let L=!1;g.idToken&&g.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(g),L=!0),y&&(yield gr(T)),yield T.auth._persistUserIfCurrent(T),L&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var g=this;return(0,o.Z)(function*(){const y=yield g.getIdToken();return yield dn(g,function(w,g){return Vt.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var T,L,U,pe,He,mt,lt,Gt;const or=null!==(T=y.displayName)&&void 0!==T?T:void 0,Wn=null!==(L=y.email)&&void 0!==L?L:void 0,li=null!==(U=y.phoneNumber)&&void 0!==U?U:void 0,_r=null!==(pe=y.photoURL)&&void 0!==pe?pe:void 0,Vd=null!==(He=y.tenantId)&&void 0!==He?He:void 0,Gp=null!==(mt=y._redirectEventId)&&void 0!==mt?mt:void 0,zp=null!==(lt=y.createdAt)&&void 0!==lt?lt:void 0,sf=null!==(Gt=y.lastLoginAt)&&void 0!==Gt?Gt:void 0,{uid:Wp,emailVerified:Kp,isAnonymous:u_,providerData:of,stsTokenManager:af}=y;Je(Wp&&af,g,"internal-error");const lT=Er.fromJSON(this.name,af);Je("string"==typeof Wp,g,"internal-error"),hi(or,g.name),hi(Wn,g.name),Je("boolean"==typeof Kp,g,"internal-error"),Je("boolean"==typeof u_,g,"internal-error"),hi(li,g.name),hi(_r,g.name),hi(Vd,g.name),hi(Gp,g.name),hi(zp,g.name),hi(sf,g.name);const Yp=new ir({uid:Wp,auth:g,email:Wn,emailVerified:Kp,displayName:or,isAnonymous:u_,photoURL:_r,phoneNumber:li,tenantId:Vd,stsTokenManager:lT,createdAt:zp,lastLoginAt:sf});return of&&Array.isArray(of)&&(Yp.providerData=of.map(Ud=>Object.assign({},Ud))),Gp&&(Yp._redirectEventId=Gp),Yp}static _fromIdTokenResponse(g,y,T=!1){return(0,o.Z)(function*(){const L=new Er;L.updateFromServerResponse(y);const U=new ir({uid:y.localId,auth:g,stsTokenManager:L,isAnonymous:T});return yield gr(U),U})()}}const Qs=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,T){var L=this;return(0,o.Z)(function*(){L.storage[y]=T})()}_get(y){var T=this;return(0,o.Z)(function*(){const L=T.storage[y];return void 0===L?null:L})()}_remove(y){var T=this;return(0,o.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return w.type="NONE",w})();function Xt(w,g,y){return`firebase:${w}:${g}:${y}`}class Ni{constructor(g,y,T){this.persistence=g,this.auth=y,this.userKey=T;const{config:L,name:U}=this.auth;this.fullUserKey=Xt(this.userKey,L.apiKey,U),this.fullPersistenceKey=Xt("persistence",L.apiKey,U),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?ir._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,o.Z)(function*(){if(y.persistence===g)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,T="authUser"){return(0,o.Z)(function*(){if(!y.length)return new Ni(at(Qs),g,T);const L=(yield Promise.all(y.map(function(){var lt=(0,o.Z)(function*(Gt){if(yield Gt._isAvailable())return Gt});return function(Gt){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let U=L[0]||at(Qs);const pe=Xt(T,g.config.apiKey,g.name);let He=null;for(const lt of y)try{const Gt=yield lt._get(pe);if(Gt){const or=ir._fromJSON(g,Gt);lt!==U&&(He=or),U=lt;break}}catch(Gt){}const mt=L.filter(lt=>lt._shouldAllowMigration);return U._shouldAllowMigration&&mt.length?(U=mt[0],He&&(yield U._set(pe,He.toJSON())),yield Promise.all(y.map(function(){var lt=(0,o.Z)(function*(Gt){if(Gt!==U)try{yield Gt._remove(pe)}catch(or){}});return function(Gt){return lt.apply(this,arguments)}}())),new Ni(U,g,T)):new Ni(U,g,T)})()}}function yo(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Gi(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Hr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(us(g))return"Blackberry";if(Mn(g))return"Webos";if(Ro(g))return"Safari";if((g.includes("chrome/")||sr(g))&&!g.includes("edge/"))return"Chrome";if(cs(g))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Hr(w=(0,W.z$)()){return/firefox\//i.test(w)}function Ro(w=(0,W.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function sr(w=(0,W.z$)()){return/crios\//i.test(w)}function Gi(w=(0,W.z$)()){return/iemobile/i.test(w)}function cs(w=(0,W.z$)()){return/android/i.test(w)}function us(w=(0,W.z$)()){return/blackberry/i.test(w)}function Mn(w=(0,W.z$)()){return/webos/i.test(w)}function oa(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)}function wu(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function aa(w=(0,W.z$)()){return oa(w)||cs(w)||Mn(w)||us(w)||/windows phone/i.test(w)||Gi(w)}function $r(w,g=[]){let y;switch(w){case"Browser":y=yo((0,W.z$)());break;case"Worker":y=`${yo((0,W.z$)())}-${w}`;break;default:y=w}const T=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${H.SDK_VERSION}/${T}`}class fi{constructor(g,y){this.app=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vo(this),this.idTokenSubscription=new vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=di,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(g,y){var T=this;return y&&(this._popupRedirectResolver=at(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var L,U;T._deleted||(T.persistenceManager=yield Ni.create(T,g),!T._deleted&&((null===(L=T._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(U=T.currentUser)||void 0===U?void 0:U.uid)||null,!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,o.Z)(function*(){var T;let L=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const U=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,pe=null==L?void 0:L._redirectEventId,He=yield y.tryRedirectSignIn(g);(!U||U===pe)&&(null==He?void 0:He.user)&&(L=He.user)}return L?L._redirectEventId?(Je(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)):y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,o.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(L){yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,o.Z)(function*(){try{yield gr(g)}catch(T){if("auth/network-request-failed"!==T.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,o.Z)(function*(){const T=g?(0,W.m9)(g):null;return T&&Je(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,o.Z)(function*(){if(!y._deleted)return g&&Je(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,o.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(at(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new W.LL("auth","Firebase",g())}onAuthStateChanged(g,y,T){return this.registerStateListener(this.authStateSubscription,g,y,T)}onIdTokenChanged(g,y,T){return this.registerStateListener(this.idTokenSubscription,g,y,T)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var T=this;return(0,o.Z)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(y);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const T=g&&at(g)||y._popupRedirectResolver;Je(T,y,"argument-error"),y.redirectPersistenceManager=yield Ni.create(y,[at(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,o.Z)(function*(){var T,L;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===g?y._currentUser:(null===(L=y.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,o.Z)(function*(){if(g===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,T,L){if(this._deleted)return()=>{};const U="function"==typeof y?y:y.next.bind(y),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return Je(pe,this,"internal-error"),pe.then(()=>U(this.currentUser)),"function"==typeof y?g.addObserver(y,T,L):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=$r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Gr(w){return(0,W.m9)(w)}class vo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,W.ne)(y=>this.observer=y)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Di(w,g,y){const T=Gr(w);Je(T._canInitEmulator,T,"emulator-config-failed"),Je(/^https?:\/\//.test(g),T,"invalid-emulator-scheme");const L=!!(null==y?void 0:y.disableWarnings),U=Co(g),{host:pe,port:He}=function(w){const g=Co(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const U=L[1];return{host:U,port:la(T.substr(U.length+1))}}{const[U,pe]=T.split(":");return{host:U,port:la(pe)}}}(g);T.config.emulator={url:`${U}//${pe}${null===He?"":`:${He}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:pe,port:He,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Co(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function la(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class ai{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Zn("not implemented")}_getIdTokenResponse(g){return Zn("not implemented")}_linkToIdToken(g,y){return Zn("not implemented")}_getReauthenticationResolver(g){return Zn("not implemented")}}function Eu(w,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:resetPassword",er(w,g))})).apply(this,arguments)}function kc(w,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ph(w,g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:update",er(w,g))})).apply(this,arguments)}function Fo(){return(Fo=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signInWithPassword",er(w,g))})).apply(this,arguments)}function ol(w,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:sendOobCode",er(w,g))})).apply(this,arguments)}function Nh(w,g){return Au.apply(this,arguments)}function Au(){return(Au=(0,o.Z)(function*(w,g){return ol(w,g)})).apply(this,arguments)}function kh(w,g){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,o.Z)(function*(w,g){return ol(w,g)})).apply(this,arguments)}function Zp(w,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,o.Z)(function*(w,g){return ol(w,g)})).apply(this,arguments)}function Du(w,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,o.Z)(function*(w,g){return ol(w,g)})).apply(this,arguments)}function Vl(){return(Vl=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signInWithEmailLink",er(w,g))})).apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signInWithEmailLink",er(w,g))})).apply(this,arguments)}class ki extends ai{constructor(g,y,T,L=null){super("password",T),this._email=g,this._password=y,this._tenantId=L}static _fromEmailAndPassword(g,y){return new ki(g,y,"password")}static _fromEmailAndCode(g,y,T=null){return new ki(g,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function(w,g){return Fo.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(w,g){return Vl.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Sn(g,"internal-error")}})()}_linkToIdToken(g,y){var T=this;return(0,o.Z)(function*(){switch(T.signInMethod){case"password":return kc(g,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(w,g){return al.apply(this,arguments)}(g,{idToken:y,email:T._email,oobCode:T._password});default:Sn(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function bo(w,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signInWithIdp",er(w,g))})).apply(this,arguments)}class Wi extends ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Wi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Sn("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:L}=y,U=Fe(y,["providerId","signInMethod"]);if(!T||!L)return null;const pe=new Wi(T,L);return pe.idToken=U.idToken||void 0,pe.accessToken=U.accessToken||void 0,pe.secret=U.secret,pe.nonce=U.nonce,pe.pendingToken=U.pendingToken||null,pe}_getIdTokenResponse(g){return bo(g,this.buildRequest())}_linkToIdToken(g,y){const T=this.buildRequest();return T.idToken=y,bo(g,T)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,bo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,W.xO)(y)}return g}}function ua(w,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:sendVerificationCode",er(w,g))})).apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signInWithPhoneNumber",er(w,g))})).apply(this,arguments)}function m(){return(m=(0,o.Z)(function*(w,g){const y=yield se(w,"POST","/v1/accounts:signInWithPhoneNumber",er(w,g));if(y.temporaryProof)throw Ae(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const b={USER_NOT_FOUND:"user-not-found"};function D(){return(D=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signInWithPhoneNumber",er(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),b)})).apply(this,arguments)}class R extends ai{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new R({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new R({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function(w,g){return Ra.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function(w,g){return m.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(w,g){return D.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:T,verificationCode:L}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:T,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:T,phoneNumber:L,temporaryProof:U}=g;return T||y||L||U?new R({verificationId:y,verificationCode:T,phoneNumber:L,temporaryProof:U}):null}}class ne{constructor(g){var y,T,L,U,pe,He;const mt=(0,W.zd)((0,W.pd)(g)),lt=null!==(y=mt.apiKey)&&void 0!==y?y:null,Gt=null!==(T=mt.oobCode)&&void 0!==T?T:null,or=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=mt.mode)&&void 0!==L?L:null);Je(lt&&Gt&&or,"argument-error"),this.apiKey=lt,this.operation=or,this.code=Gt,this.continueUrl=null!==(U=mt.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(pe=mt.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(He=mt.tenantId)&&void 0!==He?He:null}static parseLink(g){const y=function(w){const g=(0,W.zd)((0,W.pd)(w)).link,y=g?(0,W.zd)((0,W.pd)(g)).deep_link_id:null,T=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(T?(0,W.zd)((0,W.pd)(T)).link:null)||T||y||g||w}(g);try{return new ne(y)}catch(T){return null}}}let _e=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,T){return ki._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const L=ne.parseLink(T);return Je(L,"argument-error"),ki._fromEmailAndCode(y,L.code,L.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Se{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ye extends Se{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ye extends Ye{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return Je("providerId"in y&&"signInMethod"in y,"argument-error"),Wi._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Je(g.idToken||g.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ye.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ye.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:L,pendingToken:U,nonce:pe,providerId:He}=g;if(!T&&!L&&!y&&!U||!He)return null;try{return new ye(He)._credential({idToken:y,accessToken:T,nonce:pe,pendingToken:U})}catch(mt){return null}}}let Ue=(()=>{class w extends Ye{constructor(){super("facebook.com")}static credential(y){return Wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(T){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ot=(()=>{class w extends Ye{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return Wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:L}=y;if(!T&&!L)return null;try{return w.credential(T,L)}catch(U){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ht=(()=>{class w extends Ye{constructor(){super("github.com")}static credential(y){return Wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(T){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class un extends ai{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return bo(g,this.buildRequest())}_linkToIdToken(g,y){const T=this.buildRequest();return T.idToken=y,bo(g,T)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,bo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:L,pendingToken:U}=y;return T&&L&&U&&T===L?new un(T,U):null}static _create(g,y){return new un(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tr extends Se{constructor(g){Je(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Tr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Tr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=un.fromJSON(g);return Je(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:T}=g;if(!y||!T)return null;try{return un._create(T,y)}catch(L){return null}}}let gn=(()=>{class w extends Ye{constructor(){super("twitter.com")}static credential(y,T){return Wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:L}=y;if(!T||!L)return null;try{return w.credential(T,L)}catch(U){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function zt(w,g){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signUp",er(w,g))})).apply(this,arguments)}class $t{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,T,L=!1){return(0,o.Z)(function*(){const U=yield ir._fromIdTokenResponse(g,T,L),pe=Ln(T);return new $t({user:U,providerId:pe,_tokenResponse:T,operationType:y})})()}static _forOperation(g,y,T){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(T,!0);const L=Ln(T);return new $t({user:g,providerId:L,_tokenResponse:T,operationType:y})})()}}function Ln(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Uo(w){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,o.Z)(function*(w){var g;const y=Gr(w);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new $t({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield zt(y,{returnSecureToken:!0}),L=yield $t._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class bt extends W.ZR{constructor(g,y,T,L){var U;super(y.code,y.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,bt.prototype),this.customData={appName:g.name,tenantId:null!==(U=g.tenantId)&&void 0!==U?U:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(g,y,T,L){return new bt(g,y,T,L)}}function Zo(w,g,y,T){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?bt._fromErrorAndOperation(w,U,g,T):U})}function qo(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function pi(w,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,o.Z)(function*(w,g){const y=(0,W.m9)(w);yield Ns(!0,y,g);const{providerUserInfo:T}=yield vn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),L=qo(T||[]);return y.providerData=y.providerData.filter(U=>L.has(U.providerId)),L.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function gi(w,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.Z)(function*(w,g,y=!1){const T=yield dn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return $t._forOperation(w,"link",T)})).apply(this,arguments)}function Ns(w,g,y){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,o.Z)(function*(w,g,y){yield gr(g);const L=!1===w?"provider-already-linked":"no-such-provider";Je(qo(g.providerData).has(y)===w,g.auth,L)})).apply(this,arguments)}function hn(w,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(w,g,y=!1){const{auth:T}=w,L="reauthenticate";try{const U=yield dn(w,Zo(T,L,g,w),y);Je(U.idToken,T,"internal-error");const pe=Bt(U.idToken);Je(pe,T,"internal-error");const{sub:He}=pe;return Je(w.uid===He,T,"user-mismatch"),$t._forOperation(w,L,U)}catch(U){throw"auth/user-not-found"===(null==U?void 0:U.code)&&Sn(T,"user-mismatch"),U}})).apply(this,arguments)}function Fn(w,g){return La.apply(this,arguments)}function La(){return(La=(0,o.Z)(function*(w,g,y=!1){const T="signIn",L=yield Zo(w,T,g),U=yield $t._fromIdTokenResponse(w,T,L);return y||(yield w._updateCurrentUser(U.user)),U})).apply(this,arguments)}function Ki(w,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,o.Z)(function*(w,g){return Fn(Gr(w),g)})).apply(this,arguments)}function jo(w,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,o.Z)(function*(w,g){const y=(0,W.m9)(w);return yield Ns(!1,y,g.providerId),gi(y,g)})).apply(this,arguments)}function Su(w,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,o.Z)(function*(w,g){return hn((0,W.m9)(w),g)})).apply(this,arguments)}function ql(w,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,o.Z)(function*(w,g){return se(w,"POST","/v1/accounts:signInWithCustomToken",er(w,g))})).apply(this,arguments)}function Pr(w,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,o.Z)(function*(w,g){const y=Gr(w),T=yield ql(y,{token:g,returnSecureToken:!0}),L=yield $t._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class Va{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?to._fromServerResponse(g,y):Sn(g,"internal-error")}}class to extends Va{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new to(y)}}function Fr(w,g,y){var T;Je((null===(T=y.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),Je(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Je(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(Je(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Rh(w,g,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w),L={requestType:"PASSWORD_RESET",email:g};y&&Fr(T,L,y),yield kh(T,L)})).apply(this,arguments)}function ks(w,g,y){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,o.Z)(function*(w,g,y){yield Eu((0,W.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function jl(w,g){return $o.apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(w,g){yield Ph((0,W.m9)(w),{oobCode:g})})).apply(this,arguments)}function Bl(w,g){return da.apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(w,g){const y=(0,W.m9)(w),T=yield Eu(y,{oobCode:g}),L=T.requestType;switch(Je(L,y,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Je(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Je(T.mfaInfo,y,"internal-error");default:Je(T.email,y,"internal-error")}let U=null;return T.mfaInfo&&(U=Va._fromServerResponse(Gr(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:U},operation:L}})).apply(this,arguments)}function zn(w,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(w,g){const{data:y}=yield Bl((0,W.m9)(w),g);return y.email})).apply(this,arguments)}function xi(w,g,y){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,o.Z)(function*(w,g,y){const T=Gr(w),L=yield zt(T,{returnSecureToken:!0,email:g,password:y}),U=yield $t._fromIdTokenResponse(T,"signIn",L);return yield T._updateCurrentUser(U.user),U})).apply(this,arguments)}function Vc(w,g,y){return Ki((0,W.m9)(w),_e.credential(g,y))}function Uc(w,g,y){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w),L={requestType:"EMAIL_SIGNIN",email:g};Je(y.handleCodeInApp,T,"argument-error"),y&&Fr(T,L,y),yield Zp(T,L)})).apply(this,arguments)}function ha(w,g){const y=ne.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function Ou(w,g,y){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w),L=_e.credentialWithLink(g,y||Mr());return Je(L._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Ki(T,L)})).apply(this,arguments)}function Qr(w,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:createAuthUri",er(w,g))})).apply(this,arguments)}function Ar(w,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,o.Z)(function*(w,g){const T={identifier:g,continueUri:Pt()?Mr():"http://localhost"},{signinMethods:L}=yield Qr((0,W.m9)(w),T);return L||[]})).apply(this,arguments)}function wd(w,g){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,o.Z)(function*(w,g){const y=(0,W.m9)(w),L={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Fr(y.auth,L,g);const{email:U}=yield Nh(y.auth,L);U!==w.email&&(yield w.reload())})).apply(this,arguments)}function fa(w,g,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Fr(T.auth,U,y);const{email:pe}=yield Du(T.auth,U);pe!==w.email&&(yield w.reload())})).apply(this,arguments)}function ul(w,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(w,g){return Gn(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function j(w,g){return te.apply(this,arguments)}function te(){return(te=(0,o.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const T=(0,W.m9)(w),U={idToken:yield T.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},pe=yield dn(T,ul(T.auth,U));T.displayName=pe.displayName||null,T.photoURL=pe.photoUrl||null;const He=T.providerData.find(({providerId:mt})=>"password"===mt);He&&(He.displayName=T.displayName,He.photoURL=T.photoURL),yield T._updateTokensIfNecessary(pe)})).apply(this,arguments)}function ae(w,g){return Ce((0,W.m9)(w),g,null)}function Ze(w,g){return Ce((0,W.m9)(w),null,g)}function Ce(w,g,y){return qe.apply(this,arguments)}function qe(){return(qe=(0,o.Z)(function*(w,g,y){const{auth:T}=w,U={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(U.email=g),y&&(U.password=y);const pe=yield dn(w,kc(T,U));yield w._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class st{constructor(g,y,T={}){this.isNewUser=g,this.providerId=y,this.profile=T}}class ft extends st{constructor(g,y,T,L){super(g,y,T),this.username=L}}class Mt extends st{constructor(g,y){super(g,"facebook.com",y)}}class kt extends ft{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class jt extends st{constructor(g,y){super(g,"google.com",y)}}class En extends ft{constructor(g,y,T){super(g,"twitter.com",y,T)}}function mr(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(w){var g,y;if(!w)return null;const{providerId:T}=w,L=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},U=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&(null==w?void 0:w.idToken)){const pe=null===(y=null===(g=Bt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(pe)return new st(U,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!T)return null;switch(T){case"facebook.com":return new Mt(U,L);case"github.com":return new kt(U,L);case"google.com":return new jt(U,L);case"twitter.com":return new En(U,L,w.screenName||null);case"custom":case"anonymous":return new st(U,null);default:return new st(U,T,L)}}(y)}class $l{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new $l("enroll",g)}static _fromMfaPendingCredential(g){return new $l("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,T;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return $l._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(T=g.multiFactorSession)||void 0===T?void 0:T.idToken)return $l._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ga{constructor(g,y,T){this.session=g,this.hints=y,this.signInResolver=T}static _fromError(g,y){const T=Gr(g),L=y.customData._serverResponse,U=(L.mfaInfo||[]).map(He=>Va._fromServerResponse(T,He));Je(L.mfaPendingCredential,T,"internal-error");const pe=$l._fromMfaPendingCredential(L.mfaPendingCredential);return new ga(pe,U,function(){var He=(0,o.Z)(function*(mt){const lt=yield mt._process(T,pe);delete L.mfaInfo,delete L.mfaPendingCredential;const Gt=Object.assign(Object.assign({},L),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(y.operationType){case"signIn":const or=yield $t._fromIdTokenResponse(T,y.operationType,Gt);return yield T._updateCurrentUser(or.user),or;case"reauthenticate":return Je(y.user,T,"internal-error"),$t._forOperation(y.user,y.operationType,Gt);default:Sn(T,"internal-error")}});return function(mt){return He.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,o.Z)(function*(){return y.signInResolver(g)})()}}function Ed(w,g){var y;const T=(0,W.m9)(w),L=g;return Je(g.customData.operationType,T,"argument-error"),Je(null===(y=L.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),ga._fromError(T,L)}function Gl(w,g){return Gn(w,"POST","/v2/accounts/mfaEnrollment:start",er(w,g))}class Td{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>Va._fromServerResponse(g.auth,T)))})}static _fromUser(g){return new Td(g)}getSession(){var g=this;return(0,o.Z)(function*(){return $l._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var T=this;return(0,o.Z)(function*(){const L=g,U=yield T.getSession(),pe=yield dn(T.user,L._process(T.user.auth,U,y));return yield T.user._updateTokensIfNecessary(pe),T.user.reload()})()}unenroll(g){var y=this;return(0,o.Z)(function*(){const T="string"==typeof g?g:g.uid,L=yield y.user.getIdToken(),U=yield dn(y.user,function(w,g){return Gn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",er(w,g))}(y.user.auth,{idToken:L,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:pe})=>pe!==T),yield y.user._updateTokensIfNecessary(U);try{yield y.user.reload()}catch(pe){if("auth/user-token-expired"!==pe.code)throw pe}})()}}const Fh=new WeakMap;function Vh(w){const g=(0,W.m9)(w);return Fh.has(g)||Fh.set(g,Td._fromUser(g)),Fh.get(g)}const Za="__sak";class qc{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Et=(()=>{class w extends qc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,W.z$)();return Ro(w)||oa(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=aa(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),U=this.localCache[T];L!==U&&y(T,U,L)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((He,mt,lt)=>{this.notifyListeners(He,lt)});const L=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(L);if(y.newValue!==He)null!==y.newValue?this.storage.setItem(L,y.newValue):this.storage.removeItem(L);else if(this.localCache[L]===y.newValue&&!T)return}const U=()=>{const He=this.storage.getItem(L);!T&&this.localCache[L]===He||this.notifyListeners(L,He)},pe=this.storage.getItem(L);(0,W.w1)()&&10===document.documentMode&&pe!==y.newValue&&y.newValue!==y.oldValue?setTimeout(U,10):U()}notifyListeners(y,T){this.localCache[y]=T;const L=this.listeners[y];if(L)for(const U of Array.from(L))U(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var L=()=>super._set,U=this;return(0,o.Z)(function*(){yield L().call(U,y,T),U.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,L=this;return(0,o.Z)(function*(){const U=yield T().call(L,y);return L.localCache[y]=JSON.stringify(U),U})()}_remove(y){var T=()=>super._remove,L=this;return(0,o.Z)(function*(){yield T().call(L,y),delete L.localCache[y]})()}}return w.type="LOCAL",w})(),Eo=(()=>{class w extends qc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return w.type="SESSION",w})();let Ut=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(U=>U.isListeningto(y));if(T)return T;const L=new w(y);return this.receivers.push(L),L}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,o.Z)(function*(){const L=y,{eventId:U,eventType:pe,data:He}=L.data,mt=T.handlersMap[pe];if(!(null==mt?void 0:mt.size))return;L.ports[0].postMessage({status:"ack",eventId:U,eventType:pe});const lt=Array.from(mt).map(function(){var or=(0,o.Z)(function*(Wn){return Wn(L.origin,He)});return function(Wn){return or.apply(this,arguments)}}()),Gt=yield function(w){return Promise.all(w.map(function(){var g=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return g.apply(this,arguments)}}()))}(lt);L.ports[0].postMessage({status:"done",eventId:U,eventType:pe,response:Gt})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Mu(w="",g=10){let y="";for(let T=0;T<g;T++)y+=Math.floor(10*Math.random());return w+y}class Dr{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,T=50){var L=this;return(0,o.Z)(function*(){const U="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let pe,He;return new Promise((mt,lt)=>{const Gt=Mu("",20);U.port1.start();const or=setTimeout(()=>{lt(new Error("unsupported_event"))},T);He={messageChannel:U,onMessage(Wn){const li=Wn;if(li.data.eventId===Gt)switch(li.data.status){case"ack":clearTimeout(or),pe=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),mt(li.data.response);break;default:clearTimeout(or),clearTimeout(pe),lt(new Error("invalid_response"))}}},L.handlers.add(He),U.port1.addEventListener("message",He.onMessage),L.target.postMessage({eventType:g,eventId:Gt,data:y},[U.port2])}).finally(()=>{He&&L.removeMessageHandler(He)})})()}}function Sr(){return window}function ma(){return void 0!==Sr().WorkerGlobalScope&&"function"==typeof Sr().importScripts}function ds(){return(ds=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const Xi="firebaseLocalStorageDb",Wo="firebaseLocalStorage",es="fbase_key";class Ba{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function zl(w,g){return w.transaction([Wo],g?"readwrite":"readonly").objectStore(Wo)}function Nu(){const w=indexedDB.open(Xi,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(Wo,{keyPath:es})}catch(L){y(L)}}),w.addEventListener("success",(0,o.Z)(function*(){const T=w.result;T.objectStoreNames.contains(Wo)?g(T):(T.close(),yield function(){const w=indexedDB.deleteDatabase(Xi);return new Ba(w).toPromise()}(),g(yield Nu()))}))})}function qp(w,g,y){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,o.Z)(function*(w,g,y){const T=zl(w,!0).put({[es]:g,value:y});return new Ba(T).toPromise()})).apply(this,arguments)}function Zh(){return(Zh=(0,o.Z)(function*(w,g){const y=zl(w,!1).get(g),T=yield new Ba(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function kr(w,g){const y=zl(w,!0).delete(g);return new Ba(y).toPromise()}const ts=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield Nu()),y.db})()}_withRetries(y){var T=this;return(0,o.Z)(function*(){let L=0;for(;;)try{const U=yield T._openDb();return yield y(U)}catch(U){if(L++>3)throw U;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return ma()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Ut._getInstance(ma()?self:null),y.receiver._subscribe("keyChanged",function(){var T=(0,o.Z)(function*(L,U){return{keyProcessed:(yield y._poll()).includes(U.key)}});return function(L,U){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,o.Z)(function*(L,U){return["keyChanged"]});return function(L,U){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var T,L;if(y.activeServiceWorker=yield function(){return ds.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Dr(y.activeServiceWorker);const U=yield y.sender._send("ping",{},800);!U||(null===(T=U[0])||void 0===T?void 0:T.fulfilled)&&(null===(L=U[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,o.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Nu();return yield qp(y,Za,"1"),yield kr(y,Za),!0}catch(y){}return!1})()}_withPendingWrite(y){var T=this;return(0,o.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var L=this;return(0,o.Z)(function*(){return L._withPendingWrite((0,o.Z)(function*(){return yield L._withRetries(U=>qp(U,y,T)),L.localCache[y]=T,L.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,o.Z)(function*(){const L=yield T._withRetries(U=>function(w,g){return Zh.apply(this,arguments)}(U,y));return T.localCache[y]=L,L})()}_remove(y){var T=this;return(0,o.Z)(function*(){return T._withPendingWrite((0,o.Z)(function*(){return yield T._withRetries(L=>kr(L,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const T=yield y._withRetries(pe=>{const He=zl(pe,!1).getAll();return new Ba(He).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const L=[],U=new Set;for(const{fbase_key:pe,value:He}of T)U.add(pe),JSON.stringify(y.localCache[pe])!==JSON.stringify(He)&&(y.notifyListeners(pe,He),L.push(pe));for(const pe of Object.keys(y.localCache))y.localCache[pe]&&!U.has(pe)&&(y.notifyListeners(pe,null),L.push(pe));return L})()}notifyListeners(y,T){this.localCache[y]=T;const L=this.listeners[y];if(L)for(const U of Array.from(L))U(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Yl(w,g){return Gn(w,"POST","/v2/accounts/mfaSignIn:start",er(w,g))}function jh(){return(jh=(0,o.Z)(function*(w){return(yield Gn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ql(w){return new Promise((g,y)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=g,T.onerror=L=>{const U=_n("internal-error");U.customData=L,y(U)},T.type="text/javascript",T.charset="UTF-8",function(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(T)})}function ku(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Cr=1e12;class Ls{constructor(g){this.auth=g,this.counter=Cr,this._widgets=new Map}render(g,y){const T=this.counter;return this._widgets.set(T,new $a(g,this.auth.name,y||{})),this.counter++,T}reset(g){var y;const T=g||Cr;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Cr))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,o.Z)(function*(){var T;return null===(T=y._widgets.get(g||Cr))||void 0===T||T.execute(),""})()}}class $a{constructor(g,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;Je(L,"argument-error",{appName:y}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}();const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bc=ku("rcb"),no=new dr(3e4,6e4);class Hc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Sr().grecaptcha}load(g,y=""){return Je((w=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Sr().grecaptcha):new Promise((T,L)=>{const U=Sr().setTimeout(()=>{L(_n(g,"network-request-failed"))},no.get());Sr()[Bc]=()=>{Sr().clearTimeout(U),delete Sr()[Bc];const He=Sr().grecaptcha;if(!He)return void L(_n(g,"internal-error"));const mt=He.render;He.render=(lt,Gt)=>{const or=mt(lt,Gt);return this.counter++,or},this.hostLanguage=y,T(He)},Ql(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Bc,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(U),L(_n(g,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Sr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class To{load(g){return(0,o.Z)(function*(){return new Ls(g)})()}clearedOneInstance(){}}const $c="recaptcha",Dd={theme:"light",type:"image"};class ya{constructor(g,y=Object.assign({},Dd),T){this.parameters=y,this.type=$c,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gr(T),this.isInvisible="invisible"===this.parameters.size,Je("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;Je(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new To:new Hc,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),T=g.getAssertedRecaptcha();return T.getResponse(y)||new Promise(U=>{const pe=He=>{!He||(g.tokenChangeListeners.delete(pe),U(He))};g.tokenChangeListeners.add(pe),g.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Je(!this.parameters.sitekey,this.auth,"argument-error"),Je(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Je("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof g)g(y);else if("string"==typeof g){const T=Sr()[g];"function"==typeof T&&T(y)}}}assertNotDestroyed(){Je(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){Je(Pt()&&!ma(),g.auth,"internal-error"),yield function(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function(w){return jh.apply(this,arguments)}(g.auth);Je(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return Je(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fl{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=R._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function ns(w,g,y){return fs.apply(this,arguments)}function fs(){return(fs=(0,o.Z)(function*(w,g,y){const T=Gr(w),L=yield x(T,g,(0,W.m9)(y));return new fl(L,U=>Ki(T,U))})).apply(this,arguments)}function Gc(w,g,y){return ps.apply(this,arguments)}function ps(){return(ps=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w);yield Ns(!1,T,"phone");const L=yield x(T.auth,g,(0,W.m9)(y));return new fl(L,U=>jo(T,U))})).apply(this,arguments)}function Ca(w,g,y){return xd.apply(this,arguments)}function xd(){return(xd=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w),L=yield x(T.auth,g,(0,W.m9)(y));return new fl(L,U=>Su(T,U))})).apply(this,arguments)}function x(w,g,y){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(function*(w,g,y){var T;const L=yield y.verify();try{let U;if(Je("string"==typeof L,w,"argument-error"),Je(y.type===$c,w,"argument-error"),U="string"==typeof g?{phoneNumber:g}:g,"session"in U){const pe=U.session;if("phoneNumber"in U)return Je("enroll"===pe.type,w,"internal-error"),(yield Gl(w,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{Je("signin"===pe.type,w,"internal-error");const He=(null===(T=U.multiFactorHint)||void 0===T?void 0:T.uid)||U.multiFactorUid;return Je(He,w,"missing-multi-factor-info"),(yield Yl(w,{mfaPendingCredential:pe.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield ua(w,{phoneNumber:U.phoneNumber,recaptchaToken:L});return pe}}finally{y._reset()}})).apply(this,arguments)}function Z(w,g){return X.apply(this,arguments)}function X(){return(X=(0,o.Z)(function*(w,g){yield gi((0,W.m9)(w),g)})).apply(this,arguments)}let me=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Gr(y)}verifyPhoneNumber(y,T){return x(this.auth,y,(0,W.m9)(T))}static credential(y,T){return R._fromVerification(y,T)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:L}=y;return T&&L?R._fromTokenResponse(T,L):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Oe(w,g){return g?at(g):(Je(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class et extends ai{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return bo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return bo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return bo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function ct(w){return Fn(w.auth,new et(w),w.bypassAuthState)}function gt(w){const{auth:g,user:y}=w;return Je(y,g,"internal-error"),hn(y,new et(w),w.bypassAuthState)}function Nn(w){return kn.apply(this,arguments)}function kn(){return(kn=(0,o.Z)(function*(w){const{auth:g,user:y}=w;return Je(y,g,"internal-error"),gi(y,new et(w),w.bypassAuthState)})).apply(this,arguments)}class Jr{constructor(g,y,T,L,U=!1){this.auth=g,this.resolver=T,this.user=L,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,o.Z)(function*(T,L){g.pendingPromise={resolve:T,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(U){g.reject(U)}});return function(T,L){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,o.Z)(function*(){const{urlResponse:T,sessionId:L,postBody:U,tenantId:pe,error:He,type:mt}=g;if(He)return void y.reject(He);const lt={auth:y.auth,requestUri:T,sessionId:L,tenantId:pe||void 0,postBody:U||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(mt)(lt))}catch(Gt){y.reject(Gt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ct;case"linkViaPopup":case"linkViaRedirect":return Nn;case"reauthViaPopup":case"reauthViaRedirect":return gt;default:Sn(this.auth,"internal-error")}}resolve(g){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Us=new dr(2e3,1e4);function yi(w,g,y){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.Z)(function*(w,g,y){const T=Gr(w);ls(w,g,Se);const L=Oe(T,y);return new Ui(T,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function Jl(w,g,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w);ls(T.auth,g,Se);const L=Oe(T.auth,y);return new Ui(T.auth,"reauthViaPopup",g,L,T).executeNotNull()})).apply(this,arguments)}function Ko(w,g,y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w);ls(T.auth,g,Se);const L=Oe(T.auth,y);return new Ui(T.auth,"linkViaPopup",g,L,T).executeNotNull()})).apply(this,arguments)}let Ui=(()=>{class w extends Jr{constructor(y,T,L,U,pe){super(y,T,U,pe),this.provider=L,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const T=yield y.execute();return Je(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,o.Z)(function*(){yr(1===y.filter.length,"Popup operations only handle one event");const T=Mu();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(L=>{y.reject(L)}),y.resolver._isIframeWebStorageSupported(y.auth,L=>{L||y.reject(_n(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,L;this.pollId=(null===(L=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Us.get())};y()}}return w.currentPopupAction=null,w})();const Ur=new Map;class jp extends Jr{constructor(g,y,T=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,o.Z)(function*(){let T=Ur.get(y.auth._key());if(!T){try{const U=(yield function(w,g){return ml.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;T=()=>Promise.resolve(U)}catch(L){T=()=>Promise.reject(L)}Ur.set(y.auth._key(),T)}return y.bypassAuthState||Ur.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,T=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(T,g);if("unknown"!==g.type){if(g.eventId){const L=yield T.auth._redirectUserForId(g.eventId);if(L)return T.user=L,y().call(T,g);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function ml(){return(ml=(0,o.Z)(function*(w,g){const y=Bp(g),T=$h(w);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(y));return yield T._remove(y),L})).apply(this,arguments)}function Xl(w,g){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,o.Z)(function*(w,g){return $h(w)._set(Bp(g),"true")})).apply(this,arguments)}function Hh(){Ur.clear()}function $h(w){return at(w._redirectPersistence)}function Bp(w){return Xt("pendingRedirect",w.config.apiKey,w.name)}function zc(w,g,y){return function(w,g,y){return Wc.apply(this,arguments)}(w,g,y)}function Wc(){return(Wc=(0,o.Z)(function*(w,g,y){const T=Gr(w);ls(w,g,Se);const L=Oe(T,y);return yield Xl(L,T),L._openRedirect(T,g,"signInViaRedirect")})).apply(this,arguments)}function za(w,g,y){return function(w,g,y){return Sd.apply(this,arguments)}(w,g,y)}function Sd(){return(Sd=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w);ls(T.auth,g,Se);const L=Oe(T.auth,y);yield Xl(L,T.auth);const U=yield tc(T);return L._openRedirect(T.auth,g,"reauthViaRedirect",U)})).apply(this,arguments)}function zh(w,g,y){return function(w,g,y){return Zi.apply(this,arguments)}(w,g,y)}function Zi(){return(Zi=(0,o.Z)(function*(w,g,y){const T=(0,W.m9)(w);ls(T.auth,g,Se);const L=Oe(T.auth,y);yield Ns(!1,T,g.providerId),yield Xl(L,T.auth);const U=yield tc(T);return L._openRedirect(T.auth,g,"linkViaRedirect",U)})).apply(this,arguments)}function ec(w,g){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,o.Z)(function*(w,g){return yield Gr(w)._initializationPromise,Kc(w,g,!1)})).apply(this,arguments)}function Kc(w,g){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,o.Z)(function*(w,g,y=!1){const T=Gr(w),L=Oe(T,g),pe=yield new jp(T,L,y).execute();return pe&&!y&&(delete pe.user._redirectEventId,yield T._persistUserIfCurrent(pe.user),yield T._setRedirectUser(null,g)),pe})).apply(this,arguments)}function tc(w){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(w){const g=Mu(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Md{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(g,T)&&(y=!0,this.sendToConsumer(g,T),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yh(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var T;if(g.error&&!Yh(g)){const L=(null===(T=g.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(_n(this.auth,L))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const T=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&T}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(g))}saveEventToCache(g){this.cachedEventUids.add(Qv(g)),this.lastProcessedEventTime=Date.now()}}function Qv(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function Yh({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Xv(w){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,o.Z)(function*(w,g={}){return Gn(w,"GET","/v1/projects",g)})).apply(this,arguments)}const i_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nd=/^https?/;function s_(){return(s_=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Xv(w);for(const y of g)try{if(sT(y))return}catch(T){}Sn(w,"unauthorized-domain")})).apply(this,arguments)}function sT(w){const g=Mr(),{protocol:y,hostname:T}=new URL(g);if(w.startsWith("chrome-extension://")){const pe=new URL(w);return""===pe.hostname&&""===T?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&pe.hostname===T}if(!Nd.test(y))return!1;if(i_.test(w))return T===w;const L=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const Yc=new dr(3e4,6e4);function rc(){const w=Sr().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let ic=null;function o_(w){return ic=ic||function(w){return new Promise((g,y)=>{var T,L,U;function pe(){rc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{rc(),y(_n(w,"network-request-failed"))},timeout:Yc.get()})}if(null===(L=null===(T=Sr().gapi)||void 0===T?void 0:T.iframes)||void 0===L?void 0:L.Iframe)g(gapi.iframes.getContext());else{if(!(null===(U=Sr().gapi)||void 0===U?void 0:U.load)){const He=ku("iframefcb");return Sr()[He]=()=>{gapi.load?pe():y(_n(w,"network-request-failed"))},Ql(`https://apis.google.com/js/api.js?onload=${He}`)}pe()}}).catch(g=>{throw ic=null,g})}(w),ic}const _l=new dr(5e3,15e3),t0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n0(w){const g=w.config;Je(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Tn(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,T={apiKey:g.apiKey,appName:w.name,v:H.SDK_VERSION},L=a_.get(w.config.apiHost);L&&(T.eid=L);const U=w._getFrameworks();return U.length&&(T.fw=U.join(",")),`${y}?${(0,W.xO)(T).slice(1)}`}function sc(){return(sc=(0,o.Z)(function*(w){const g=yield o_(w),y=Sr().gapi;return Je(y,w,"internal-error"),g.open({where:document.body,url:n0(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t0,dontclear:!0},T=>new Promise(function(){var L=(0,o.Z)(function*(U,pe){yield T.restyle({setHideOnLeave:!1});const He=_n(w,"network-request-failed"),mt=Sr().setTimeout(()=>{pe(He)},_l.get());function lt(){Sr().clearTimeout(mt),U(T)}T.ping(lt).then(lt,()=>{pe(He)})});return function(U,pe){return L.apply(this,arguments)}}()))})).apply(this,arguments)}const r0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jh{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function oc(w,g,y,T,L,U){Je(w.config.authDomain,w,"auth-domain-config-required"),Je(w.config.apiKey,w,"invalid-api-key");const pe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:T,v:H.SDK_VERSION,eventId:L};if(g instanceof Se){g.setDefaultLanguage(w.languageCode),pe.providerId=g.providerId||"",(0,W.xb)(g.getCustomParameters())||(pe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[mt,lt]of Object.entries(U||{}))pe[mt]=lt}if(g instanceof Ye){const mt=g.getScopes().filter(lt=>""!==lt);mt.length>0&&(pe.scopes=mt.join(","))}w.tenantId&&(pe.tid=w.tenantId);const He=pe;for(const mt of Object.keys(He))void 0===He[mt]&&delete He[mt];return`${function({config:w}){return w.emulator?Tn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,W.xO)(He).slice(1)}`}const $p="webStorageSupport",tf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eo,this._completeRedirectFn=Kc}_openPopup(g,y,T,L){var U=this;return(0,o.Z)(function*(){var pe;yr(null===(pe=U.eventManagers[g._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const He=oc(g,y,T,Mr(),L);return function(w,g,y,T=500,L=600){const U=Math.max((window.screen.availHeight-L)/2,0).toString(),pe=Math.max((window.screen.availWidth-T)/2,0).toString();let He="";const mt=Object.assign(Object.assign({},r0),{width:T.toString(),height:L.toString(),top:U,left:pe}),lt=(0,W.z$)().toLowerCase();y&&(He=sr(lt)?"_blank":y),Hr(lt)&&(g=g||"http://localhost",mt.scrollbars="yes");const Gt=Object.entries(mt).reduce((Wn,[li,_r])=>`${Wn}${li}=${_r},`,"");if(function(w=(0,W.z$)()){var g;return oa(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(lt)&&"_self"!==He)return function(w,g){const y=document.createElement("a");y.href=w,y.target=g;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(g||"",He),new Jh(null);const or=window.open(g||"",He,Gt);Je(or,w,"popup-blocked");try{or.focus()}catch(Wn){}return new Jh(or)}(g,He,Mu())})()}_openRedirect(g,y,T,L){var U=this;return(0,o.Z)(function*(){return yield U._originValidation(g),w=oc(g,y,T,Mr(),L),Sr().location.href=w,new Promise(()=>{});var w})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:L,promise:U}=this.eventManagers[y];return L?Promise.resolve(L):(yr(U,"If manager is not set, promise should be"),U)}const T=this.initAndGetManager(g);return this.eventManagers[y]={promise:T},T}initAndGetManager(g){var y=this;return(0,o.Z)(function*(){const T=yield function(w){return sc.apply(this,arguments)}(g),L=new Md(g);return T.register("authEvent",U=>(Je(null==U?void 0:U.authEvent,g,"invalid-auth-event"),{status:L.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:L},y.iframes[g._key()]=T,L})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send($p,{type:$p},L=>{var U;const pe=null===(U=null==L?void 0:L[0])||void 0===U?void 0:U[$p];void 0!==pe&&y(!!pe),Sn(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(w){return s_.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return aa()||Ro()||oa()}};class ac extends class{constructor(g){this.factorId=g}_process(g,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,T);case"signin":return this._finalizeSignIn(g,y.credential);default:return Zn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ac(g)}_finalizeEnroll(g,y,T){return function(w,g){return Gn(w,"POST","/v2/accounts/mfaEnrollment:finalize",er(w,g))}(g,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function(w,g){return Gn(w,"POST","/v2/accounts/mfaSignIn:finalize",er(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nf=(()=>{class w{constructor(){}static assertion(y){return ac._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var w,Fd="@firebase/auth";class rf{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(T=>{var L;g((null===(L=T)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}w="Browser",(0,H._registerComponent)(new Cn.wA("auth",(g,{options:y})=>{const T=g.getProvider("app").getImmediate(),{apiKey:L,authDomain:U}=T.options;return(pe=>{Je(L&&!L.includes(":"),"invalid-api-key",{appName:pe.name}),Je(!(null==U?void 0:U.includes(":")),"argument-error",{appName:pe.name});const He={apiKey:L,authDomain:U,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$r(w)},mt=new fi(pe,He);return function(w,g){const y=(null==g?void 0:g.persistence)||[],T=(Array.isArray(y)?y:[y]).map(at);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(T,null==g?void 0:g.popupRedirectResolver)}(mt,y),mt})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,T)=>{g.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Cn.wA("auth-internal",g=>{const y=Gr(g.getProvider("auth").getImmediate());return new rf(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Fd,"0.19.3",void 0),(0,H.registerVersion)(Fd,"0.19.3","esm2017")},3854:(Tt,Ke,z)=>{"use strict";z.d(Ke,{BH:()=>De,LL:()=>xt,ZR:()=>Cn,gQ:()=>Zn,zI:()=>Qt,hu:()=>W,g5:()=>H,US:()=>fe,tV:()=>ve,h$:()=>Fe,$s:()=>Gn,r3:()=>$n,Sg:()=>Ne,ne:()=>yr,p$:()=>K,vZ:()=>_n,ZB:()=>Q,gK:()=>Pt,pd:()=>Je,m9:()=>_o,z$:()=>Me,GJ:()=>di,jU:()=>ue,ru:()=>Pe,d:()=>Xe,xb:()=>Xn,w1:()=>Ct,hl:()=>Hn,uI:()=>we,UG:()=>ke,Yr:()=>yn,b$:()=>Ve,G6:()=>qt,Mn:()=>O,w9:()=>Ai,cI:()=>xs,UI:()=>Sn,xO:()=>ls,zd:()=>Ss,DV:()=>Ks,ug:()=>Tn,dS:()=>dr,Pz:()=>ko,Dv:()=>Mr,Wj:()=>rn,lb:()=>Jt,eu:()=>on});const W=function(se,ee){if(!se)throw H(ee)},H=function(se){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+se)},Ee=function(se){const ee=[];let oe=0;for(let Be=0;Be<se.length;Be++){let Ae=se.charCodeAt(Be);Ae<128?ee[oe++]=Ae:Ae<2048?(ee[oe++]=Ae>>6|192,ee[oe++]=63&Ae|128):55296==(64512&Ae)&&Be+1<se.length&&56320==(64512&se.charCodeAt(Be+1))?(Ae=65536+((1023&Ae)<<10)+(1023&se.charCodeAt(++Be)),ee[oe++]=Ae>>18|240,ee[oe++]=Ae>>12&63|128,ee[oe++]=Ae>>6&63|128,ee[oe++]=63&Ae|128):(ee[oe++]=Ae>>12|224,ee[oe++]=Ae>>6&63|128,ee[oe++]=63&Ae|128)}return ee},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,ee){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Be=[];for(let Ae=0;Ae<se.length;Ae+=3){const yt=se[Ae],Vt=Ae+1<se.length,vn=Vt?se[Ae+1]:0,tr=Ae+2<se.length,Lr=tr?se[Ae+2]:0;let le=(15&vn)<<2|Lr>>6,ce=63&Lr;tr||(ce=64,Vt||(le=64)),Be.push(oe[yt>>2],oe[(3&yt)<<4|vn>>4],oe[le],oe[ce])}return Be.join("")},encodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(se):this.encodeByteArray(Ee(se),ee)},decodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(se):function(se){const ee=[];let oe=0,Be=0;for(;oe<se.length;){const Ae=se[oe++];if(Ae<128)ee[Be++]=String.fromCharCode(Ae);else if(Ae>191&&Ae<224){const yt=se[oe++];ee[Be++]=String.fromCharCode((31&Ae)<<6|63&yt)}else if(Ae>239&&Ae<365){const tr=((7&Ae)<<18|(63&se[oe++])<<12|(63&se[oe++])<<6|63&se[oe++])-65536;ee[Be++]=String.fromCharCode(55296+(tr>>10)),ee[Be++]=String.fromCharCode(56320+(1023&tr))}else{const yt=se[oe++],Vt=se[oe++];ee[Be++]=String.fromCharCode((15&Ae)<<12|(63&yt)<<6|63&Vt)}}return ee.join("")}(this.decodeStringToByteArray(se,ee))},decodeStringToByteArray(se,ee){this.init_();const oe=ee?this.charToByteMapWebSafe_:this.charToByteMap_,Be=[];for(let Ae=0;Ae<se.length;){const yt=oe[se.charAt(Ae++)],vn=Ae<se.length?oe[se.charAt(Ae)]:0;++Ae;const Lr=Ae<se.length?oe[se.charAt(Ae)]:64;++Ae;const be=Ae<se.length?oe[se.charAt(Ae)]:64;if(++Ae,null==yt||null==vn||null==Lr||null==be)throw Error();Be.push(yt<<2|vn>>4),64!==Lr&&(Be.push(vn<<4&240|Lr>>2),64!==be&&Be.push(Lr<<6&192|be))}return Be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},Fe=function(se){const ee=Ee(se);return fe.encodeByteArray(ee,!0)},ge=function(se){return Fe(se).replace(/\./g,"")},ve=function(se){try{return fe.decodeString(se,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function K(se){return Q(void 0,se)}function Q(se,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return ee}for(const oe in ee)!ee.hasOwnProperty(oe)||!re(oe)||(se[oe]=Q(se[oe],ee[oe]));return se}function re(se){return"__proto__"!==se}class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,oe)=>{this.resolve=ee,this.reject=oe})}wrapCallback(ee){return(oe,Be)=>{oe?this.reject(oe):this.resolve(Be),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(oe):ee(oe,Be))}}}function Ne(se,ee){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Be=ee||"demo-project",Ae=se.iat||0,yt=se.sub||se.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${Be}`,aud:Be,iat:Ae,exp:Ae+3600,auth_time:Ae,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},se);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Vt)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function ue(){return"object"==typeof self&&self.self===self}function Pe(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){return Me().indexOf("Electron/")>=0}function Ct(){const se=Me();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function O(){return Me().indexOf("MSAppHost/")>=0}function yn(){return!1}function qt(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hn(){return"object"==typeof indexedDB}function on(){return new Promise((se,ee)=>{try{let oe=!0;const Be="validate-browser-context-for-indexeddb-analytics-module",Ae=self.indexedDB.open(Be);Ae.onsuccess=()=>{Ae.result.close(),oe||self.indexedDB.deleteDatabase(Be),se(!0)},Ae.onupgradeneeded=()=>{oe=!1},Ae.onerror=()=>{var yt;ee((null===(yt=Ae.error)||void 0===yt?void 0:yt.message)||"")}}catch(oe){ee(oe)}})}function Qt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Cn extends Error{constructor(ee,oe,Be){super(oe),this.code=ee,this.customData=Be,this.name="FirebaseError",Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(ee,oe,Be){this.service=ee,this.serviceName=oe,this.errors=Be}create(ee,...oe){const Be=oe[0]||{},Ae=`${this.service}/${ee}`,yt=this.errors[ee],Vt=yt?function(se,ee){return se.replace(sl,(oe,Be)=>{const Ae=ee[Be];return null!=Ae?String(Ae):`<${Be}?>`})}(yt,Be):"Error";return new Cn(Ae,`${this.serviceName}: ${Vt} (${Ae}).`,Be)}}const sl=/\{\$([^}]+)}/g;function xs(se){return JSON.parse(se)}function ko(se){return JSON.stringify(se)}const Un=function(se){let ee={},oe={},Be={},Ae="";try{const yt=se.split(".");ee=xs(ve(yt[0])||""),oe=xs(ve(yt[1])||""),Ae=yt[2],Be=oe.d||{},delete oe.d}catch(yt){}return{header:ee,claims:oe,data:Be,signature:Ae}},Ai=function(se){const oe=Un(se).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},di=function(se){const ee=Un(se).claims;return"object"==typeof ee&&!0===ee.admin};function $n(se,ee){return Object.prototype.hasOwnProperty.call(se,ee)}function Ks(se,ee){if(Object.prototype.hasOwnProperty.call(se,ee))return se[ee]}function Xn(se){for(const ee in se)if(Object.prototype.hasOwnProperty.call(se,ee))return!1;return!0}function Sn(se,ee,oe){const Be={};for(const Ae in se)Object.prototype.hasOwnProperty.call(se,Ae)&&(Be[Ae]=ee.call(oe,se[Ae],Ae,se));return Be}function _n(se,ee){if(se===ee)return!0;const oe=Object.keys(se),Be=Object.keys(ee);for(const Ae of oe){if(!Be.includes(Ae))return!1;const yt=se[Ae],Vt=ee[Ae];if(mo(yt)&&mo(Vt)){if(!_n(yt,Vt))return!1}else if(yt!==Vt)return!1}for(const Ae of Be)if(!oe.includes(Ae))return!1;return!0}function mo(se){return null!==se&&"object"==typeof se}function ls(se){const ee=[];for(const[oe,Be]of Object.entries(se))Array.isArray(Be)?Be.forEach(Ae=>{ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(Ae))}):ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(Be));return ee.length?"&"+ee.join("&"):""}function Ss(se){const ee={};return se.replace(/^\?/,"").split("&").forEach(Be=>{if(Be){const[Ae,yt]=Be.split("=");ee[decodeURIComponent(Ae)]=decodeURIComponent(yt)}}),ee}function Je(se){const ee=se.indexOf("?");if(!ee)return"";const oe=se.indexOf("#",ee);return se.substring(ee,oe>0?oe:void 0)}class Zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ee=1;ee<this.blockSize;++ee)this.pad_[ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ee,oe){oe||(oe=0);const Be=this.W_;if("string"==typeof ee)for(let be=0;be<16;be++)Be[be]=ee.charCodeAt(oe)<<24|ee.charCodeAt(oe+1)<<16|ee.charCodeAt(oe+2)<<8|ee.charCodeAt(oe+3),oe+=4;else for(let be=0;be<16;be++)Be[be]=ee[oe]<<24|ee[oe+1]<<16|ee[oe+2]<<8|ee[oe+3],oe+=4;for(let be=16;be<80;be++){const le=Be[be-3]^Be[be-8]^Be[be-14]^Be[be-16];Be[be]=4294967295&(le<<1|le>>>31)}let Lr,Br,Ae=this.chain_[0],yt=this.chain_[1],Vt=this.chain_[2],vn=this.chain_[3],tr=this.chain_[4];for(let be=0;be<80;be++){be<40?be<20?(Lr=vn^yt&(Vt^vn),Br=1518500249):(Lr=yt^Vt^vn,Br=1859775393):be<60?(Lr=yt&Vt|vn&(yt|Vt),Br=2400959708):(Lr=yt^Vt^vn,Br=3395469782);const le=(Ae<<5|Ae>>>27)+Lr+tr+Br+Be[be]&4294967295;tr=vn,vn=Vt,Vt=4294967295&(yt<<30|yt>>>2),yt=Ae,Ae=le}this.chain_[0]=this.chain_[0]+Ae&4294967295,this.chain_[1]=this.chain_[1]+yt&4294967295,this.chain_[2]=this.chain_[2]+Vt&4294967295,this.chain_[3]=this.chain_[3]+vn&4294967295,this.chain_[4]=this.chain_[4]+tr&4294967295}update(ee,oe){if(null==ee)return;void 0===oe&&(oe=ee.length);const Be=oe-this.blockSize;let Ae=0;const yt=this.buf_;let Vt=this.inbuf_;for(;Ae<oe;){if(0===Vt)for(;Ae<=Be;)this.compress_(ee,Ae),Ae+=this.blockSize;if("string"==typeof ee){for(;Ae<oe;)if(yt[Vt]=ee.charCodeAt(Ae),++Vt,++Ae,Vt===this.blockSize){this.compress_(yt),Vt=0;break}}else for(;Ae<oe;)if(yt[Vt]=ee[Ae],++Vt,++Ae,Vt===this.blockSize){this.compress_(yt),Vt=0;break}}this.inbuf_=Vt,this.total_+=oe}digest(){const ee=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ae=this.blockSize-1;Ae>=56;Ae--)this.buf_[Ae]=255&oe,oe/=256;this.compress_(this.buf_);let Be=0;for(let Ae=0;Ae<5;Ae++)for(let yt=24;yt>=0;yt-=8)ee[Be]=this.chain_[Ae]>>yt&255,++Be;return ee}}function yr(se,ee){const oe=new wt(se,ee);return oe.subscribe.bind(oe)}class wt{constructor(ee,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{ee(this)}).catch(Be=>{this.error(Be)})}next(ee){this.forEachObserver(oe=>{oe.next(ee)})}error(ee){this.forEachObserver(oe=>{oe.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,oe,Be){let Ae;if(void 0===ee&&void 0===oe&&void 0===Be)throw new Error("Missing Observer.");Ae=function(se,ee){if("object"!=typeof se||null===se)return!1;for(const oe of["next","error","complete"])if(oe in se&&"function"==typeof se[oe])return!0;return!1}(ee)?ee:{next:ee,error:oe,complete:Be},void 0===Ae.next&&(Ae.next=oi),void 0===Ae.error&&(Ae.error=oi),void 0===Ae.complete&&(Ae.complete=oi);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ae.error(this.finalError):Ae.complete()}catch(Vt){}}),this.observers.push(Ae),yt}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,ee)}sendOne(ee,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{oe(this.observers[ee])}catch(Be){"undefined"!=typeof console&&console.error&&console.error(Be)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oi(){}const Mr=function(se,ee,oe,Be){let Ae;if(Be<ee?Ae="at least "+ee:Be>oe&&(Ae=0===oe?"none":"no more than "+oe),Ae)throw new Error(se+" failed: Was called with "+Be+(1===Be?" argument.":" arguments.")+" Expects "+Ae+".")};function Pt(se,ee){return`${se} failed: ${ee} argument `}function rn(se,ee,oe,Be){if((!Be||oe)&&"function"!=typeof oe)throw new Error(Pt(se,ee)+"must be a valid function.")}function Jt(se,ee,oe,Be){if((!Be||oe)&&("object"!=typeof oe||null===oe))throw new Error(Pt(se,ee)+"must be a valid context object.")}const dr=function(se){const ee=[];let oe=0;for(let Be=0;Be<se.length;Be++){let Ae=se.charCodeAt(Be);if(Ae>=55296&&Ae<=56319){const yt=Ae-55296;Be++,W(Be<se.length,"Surrogate pair missing trail surrogate."),Ae=65536+(yt<<10)+(se.charCodeAt(Be)-56320)}Ae<128?ee[oe++]=Ae:Ae<2048?(ee[oe++]=Ae>>6|192,ee[oe++]=63&Ae|128):Ae<65536?(ee[oe++]=Ae>>12|224,ee[oe++]=Ae>>6&63|128,ee[oe++]=63&Ae|128):(ee[oe++]=Ae>>18|240,ee[oe++]=Ae>>12&63|128,ee[oe++]=Ae>>6&63|128,ee[oe++]=63&Ae|128)}return ee},Tn=function(se){let ee=0;for(let oe=0;oe<se.length;oe++){const Be=se.charCodeAt(oe);Be<128?ee++:Be<2048?ee+=2:Be>=55296&&Be<=56319?(ee+=4,oe++):ee+=3}return ee};function Gn(se,ee=1e3,oe=2){const Be=ee*Math.pow(oe,se),Ae=Math.round(.5*Be*(Math.random()-.5)*2);return Math.min(144e5,Be+Ae)}function _o(se){return se&&se._delegate?se._delegate:se}},2329:(Tt,Ke,z)=>{"use strict";z.d(Ke,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=z(8026);(0,o.registerVersion)("firebase","9.5.0","app")},7841:(Tt,Ke,z)=>{"use strict";z.d(Ke,{Z:()=>o.Z});var o=z(3394);o.Z.registerVersion("firebase","9.5.0","app-compat")},4828:(Tt,Ke,z)=>{"use strict";z.r(Ke);var o=z(8239),W=z(3394),H=z(2476),Ee=z(3854),Fe=(z(8026),z(5422),z(3910));function ge(){return window}function Q(){return(Q=(0,o.Z)(function*(be,le,ce){var We;const{BuildInfo:dt}=ge();(0,H.ap)(le.sessionId,"AuthEvent did not contain a session ID");const Bt=yield ue(le.sessionId),wn={};return(0,H.aq)()?wn.ibi=dt.packageName:(0,H.ar)()?wn.apn=dt.packageName:(0,H.as)(be,"operation-not-supported-in-this-environment"),dt.displayName&&(wn.appDisplayName=dt.displayName),wn.sessionId=Bt,(0,H.at)(be,ce,le.type,void 0,null!==(We=le.eventId)&&void 0!==We?We:void 0,wn)})).apply(this,arguments)}function De(){return(De=(0,o.Z)(function*(be){const{BuildInfo:le}=ge(),ce={};(0,H.aq)()?ce.iosBundleId=le.packageName:(0,H.ar)()?ce.androidPackageName=le.packageName:(0,H.as)(be,"operation-not-supported-in-this-environment"),yield(0,H.au)(be,ce)})).apply(this,arguments)}function we(){return(we=(0,o.Z)(function*(be,le,ce){const{cordova:We}=ge();let dt=()=>{};try{yield new Promise((Bt,wn)=>{let dn=null;function vr(){var sn;Bt();const gr=null===(sn=We.plugins.browsertab)||void 0===sn?void 0:sn.close;"function"==typeof gr&&gr(),"function"==typeof(null==ce?void 0:ce.close)&&ce.close()}function lr(){dn||(dn=window.setTimeout(()=>{wn((0,H.av)(be,"redirect-cancelled-by-user"))},2e3))}function nr(){"visible"===(null==document?void 0:document.visibilityState)&&lr()}le.addPassiveListener(vr),document.addEventListener("resume",lr,!1),(0,H.ar)()&&document.addEventListener("visibilitychange",nr,!1),dt=()=>{le.removePassiveListener(vr),document.removeEventListener("resume",lr,!1),document.removeEventListener("visibilitychange",nr,!1),dn&&window.clearTimeout(dn)}})}finally{dt()}})).apply(this,arguments)}function ue(be){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,o.Z)(function*(be){const le=Ve(be),ce=yield crypto.subtle.digest("SHA-256",le);return Array.from(new Uint8Array(ce)).map(dt=>dt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ve(be){if((0,H.ap)(/[0-9a-zA-Z]+/.test(be),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(be);const le=new ArrayBuffer(be.length),ce=new Uint8Array(le);for(let We=0;We<be.length;We++)ce[We]=be.charCodeAt(We);return ce}class Ct extends H.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(le=>{this.resolveInialized=le})}addPassiveListener(le){this.passiveListeners.add(le)}removePassiveListener(le){this.passiveListeners.delete(le)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(le){return this.resolveInialized(),this.passiveListeners.forEach(ce=>ce(le)),super.onEvent(le)}initialized(){var le=this;return(0,o.Z)(function*(){yield le.initPromise})()}}function qt(be){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,o.Z)(function*(be){const le=yield en()._get(Ft(be));return le&&(yield en()._remove(Ft(be))),le})).apply(this,arguments)}function Qt(){const be=[],le="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ce=0;ce<20;ce++){const We=Math.floor(Math.random()*le.length);be.push(le.charAt(We))}return be.join("")}function en(){return(0,H.ax)(H.b)}function Ft(be){return(0,H.ay)("authEvent",be.config.apiKey,be.name)}function zs(be){if(!(null==be?void 0:be.includes("?")))return{};const[le,...ce]=be.split("?");return(0,Ee.zd)(ce.join("?"))}function Un(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.av)("no-auth-event")}}function $n(){var be;return(null===(be=null==self?void 0:self.location)||void 0===be?void 0:be.protocol)||null}function Xn(be=(0,Ee.z$)()){return!("file:"!==$n()&&"ionic:"!==$n()||!be.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ss(){try{const be=self.localStorage,le=H.aG();if(be)return be.setItem(le,"1"),be.removeItem(le),!function(be=(0,Ee.z$)()){return(0,Ee.w1)()&&11===(null==document?void 0:document.documentMode)||function(be=(0,Ee.z$)()){return/Edge\/\d+/.test(be)}(be)}()||(0,Ee.hl)()}catch(be){return Je()&&(0,Ee.hl)()}return!1}function Je(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return("http:"===$n()||"https:"===$n()||(0,Ee.ru)()||Xn())&&!((0,Ee.b$)()||(0,Ee.UG)())&&Ss()&&!Je()}function yr(){return Xn()&&"undefined"!=typeof document}function at(){return(at=(0,o.Z)(function*(){return!!yr()&&new Promise(be=>{const le=setTimeout(()=>{be(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(le),be(!0)})})})).apply(this,arguments)}const On={LOCAL:"local",NONE:"none",SESSION:"session"},oi=H.aw,Mr="persistence";function Nt(be){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(be){yield be._initializationPromise;const le=dr(),ce=H.ay(Mr,be.config.apiKey,be.name);(null==le?void 0:le.sessionStorage)&&le.sessionStorage.setItem(ce,be._getPersistence())})).apply(this,arguments)}function dr(){return"undefined"!=typeof window?window:null}const Tn=H.aw;class ot{constructor(){this.browserResolver=H.ax(H.k),this.cordovaResolver=H.ax(class{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aA}_initialize(le){var ce=this;return(0,o.Z)(function*(){const We=le._key();let dt=ce.eventManagers.get(We);return dt||(dt=new Ct(le),ce.eventManagers.set(We,dt),ce.attachCallbackListeners(le,dt)),dt})()}_openPopup(le){(0,H.as)(le,"operation-not-supported-in-this-environment")}_openRedirect(le,ce,We,dt){var Bt=this;return(0,o.Z)(function*(){!function(be){var le,ce,We,dt,Bt,wn,dn,vr,lr,nr;const sn=ge();(0,H.aw)("function"==typeof(null===(le=null==sn?void 0:sn.universalLinks)||void 0===le?void 0:le.subscribe),be,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.aw)(void 0!==(null===(ce=null==sn?void 0:sn.BuildInfo)||void 0===ce?void 0:ce.packageName),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.aw)("function"==typeof(null===(Bt=null===(dt=null===(We=null==sn?void 0:sn.cordova)||void 0===We?void 0:We.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===Bt?void 0:Bt.openUrl),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aw)("function"==typeof(null===(vr=null===(dn=null===(wn=null==sn?void 0:sn.cordova)||void 0===wn?void 0:wn.plugins)||void 0===dn?void 0:dn.browsertab)||void 0===vr?void 0:vr.isAvailable),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aw)("function"==typeof(null===(nr=null===(lr=null==sn?void 0:sn.cordova)||void 0===lr?void 0:lr.InAppBrowser)||void 0===nr?void 0:nr.open),be,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(le);const wn=yield Bt._initialize(le);yield wn.initialized(),wn.resetRedirect(),(0,H.aB)(),yield Bt._originValidation(le);const dn=function(be,le,ce=null){return{type:le,eventId:ce,urlResponse:null,sessionId:Qt(),postBody:null,tenantId:be.tenantId,error:(0,H.av)(be,"no-auth-event")}}(le,We,dt);yield function(be,le){return en()._set(Ft(be),le)}(le,dn);const vr=yield function(be,le,ce){return Q.apply(this,arguments)}(le,dn,ce),lr=yield function(be){const{cordova:le}=ge();return new Promise(ce=>{le.plugins.browsertab.isAvailable(We=>{let dt=null;We?le.plugins.browsertab.openUrl(be):dt=le.InAppBrowser.open(be,(0,H.ao)()?"_blank":"_system","location=yes"),ce(dt)})})}(vr);return function(be,le,ce){return we.apply(this,arguments)}(le,wn,lr)})()}_isIframeWebStorageSupported(le,ce){throw new Error("Method not implemented.")}_originValidation(le){const ce=le._key();return this.originValidationPromises[ce]||(this.originValidationPromises[ce]=function(be){return De.apply(this,arguments)}(le)),this.originValidationPromises[ce]}attachCallbackListeners(le,ce){const{universalLinks:We,handleOpenURL:dt,BuildInfo:Bt}=ge(),wn=setTimeout((0,o.Z)(function*(){yield qt(le),ce.onEvent(Un())}),500),dn=function(){var nr=(0,o.Z)(function*(sn){clearTimeout(wn);const gr=yield qt(le);let Os=null;gr&&(null==sn?void 0:sn.url)&&(Os=function(be,le){var ce,We;const dt=function(be){const le=zs(be),ce=le.link?decodeURIComponent(le.link):void 0,We=zs(ce).link,dt=le.deep_link_id?decodeURIComponent(le.deep_link_id):void 0;return zs(dt).link||dt||We||ce||be}(le);if(dt.includes("/__/auth/callback")){const Bt=zs(dt),wn=Bt.firebaseError?function(be){try{return JSON.parse(be)}catch(le){return null}}(decodeURIComponent(Bt.firebaseError)):null,dn=null===(We=null===(ce=null==wn?void 0:wn.code)||void 0===ce?void 0:ce.split("auth/"))||void 0===We?void 0:We[1],vr=dn?(0,H.av)(dn):null;return vr?{type:be.type,eventId:be.eventId,tenantId:be.tenantId,error:vr,urlResponse:null,sessionId:null,postBody:null}:{type:be.type,eventId:be.eventId,tenantId:be.tenantId,sessionId:be.sessionId,urlResponse:dt,postBody:null}}return null}(gr,sn.url)),ce.onEvent(Os||Un())});return function(gr){return nr.apply(this,arguments)}}();void 0!==We&&"function"==typeof We.subscribe&&We.subscribe(null,dn);const vr=dt,lr=`${Bt.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var nr=(0,o.Z)(function*(sn){if(sn.toLowerCase().startsWith(lr)&&dn({url:sn}),"function"==typeof vr)try{vr(sn)}catch(gr){console.error(gr)}});return function(sn){return nr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aA}_initialize(le){var ce=this;return(0,o.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._initialize(le)})()}_openPopup(le,ce,We,dt){var Bt=this;return(0,o.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openPopup(le,ce,We,dt)})()}_openRedirect(le,ce,We,dt){var Bt=this;return(0,o.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openRedirect(le,ce,We,dt)})()}_isIframeWebStorageSupported(le,ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(le,ce)}_originValidation(le){return this.assertedUnderlyingResolver._originValidation(le)}get _shouldInitProactively(){return yr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var le=this;return(0,o.Z)(function*(){if(le.underlyingResolver)return;const ce=yield function(){return at.apply(this,arguments)}();le.underlyingResolver=ce?le.cordovaResolver:le.browserResolver})()}}function St(be){return be.unwrap()}function er(be){return bn(be)}function bn(be){const{_tokenResponse:le}=be instanceof Ee.ZR?be.customData:be;if(!le)return null;if(!(be instanceof Ee.ZR)&&"temporaryProof"in le&&"phoneNumber"in le)return H.P.credentialFromResult(be);const ce=le.providerId;if(!ce||ce===H.o.PASSWORD)return null;let We;switch(ce){case H.o.GOOGLE:We=H.N;break;case H.o.FACEBOOK:We=H.M;break;case H.o.GITHUB:We=H.Q;break;case H.o.TWITTER:We=H.V;break;default:const{oauthIdToken:dt,oauthAccessToken:Bt,oauthTokenSecret:wn,pendingToken:dn,nonce:vr}=le;return Bt||wn||dt||dn?dn?ce.startsWith("saml.")?H.aJ._create(ce,dn):H.I._fromParams({providerId:ce,signInMethod:ce,pendingToken:dn,idToken:dt,accessToken:Bt}):new H.T(ce).credential({idToken:dt,accessToken:Bt,rawNonce:vr}):null}return be instanceof Ee.ZR?We.credentialFromError(be):We.credentialFromResult(be)}function Rn(be,le){return le.catch(ce=>{throw ce instanceof Ee.ZR&&function(be,le){var ce;const We=null===(ce=le.customData)||void 0===ce?void 0:ce._tokenResponse;if("auth/multi-factor-auth-required"===le.code)le.resolver=new ee(be,H.am(be,le));else if(We){const dt=bn(le),Bt=le;dt&&(Bt.credential=dt,Bt.tenantId=We.tenantId||void 0,Bt.email=We.email||void 0,Bt.phoneNumber=We.phoneNumber||void 0)}}(be,ce),ce}).then(ce=>{const dt=ce.user;return{operationType:ce.operationType,credential:er(ce),additionalUserInfo:H.ak(ce),user:oe.getOrCreate(dt)}})}function _o(be,le){return se.apply(this,arguments)}function se(){return(se=(0,o.Z)(function*(be,le){const ce=yield le;return{verificationId:ce.verificationId,confirm:We=>Rn(be,ce.confirm(We))}})).apply(this,arguments)}class ee{constructor(le,ce){this.resolver=ce,this.auth=le.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(le){return Rn(St(this.auth),this.resolver.resolveSignIn(le))}}class oe{constructor(le){this._delegate=le,this.multiFactor=H.an(le)}static getOrCreate(le){return oe.USER_MAP.has(le)||oe.USER_MAP.set(le,new oe(le)),oe.USER_MAP.get(le)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(le){return this._delegate.getIdTokenResult(le)}getIdToken(le){return this._delegate.getIdToken(le)}linkAndRetrieveDataWithCredential(le){return this.linkWithCredential(le)}linkWithCredential(le){var ce=this;return(0,o.Z)(function*(){return Rn(ce.auth,H.Y(ce._delegate,le))})()}linkWithPhoneNumber(le,ce){var We=this;return(0,o.Z)(function*(){return _o(We.auth,H.l(We._delegate,le,ce))})()}linkWithPopup(le){var ce=this;return(0,o.Z)(function*(){return Rn(ce.auth,H.d(ce._delegate,le,ot))})()}linkWithRedirect(le){var ce=this;return(0,o.Z)(function*(){return yield Nt(H.aC(ce.auth)),H.g(ce._delegate,le,ot)})()}reauthenticateAndRetrieveDataWithCredential(le){return this.reauthenticateWithCredential(le)}reauthenticateWithCredential(le){var ce=this;return(0,o.Z)(function*(){return Rn(ce.auth,H.Z(ce._delegate,le))})()}reauthenticateWithPhoneNumber(le,ce){return _o(this.auth,H.r(this._delegate,le,ce))}reauthenticateWithPopup(le){return Rn(this.auth,H.e(this._delegate,le,ot))}reauthenticateWithRedirect(le){var ce=this;return(0,o.Z)(function*(){return yield Nt(H.aC(ce.auth)),H.h(ce._delegate,le,ot)})()}sendEmailVerification(le){return H.aa(this._delegate,le)}unlink(le){var ce=this;return(0,o.Z)(function*(){return yield H.aj(ce._delegate,le),ce})()}updateEmail(le){return H.af(this._delegate,le)}updatePassword(le){return H.ag(this._delegate,le)}updatePhoneNumber(le){return H.u(this._delegate,le)}updateProfile(le){return H.ae(this._delegate,le)}verifyBeforeUpdateEmail(le,ce){return H.ab(this._delegate,le,ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oe.USER_MAP=new WeakMap;const Be=H.aw;let Ae=(()=>{class be{constructor(ce,We){if(this.app=ce,We.isInitialized())return this._delegate=We.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:dt}=ce.options;Be(dt,"invalid-api-key",{appName:ce.name});let Bt=[H.K];if("undefined"!=typeof window){Bt=function(be,le){const ce=dr();if(!(null==ce?void 0:ce.sessionStorage))return[];const We=H.ay(Mr,be,le);switch(ce.sessionStorage.getItem(We)){case On.NONE:return[H.K];case On.LOCAL:return[H.i,H.a];case On.SESSION:return[H.a];default:return[]}}(dt,ce.name);for(const dn of[H.i,H.b,H.a])Bt.includes(dn)||Bt.push(dn)}Be(dt,"invalid-api-key",{appName:ce.name});const wn="undefined"!=typeof window?ot:void 0;this._delegate=We.initialize({options:{persistence:Bt,popupRedirectResolver:wn}}),this._delegate._updateErrorMap(H.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ce){this._delegate.languageCode=ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ce){this._delegate.tenantId=ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ce,We){H.E(this._delegate,ce,We)}applyActionCode(ce){return H.a1(this._delegate,ce)}checkActionCode(ce){return H.a2(this._delegate,ce)}confirmPasswordReset(ce,We){return H.a0(this._delegate,ce,We)}createUserWithEmailAndPassword(ce,We){var dt=this;return(0,o.Z)(function*(){return Rn(dt._delegate,H.a4(dt._delegate,ce,We))})()}fetchProvidersForEmail(ce){return this.fetchSignInMethodsForEmail(ce)}fetchSignInMethodsForEmail(ce){return H.a9(this._delegate,ce)}isSignInWithEmailLink(ce){return H.a7(this._delegate,ce)}getRedirectResult(){var ce=this;return(0,o.Z)(function*(){Be(Zn(),ce._delegate,"operation-not-supported-in-this-environment");const We=yield H.j(ce._delegate,ot);return We?Rn(ce._delegate,Promise.resolve(We)):{credential:null,user:null}})()}addFrameworkForLogging(ce){!function(be,le){(0,H.aC)(be)._logFramework(le)}(this._delegate,ce)}onAuthStateChanged(ce,We,dt){const{next:Bt,error:wn,complete:dn}=yt(ce,We,dt);return this._delegate.onAuthStateChanged(Bt,wn,dn)}onIdTokenChanged(ce,We,dt){const{next:Bt,error:wn,complete:dn}=yt(ce,We,dt);return this._delegate.onIdTokenChanged(Bt,wn,dn)}sendSignInLinkToEmail(ce,We){return H.a6(this._delegate,ce,We)}sendPasswordResetEmail(ce,We){return H.$(this._delegate,ce,We||void 0)}setPersistence(ce){var We=this;return(0,o.Z)(function*(){let dt;switch(function(be,le){oi(Object.values(On).includes(le),be,"invalid-persistence-type"),(0,Ee.b$)()?oi(le!==On.SESSION,be,"unsupported-persistence-type"):(0,Ee.UG)()?oi(le===On.NONE,be,"unsupported-persistence-type"):Je()?oi(le===On.NONE||le===On.LOCAL&&(0,Ee.hl)(),be,"unsupported-persistence-type"):oi(le===On.NONE||Ss(),be,"unsupported-persistence-type")}(We._delegate,ce),ce){case On.SESSION:dt=H.a;break;case On.LOCAL:dt=(yield H.ax(H.i)._isAvailable())?H.i:H.b;break;case On.NONE:dt=H.K;break;default:return H.as("argument-error",{appName:We._delegate.name})}return We._delegate.setPersistence(dt)})()}signInAndRetrieveDataWithCredential(ce){return this.signInWithCredential(ce)}signInAnonymously(){return Rn(this._delegate,H.W(this._delegate))}signInWithCredential(ce){return Rn(this._delegate,H.X(this._delegate,ce))}signInWithCustomToken(ce){return Rn(this._delegate,H._(this._delegate,ce))}signInWithEmailAndPassword(ce,We){return Rn(this._delegate,H.a5(this._delegate,ce,We))}signInWithEmailLink(ce,We){return Rn(this._delegate,H.a8(this._delegate,ce,We))}signInWithPhoneNumber(ce,We){return _o(this._delegate,H.s(this._delegate,ce,We))}signInWithPopup(ce){var We=this;return(0,o.Z)(function*(){return Be(Zn(),We._delegate,"operation-not-supported-in-this-environment"),Rn(We._delegate,H.c(We._delegate,ce,ot))})()}signInWithRedirect(ce){var We=this;return(0,o.Z)(function*(){return Be(Zn(),We._delegate,"operation-not-supported-in-this-environment"),yield Nt(We._delegate),H.f(We._delegate,ce,ot)})()}updateCurrentUser(ce){return this._delegate.updateCurrentUser(ce)}verifyPasswordResetCode(ce){return H.a3(this._delegate,ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return be.Persistence=On,be})();function yt(be,le,ce){let We=be;"function"!=typeof be&&({next:We,error:le,complete:ce}=be);const dt=We;return{next:wn=>dt(wn&&oe.getOrCreate(wn)),error:le,complete:ce}}class Vt{constructor(){this.providerId="phone",this._delegate=new H.P(St(W.Z.auth()))}static credential(le,ce){return H.P.credential(le,ce)}verifyPhoneNumber(le,ce){return this._delegate.verifyPhoneNumber(le,ce)}unwrap(){return this._delegate}}Vt.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Vt.PROVIDER_ID=H.P.PROVIDER_ID;const vn=H.aw;var be;(be=W.Z).INTERNAL.registerComponent(new Fe.wA("auth-compat",le=>{const ce=le.getProvider("app-compat").getImmediate(),We=le.getProvider("auth");return new Ae(ce,We)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.L,FacebookAuthProvider:H.M,GithubAuthProvider:H.Q,GoogleAuthProvider:H.N,OAuthProvider:H.T,SAMLAuthProvider:H.U,PhoneAuthProvider:Vt,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:class{constructor(le,ce,We=W.Z.app()){var dt;vn(null===(dt=We.options)||void 0===dt?void 0:dt.apiKey,"invalid-api-key",{appName:We.name}),this._delegate=new H.R(le,ce,We.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:H.V,Auth:Ae,AuthCredential:H.G,Error:Ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),be.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(Tt,Ke){!function(z){"use strict";function o(ke){return Array.prototype.slice.call(ke)}function W(ke){return new Promise(function(ue,Pe){ke.onsuccess=function(){ue(ke.result)},ke.onerror=function(){Pe(ke.error)}})}function H(ke,ue,Pe){var Ve,Xe=new Promise(function(Ct,O){W(Ve=ke[ue].apply(ke,Pe)).then(Ct,O)});return Xe.request=Ve,Xe}function Ee(ke,ue,Pe){var Ve=H(ke,ue,Pe);return Ve.then(function(Xe){if(Xe)return new K(Xe,Ve.request)})}function Ie(ke,ue,Pe){Pe.forEach(function(Ve){Object.defineProperty(ke.prototype,Ve,{get:function(){return this[ue][Ve]},set:function(Xe){this[ue][Ve]=Xe}})})}function fe(ke,ue,Pe,Ve){Ve.forEach(function(Xe){Xe in Pe.prototype&&(ke.prototype[Xe]=function(){return H(this[ue],Xe,arguments)})})}function Fe(ke,ue,Pe,Ve){Ve.forEach(function(Xe){Xe in Pe.prototype&&(ke.prototype[Xe]=function(){return this[ue][Xe].apply(this[ue],arguments)})})}function ge(ke,ue,Pe,Ve){Ve.forEach(function(Xe){Xe in Pe.prototype&&(ke.prototype[Xe]=function(){return Ee(this[ue],Xe,arguments)})})}function ve(ke){this._index=ke}function K(ke,ue){this._cursor=ke,this._request=ue}function Q(ke){this._store=ke}function re(ke){this._tx=ke,this.complete=new Promise(function(ue,Pe){ke.oncomplete=function(){ue()},ke.onerror=function(){Pe(ke.error)},ke.onabort=function(){Pe(ke.error)}})}function De(ke,ue,Pe){this._db=ke,this.oldVersion=ue,this.transaction=new re(Pe)}function Ne(ke){this._db=ke}Ie(ve,"_index",["name","keyPath","multiEntry","unique"]),fe(ve,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ge(ve,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ie(K,"_cursor",["direction","key","primaryKey","value"]),fe(K,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ke){ke in IDBCursor.prototype&&(K.prototype[ke]=function(){var ue=this,Pe=arguments;return Promise.resolve().then(function(){return ue._cursor[ke].apply(ue._cursor,Pe),W(ue._request).then(function(Ve){if(Ve)return new K(Ve,ue._request)})})})}),Q.prototype.createIndex=function(){return new ve(this._store.createIndex.apply(this._store,arguments))},Q.prototype.index=function(){return new ve(this._store.index.apply(this._store,arguments))},Ie(Q,"_store",["name","keyPath","indexNames","autoIncrement"]),fe(Q,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ge(Q,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Fe(Q,"_store",IDBObjectStore,["deleteIndex"]),re.prototype.objectStore=function(){return new Q(this._tx.objectStore.apply(this._tx,arguments))},Ie(re,"_tx",["objectStoreNames","mode"]),Fe(re,"_tx",IDBTransaction,["abort"]),De.prototype.createObjectStore=function(){return new Q(this._db.createObjectStore.apply(this._db,arguments))},Ie(De,"_db",["name","version","objectStoreNames"]),Fe(De,"_db",IDBDatabase,["deleteObjectStore","close"]),Ne.prototype.transaction=function(){return new re(this._db.transaction.apply(this._db,arguments))},Ie(Ne,"_db",["name","version","objectStoreNames"]),Fe(Ne,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ke){[Q,ve].forEach(function(ue){ke in ue.prototype&&(ue.prototype[ke.replace("open","iterate")]=function(){var Pe=o(arguments),Ve=Pe[Pe.length-1],Xe=this._store||this._index,Ct=Xe[ke].apply(Xe,Pe.slice(0,-1));Ct.onsuccess=function(){Ve(Ct.result)}})})}),[ve,Q].forEach(function(ke){ke.prototype.getAll||(ke.prototype.getAll=function(ue,Pe){var Ve=this,Xe=[];return new Promise(function(Ct){Ve.iterateCursor(ue,function(O){O?(Xe.push(O.value),void 0===Pe||Xe.length!=Pe?O.continue():Ct(Xe)):Ct(Xe)})})})}),z.openDb=function(ke,ue,Pe){var Ve=H(indexedDB,"open",[ke,ue]),Xe=Ve.request;return Xe&&(Xe.onupgradeneeded=function(Ct){Pe&&Pe(new De(Xe.result,Ct.oldVersion,Xe.transaction))}),Ve.then(function(Ct){return new Ne(Ct)})},z.deleteDb=function(ke){return H(indexedDB,"deleteDatabase",[ke])},Object.defineProperty(z,"__esModule",{value:!0})}(Ke)},1704:function(Tt,Ke){var o;!function(W,H){"use strict";"object"==typeof Tt.exports?Tt.exports=W.document?H(W,!0):function(Ee){if(!Ee.document)throw new Error("jQuery requires a window with a document");return H(Ee)}:H(W)}("undefined"!=typeof window?window:this,function(W,H){"use strict";var Ee=[],Ie=Object.getPrototypeOf,fe=Ee.slice,Fe=Ee.flat?function(m){return Ee.flat.call(m)}:function(m){return Ee.concat.apply([],m)},ge=Ee.push,ve=Ee.indexOf,K={},Q=K.toString,re=K.hasOwnProperty,De=re.toString,Ne=De.call(Object),Me={},we=function(b){return"function"==typeof b&&"number"!=typeof b.nodeType&&"function"!=typeof b.item},ke=function(b){return null!=b&&b===b.window},ue=W.document,Pe={type:!0,src:!0,nonce:!0,noModule:!0};function Ve(m,b,I){var D,R,F=(I=I||ue).createElement("script");if(F.text=m,b)for(D in Pe)(R=b[D]||b.getAttribute&&b.getAttribute(D))&&F.setAttribute(D,R);I.head.appendChild(F).parentNode.removeChild(F)}function Xe(m){return null==m?m+"":"object"==typeof m||"function"==typeof m?K[Q.call(m)]||"object":typeof m}var O=function(m,b){return new O.fn.init(m,b)};function yn(m){var b=!!m&&"length"in m&&m.length,I=Xe(m);return!we(m)&&!ke(m)&&("array"===I||0===b||"number"==typeof b&&b>0&&b-1 in m)}O.fn=O.prototype={jquery:"3.6.0",constructor:O,length:0,toArray:function(){return fe.call(this)},get:function(m){return null==m?fe.call(this):m<0?this[m+this.length]:this[m]},pushStack:function(m){var b=O.merge(this.constructor(),m);return b.prevObject=this,b},each:function(m){return O.each(this,m)},map:function(m){return this.pushStack(O.map(this,function(b,I){return m.call(b,I,b)}))},slice:function(){return this.pushStack(fe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(O.grep(this,function(m,b){return(b+1)%2}))},odd:function(){return this.pushStack(O.grep(this,function(m,b){return b%2}))},eq:function(m){var b=this.length,I=+m+(m<0?b:0);return this.pushStack(I>=0&&I<b?[this[I]]:[])},end:function(){return this.prevObject||this.constructor()},push:ge,sort:Ee.sort,splice:Ee.splice},O.extend=O.fn.extend=function(){var m,b,I,D,R,F,V=arguments[0]||{},ne=1,J=arguments.length,_e=!1;for("boolean"==typeof V&&(_e=V,V=arguments[ne]||{},ne++),"object"!=typeof V&&!we(V)&&(V={}),ne===J&&(V=this,ne--);ne<J;ne++)if(null!=(m=arguments[ne]))for(b in m)D=m[b],"__proto__"!==b&&V!==D&&(_e&&D&&(O.isPlainObject(D)||(R=Array.isArray(D)))?(I=V[b],F=R&&!Array.isArray(I)?[]:R||O.isPlainObject(I)?I:{},R=!1,V[b]=O.extend(_e,F,D)):void 0!==D&&(V[b]=D));return V},O.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(m){throw new Error(m)},noop:function(){},isPlainObject:function(m){var b,I;return!(!m||"[object Object]"!==Q.call(m)||(b=Ie(m))&&("function"!=typeof(I=re.call(b,"constructor")&&b.constructor)||De.call(I)!==Ne))},isEmptyObject:function(m){var b;for(b in m)return!1;return!0},globalEval:function(m,b,I){Ve(m,{nonce:b&&b.nonce},I)},each:function(m,b){var I,D=0;if(yn(m))for(I=m.length;D<I&&!1!==b.call(m[D],D,m[D]);D++);else for(D in m)if(!1===b.call(m[D],D,m[D]))break;return m},makeArray:function(m,b){var I=b||[];return null!=m&&(yn(Object(m))?O.merge(I,"string"==typeof m?[m]:m):ge.call(I,m)),I},inArray:function(m,b,I){return null==b?-1:ve.call(b,m,I)},merge:function(m,b){for(var I=+b.length,D=0,R=m.length;D<I;D++)m[R++]=b[D];return m.length=R,m},grep:function(m,b,I){for(var R=[],F=0,V=m.length,ne=!I;F<V;F++)!b(m[F],F)!==ne&&R.push(m[F]);return R},map:function(m,b,I){var D,R,F=0,V=[];if(yn(m))for(D=m.length;F<D;F++)null!=(R=b(m[F],F,I))&&V.push(R);else for(F in m)null!=(R=b(m[F],F,I))&&V.push(R);return Fe(V)},guid:1,support:Me}),"function"==typeof Symbol&&(O.fn[Symbol.iterator]=Ee[Symbol.iterator]),O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(m,b){K["[object "+b+"]"]=b.toLowerCase()});var qt=function(m){var b,I,D,R,F,V,ne,J,_e,Se,Ye,ye,Ue,Ot,Ht,_t,un,xr,Tr,gn="sizzle"+1*new Date,zt=m.document,Yr=0,$t=0,Ln=Go(),Uo=Go(),Xs=Go(),bt=Go(),Zo=function(j,te){return j===te&&(Ye=!0),0},qo={}.hasOwnProperty,pi=[],Ps=pi.pop,gi=pi.push,eo=pi.push,Ns=pi.slice,Ge=function(j,te){for(var ae=0,Ze=j.length;ae<Ze;ae++)if(j[ae]===te)return ae;return-1},hn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Pn="[\\x20\\t\\r\\n\\f]",Fn="(?:\\\\[\\da-fA-F]{1,6}"+Pn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",La="\\["+Pn+"*("+Fn+")(?:"+Pn+"*([*^$|!~]?=)"+Pn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Fn+"))|)"+Pn+"*\\]",Ki=":("+Fn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+La+")*)|.*)\\)|)",Li=new RegExp(Pn+"+","g"),jo=new RegExp("^"+Pn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Pn+"+$","g"),Fa=new RegExp("^"+Pn+"*,"+Pn+"*"),Su=new RegExp("^"+Pn+"*([>+~]|"+Pn+")"+Pn+"*"),Zl=new RegExp(Pn+"|>"),ql=new RegExp(Ki),Bo=new RegExp("^"+Fn+"$"),Pr={ID:new RegExp("^#("+Fn+")"),CLASS:new RegExp("^\\.("+Fn+")"),TAG:new RegExp("^("+Fn+"|[*])"),ATTR:new RegExp("^"+La),PSEUDO:new RegExp("^"+Ki),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Pn+"*(even|odd|(([+-]|)(\\d*)n|)"+Pn+"*(?:([+-]|)"+Pn+"*(\\d+)|))"+Pn+"*\\)|)","i"),bool:new RegExp("^(?:"+hn+")$","i"),needsContext:new RegExp("^"+Pn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Pn+"*((?:-\\d)?\\d*)"+Pn+"*\\)|)(?=[^-]|$)","i")},Fi=/HTML$/i,Va=/^(?:input|select|textarea|button)$/i,to=/^h\d$/i,Fr=/^[^{]+\{\s*\[native \w/,Rh=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ho=/[+~]/,ks=new RegExp("\\\\[\\da-fA-F]{1,6}"+Pn+"?|\\\\([^\\r\\n\\f])","g"),Yi=function(j,te){var ae="0x"+j.slice(1)-65536;return te||(ae<0?String.fromCharCode(ae+65536):String.fromCharCode(ae>>10|55296,1023&ae|56320))},jl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,$o=function(j,te){return te?"\0"===j?"\ufffd":j.slice(0,-1)+"\\"+j.charCodeAt(j.length-1).toString(16)+" ":"\\"+j},Bl=function(){ye()},da=zo(function(j){return!0===j.disabled&&"fieldset"===j.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{eo.apply(pi=Ns.call(zt.childNodes),zt.childNodes)}catch(j){eo={apply:pi.length?function(te,ae){gi.apply(te,Ns.call(ae))}:function(te,ae){for(var Ze=te.length,Ce=0;te[Ze++]=ae[Ce++];);te.length=Ze-1}}}function zn(j,te,ae,Ze){var Ce,qe,Qe,st,ft,Mt,kt,jt=te&&te.ownerDocument,En=te?te.nodeType:9;if(ae=ae||[],"string"!=typeof j||!j||1!==En&&9!==En&&11!==En)return ae;if(!Ze&&(ye(te),te=te||Ue,Ht)){if(11!==En&&(ft=Rh.exec(j)))if(Ce=ft[1]){if(9===En){if(!(Qe=te.getElementById(Ce)))return ae;if(Qe.id===Ce)return ae.push(Qe),ae}else if(jt&&(Qe=jt.getElementById(Ce))&&Tr(te,Qe)&&Qe.id===Ce)return ae.push(Qe),ae}else{if(ft[2])return eo.apply(ae,te.getElementsByTagName(j)),ae;if((Ce=ft[3])&&I.getElementsByClassName&&te.getElementsByClassName)return eo.apply(ae,te.getElementsByClassName(Ce)),ae}if(I.qsa&&!bt[j+" "]&&(!_t||!_t.test(j))&&(1!==En||"object"!==te.nodeName.toLowerCase())){if(kt=j,jt=te,1===En&&(Zl.test(j)||Su.test(j))){for(((jt=Ho.test(j)&&Qr(te.parentNode)||te)!==te||!I.scope)&&((st=te.getAttribute("id"))?st=st.replace(jl,$o):te.setAttribute("id",st=gn)),qe=(Mt=V(j)).length;qe--;)Mt[qe]=(st?"#"+st:":scope")+" "+Ar(Mt[qe]);kt=Mt.join(",")}try{return eo.apply(ae,jt.querySelectorAll(kt)),ae}catch(mr){bt(j,!0)}finally{st===gn&&te.removeAttribute("id")}}}return J(j.replace(jo,"$1"),te,ae,Ze)}function Go(){var j=[];return function te(ae,Ze){return j.push(ae+" ")>D.cacheLength&&delete te[j.shift()],te[ae+" "]=Ze}}function xi(j){return j[gn]=!0,j}function Vi(j){var te=Ue.createElement("fieldset");try{return!!j(te)}catch(ae){return!1}finally{te.parentNode&&te.parentNode.removeChild(te),te=null}}function Vc(j,te){for(var ae=j.split("|"),Ze=ae.length;Ze--;)D.attrHandle[ae[Ze]]=te}function Uc(j,te){var ae=te&&j,Ze=ae&&1===j.nodeType&&1===te.nodeType&&j.sourceIndex-te.sourceIndex;if(Ze)return Ze;if(ae)for(;ae=ae.nextSibling;)if(ae===te)return-1;return j?1:-1}function Hl(j){return function(te){return"input"===te.nodeName.toLowerCase()&&te.type===j}}function ha(j){return function(te){var ae=te.nodeName.toLowerCase();return("input"===ae||"button"===ae)&&te.type===j}}function Ou(j){return function(te){return"form"in te?te.parentNode&&!1===te.disabled?"label"in te?"label"in te.parentNode?te.parentNode.disabled===j:te.disabled===j:te.isDisabled===j||te.isDisabled!==!j&&da(te)===j:te.disabled===j:"label"in te&&te.disabled===j}}function Rs(j){return xi(function(te){return te=+te,xi(function(ae,Ze){for(var Ce,qe=j([],ae.length,te),Qe=qe.length;Qe--;)ae[Ce=qe[Qe]]&&(ae[Ce]=!(Ze[Ce]=ae[Ce]))})})}function Qr(j){return j&&void 0!==j.getElementsByTagName&&j}for(b in I=zn.support={},F=zn.isXML=function(j){var ae=j&&(j.ownerDocument||j).documentElement;return!Fi.test(j&&j.namespaceURI||ae&&ae.nodeName||"HTML")},ye=zn.setDocument=function(j){var te,ae,Ze=j?j.ownerDocument||j:zt;return Ze==Ue||9!==Ze.nodeType||!Ze.documentElement||(Ot=(Ue=Ze).documentElement,Ht=!F(Ue),zt!=Ue&&(ae=Ue.defaultView)&&ae.top!==ae&&(ae.addEventListener?ae.addEventListener("unload",Bl,!1):ae.attachEvent&&ae.attachEvent("onunload",Bl)),I.scope=Vi(function(Ce){return Ot.appendChild(Ce).appendChild(Ue.createElement("div")),void 0!==Ce.querySelectorAll&&!Ce.querySelectorAll(":scope fieldset div").length}),I.attributes=Vi(function(Ce){return Ce.className="i",!Ce.getAttribute("className")}),I.getElementsByTagName=Vi(function(Ce){return Ce.appendChild(Ue.createComment("")),!Ce.getElementsByTagName("*").length}),I.getElementsByClassName=Fr.test(Ue.getElementsByClassName),I.getById=Vi(function(Ce){return Ot.appendChild(Ce).id=gn,!Ue.getElementsByName||!Ue.getElementsByName(gn).length}),I.getById?(D.filter.ID=function(Ce){var qe=Ce.replace(ks,Yi);return function(Qe){return Qe.getAttribute("id")===qe}},D.find.ID=function(Ce,qe){if(void 0!==qe.getElementById&&Ht){var Qe=qe.getElementById(Ce);return Qe?[Qe]:[]}}):(D.filter.ID=function(Ce){var qe=Ce.replace(ks,Yi);return function(Qe){var st=void 0!==Qe.getAttributeNode&&Qe.getAttributeNode("id");return st&&st.value===qe}},D.find.ID=function(Ce,qe){if(void 0!==qe.getElementById&&Ht){var Qe,st,ft,Mt=qe.getElementById(Ce);if(Mt){if((Qe=Mt.getAttributeNode("id"))&&Qe.value===Ce)return[Mt];for(ft=qe.getElementsByName(Ce),st=0;Mt=ft[st++];)if((Qe=Mt.getAttributeNode("id"))&&Qe.value===Ce)return[Mt]}return[]}}),D.find.TAG=I.getElementsByTagName?function(Ce,qe){return void 0!==qe.getElementsByTagName?qe.getElementsByTagName(Ce):I.qsa?qe.querySelectorAll(Ce):void 0}:function(Ce,qe){var Qe,st=[],ft=0,Mt=qe.getElementsByTagName(Ce);if("*"===Ce){for(;Qe=Mt[ft++];)1===Qe.nodeType&&st.push(Qe);return st}return Mt},D.find.CLASS=I.getElementsByClassName&&function(Ce,qe){if(void 0!==qe.getElementsByClassName&&Ht)return qe.getElementsByClassName(Ce)},un=[],_t=[],(I.qsa=Fr.test(Ue.querySelectorAll))&&(Vi(function(Ce){var qe;Ot.appendChild(Ce).innerHTML="<a id='"+gn+"'></a><select id='"+gn+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ce.querySelectorAll("[msallowcapture^='']").length&&_t.push("[*^$]="+Pn+"*(?:''|\"\")"),Ce.querySelectorAll("[selected]").length||_t.push("\\["+Pn+"*(?:value|"+hn+")"),Ce.querySelectorAll("[id~="+gn+"-]").length||_t.push("~="),(qe=Ue.createElement("input")).setAttribute("name",""),Ce.appendChild(qe),Ce.querySelectorAll("[name='']").length||_t.push("\\["+Pn+"*name"+Pn+"*="+Pn+"*(?:''|\"\")"),Ce.querySelectorAll(":checked").length||_t.push(":checked"),Ce.querySelectorAll("a#"+gn+"+*").length||_t.push(".#.+[+~]"),Ce.querySelectorAll("\\\f"),_t.push("[\\r\\n\\f]")}),Vi(function(Ce){Ce.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var qe=Ue.createElement("input");qe.setAttribute("type","hidden"),Ce.appendChild(qe).setAttribute("name","D"),Ce.querySelectorAll("[name=d]").length&&_t.push("name"+Pn+"*[*^$|!~]?="),2!==Ce.querySelectorAll(":enabled").length&&_t.push(":enabled",":disabled"),Ot.appendChild(Ce).disabled=!0,2!==Ce.querySelectorAll(":disabled").length&&_t.push(":enabled",":disabled"),Ce.querySelectorAll("*,:x"),_t.push(",.*:")})),(I.matchesSelector=Fr.test(xr=Ot.matches||Ot.webkitMatchesSelector||Ot.mozMatchesSelector||Ot.oMatchesSelector||Ot.msMatchesSelector))&&Vi(function(Ce){I.disconnectedMatch=xr.call(Ce,"*"),xr.call(Ce,"[s!='']:x"),un.push("!=",Ki)}),_t=_t.length&&new RegExp(_t.join("|")),un=un.length&&new RegExp(un.join("|")),te=Fr.test(Ot.compareDocumentPosition),Tr=te||Fr.test(Ot.contains)?function(Ce,qe){var Qe=9===Ce.nodeType?Ce.documentElement:Ce,st=qe&&qe.parentNode;return Ce===st||!(!st||1!==st.nodeType||!(Qe.contains?Qe.contains(st):Ce.compareDocumentPosition&&16&Ce.compareDocumentPosition(st)))}:function(Ce,qe){if(qe)for(;qe=qe.parentNode;)if(qe===Ce)return!0;return!1},Zo=te?function(Ce,qe){if(Ce===qe)return Ye=!0,0;var Qe=!Ce.compareDocumentPosition-!qe.compareDocumentPosition;return Qe||(1&(Qe=(Ce.ownerDocument||Ce)==(qe.ownerDocument||qe)?Ce.compareDocumentPosition(qe):1)||!I.sortDetached&&qe.compareDocumentPosition(Ce)===Qe?Ce==Ue||Ce.ownerDocument==zt&&Tr(zt,Ce)?-1:qe==Ue||qe.ownerDocument==zt&&Tr(zt,qe)?1:Se?Ge(Se,Ce)-Ge(Se,qe):0:4&Qe?-1:1)}:function(Ce,qe){if(Ce===qe)return Ye=!0,0;var Qe,st=0,ft=Ce.parentNode,Mt=qe.parentNode,kt=[Ce],jt=[qe];if(!ft||!Mt)return Ce==Ue?-1:qe==Ue?1:ft?-1:Mt?1:Se?Ge(Se,Ce)-Ge(Se,qe):0;if(ft===Mt)return Uc(Ce,qe);for(Qe=Ce;Qe=Qe.parentNode;)kt.unshift(Qe);for(Qe=qe;Qe=Qe.parentNode;)jt.unshift(Qe);for(;kt[st]===jt[st];)st++;return st?Uc(kt[st],jt[st]):kt[st]==zt?-1:jt[st]==zt?1:0}),Ue},zn.matches=function(j,te){return zn(j,null,null,te)},zn.matchesSelector=function(j,te){if(ye(j),I.matchesSelector&&Ht&&!bt[te+" "]&&(!un||!un.test(te))&&(!_t||!_t.test(te)))try{var ae=xr.call(j,te);if(ae||I.disconnectedMatch||j.document&&11!==j.document.nodeType)return ae}catch(Ze){bt(te,!0)}return zn(te,Ue,null,[j]).length>0},zn.contains=function(j,te){return(j.ownerDocument||j)!=Ue&&ye(j),Tr(j,te)},zn.attr=function(j,te){(j.ownerDocument||j)!=Ue&&ye(j);var ae=D.attrHandle[te.toLowerCase()],Ze=ae&&qo.call(D.attrHandle,te.toLowerCase())?ae(j,te,!Ht):void 0;return void 0!==Ze?Ze:I.attributes||!Ht?j.getAttribute(te):(Ze=j.getAttributeNode(te))&&Ze.specified?Ze.value:null},zn.escape=function(j){return(j+"").replace(jl,$o)},zn.error=function(j){throw new Error("Syntax error, unrecognized expression: "+j)},zn.uniqueSort=function(j){var te,ae=[],Ze=0,Ce=0;if(Ye=!I.detectDuplicates,Se=!I.sortStable&&j.slice(0),j.sort(Zo),Ye){for(;te=j[Ce++];)te===j[Ce]&&(Ze=ae.push(Ce));for(;Ze--;)j.splice(ae[Ze],1)}return Se=null,j},R=zn.getText=function(j){var te,ae="",Ze=0,Ce=j.nodeType;if(Ce){if(1===Ce||9===Ce||11===Ce){if("string"==typeof j.textContent)return j.textContent;for(j=j.firstChild;j;j=j.nextSibling)ae+=R(j)}else if(3===Ce||4===Ce)return j.nodeValue}else for(;te=j[Ze++];)ae+=R(te);return ae},(D=zn.selectors={cacheLength:50,createPseudo:xi,match:Pr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(j){return j[1]=j[1].replace(ks,Yi),j[3]=(j[3]||j[4]||j[5]||"").replace(ks,Yi),"~="===j[2]&&(j[3]=" "+j[3]+" "),j.slice(0,4)},CHILD:function(j){return j[1]=j[1].toLowerCase(),"nth"===j[1].slice(0,3)?(j[3]||zn.error(j[0]),j[4]=+(j[4]?j[5]+(j[6]||1):2*("even"===j[3]||"odd"===j[3])),j[5]=+(j[7]+j[8]||"odd"===j[3])):j[3]&&zn.error(j[0]),j},PSEUDO:function(j){var te,ae=!j[6]&&j[2];return Pr.CHILD.test(j[0])?null:(j[3]?j[2]=j[4]||j[5]||"":ae&&ql.test(ae)&&(te=V(ae,!0))&&(te=ae.indexOf(")",ae.length-te)-ae.length)&&(j[0]=j[0].slice(0,te),j[2]=ae.slice(0,te)),j.slice(0,3))}},filter:{TAG:function(j){var te=j.replace(ks,Yi).toLowerCase();return"*"===j?function(){return!0}:function(ae){return ae.nodeName&&ae.nodeName.toLowerCase()===te}},CLASS:function(j){var te=Ln[j+" "];return te||(te=new RegExp("(^|"+Pn+")"+j+"("+Pn+"|$)"))&&Ln(j,function(ae){return te.test("string"==typeof ae.className&&ae.className||void 0!==ae.getAttribute&&ae.getAttribute("class")||"")})},ATTR:function(j,te,ae){return function(Ze){var Ce=zn.attr(Ze,j);return null==Ce?"!="===te:!te||(Ce+="","="===te?Ce===ae:"!="===te?Ce!==ae:"^="===te?ae&&0===Ce.indexOf(ae):"*="===te?ae&&Ce.indexOf(ae)>-1:"$="===te?ae&&Ce.slice(-ae.length)===ae:"~="===te?(" "+Ce.replace(Li," ")+" ").indexOf(ae)>-1:"|="===te&&(Ce===ae||Ce.slice(0,ae.length+1)===ae+"-"))}},CHILD:function(j,te,ae,Ze,Ce){var qe="nth"!==j.slice(0,3),Qe="last"!==j.slice(-4),st="of-type"===te;return 1===Ze&&0===Ce?function(ft){return!!ft.parentNode}:function(ft,Mt,kt){var jt,En,mr,At,Vr,mi,Nr=qe!==Qe?"nextSibling":"previousSibling",hr=ft.parentNode,dl=st&&ft.nodeName.toLowerCase(),pa=!kt&&!st,Ir=!1;if(hr){if(qe){for(;Nr;){for(At=ft;At=At[Nr];)if(st?At.nodeName.toLowerCase()===dl:1===At.nodeType)return!1;mi=Nr="only"===j&&!mi&&"nextSibling"}return!0}if(mi=[Qe?hr.firstChild:hr.lastChild],Qe&&pa){for(Ir=(Vr=(jt=(En=(mr=(At=hr)[gn]||(At[gn]={}))[At.uniqueID]||(mr[At.uniqueID]={}))[j]||[])[0]===Yr&&jt[1])&&jt[2],At=Vr&&hr.childNodes[Vr];At=++Vr&&At&&At[Nr]||(Ir=Vr=0)||mi.pop();)if(1===At.nodeType&&++Ir&&At===ft){En[j]=[Yr,Vr,Ir];break}}else if(pa&&(Ir=Vr=(jt=(En=(mr=(At=ft)[gn]||(At[gn]={}))[At.uniqueID]||(mr[At.uniqueID]={}))[j]||[])[0]===Yr&&jt[1]),!1===Ir)for(;(At=++Vr&&At&&At[Nr]||(Ir=Vr=0)||mi.pop())&&((st?At.nodeName.toLowerCase()!==dl:1!==At.nodeType)||!++Ir||(pa&&((En=(mr=At[gn]||(At[gn]={}))[At.uniqueID]||(mr[At.uniqueID]={}))[j]=[Yr,Ir]),At!==ft)););return(Ir-=Ce)===Ze||Ir%Ze==0&&Ir/Ze>=0}}},PSEUDO:function(j,te){var ae,Ze=D.pseudos[j]||D.setFilters[j.toLowerCase()]||zn.error("unsupported pseudo: "+j);return Ze[gn]?Ze(te):Ze.length>1?(ae=[j,j,"",te],D.setFilters.hasOwnProperty(j.toLowerCase())?xi(function(Ce,qe){for(var Qe,st=Ze(Ce,te),ft=st.length;ft--;)Ce[Qe=Ge(Ce,st[ft])]=!(qe[Qe]=st[ft])}):function(Ce){return Ze(Ce,0,ae)}):Ze}},pseudos:{not:xi(function(j){var te=[],ae=[],Ze=ne(j.replace(jo,"$1"));return Ze[gn]?xi(function(Ce,qe,Qe,st){for(var ft,Mt=Ze(Ce,null,st,[]),kt=Ce.length;kt--;)(ft=Mt[kt])&&(Ce[kt]=!(qe[kt]=ft))}):function(Ce,qe,Qe){return te[0]=Ce,Ze(te,null,Qe,ae),te[0]=null,!ae.pop()}}),has:xi(function(j){return function(te){return zn(j,te).length>0}}),contains:xi(function(j){return j=j.replace(ks,Yi),function(te){return(te.textContent||R(te)).indexOf(j)>-1}}),lang:xi(function(j){return Bo.test(j||"")||zn.error("unsupported lang: "+j),j=j.replace(ks,Yi).toLowerCase(),function(te){var ae;do{if(ae=Ht?te.lang:te.getAttribute("xml:lang")||te.getAttribute("lang"))return(ae=ae.toLowerCase())===j||0===ae.indexOf(j+"-")}while((te=te.parentNode)&&1===te.nodeType);return!1}}),target:function(j){var te=m.location&&m.location.hash;return te&&te.slice(1)===j.id},root:function(j){return j===Ot},focus:function(j){return j===Ue.activeElement&&(!Ue.hasFocus||Ue.hasFocus())&&!!(j.type||j.href||~j.tabIndex)},enabled:Ou(!1),disabled:Ou(!0),checked:function(j){var te=j.nodeName.toLowerCase();return"input"===te&&!!j.checked||"option"===te&&!!j.selected},selected:function(j){return!0===j.selected},empty:function(j){for(j=j.firstChild;j;j=j.nextSibling)if(j.nodeType<6)return!1;return!0},parent:function(j){return!D.pseudos.empty(j)},header:function(j){return to.test(j.nodeName)},input:function(j){return Va.test(j.nodeName)},button:function(j){var te=j.nodeName.toLowerCase();return"input"===te&&"button"===j.type||"button"===te},text:function(j){var te;return"input"===j.nodeName.toLowerCase()&&"text"===j.type&&(null==(te=j.getAttribute("type"))||"text"===te.toLowerCase())},first:Rs(function(){return[0]}),last:Rs(function(j,te){return[te-1]}),eq:Rs(function(j,te,ae){return[ae<0?ae+te:ae]}),even:Rs(function(j,te){for(var ae=0;ae<te;ae+=2)j.push(ae);return j}),odd:Rs(function(j,te){for(var ae=1;ae<te;ae+=2)j.push(ae);return j}),lt:Rs(function(j,te,ae){for(var Ze=ae<0?ae+te:ae>te?te:ae;--Ze>=0;)j.push(Ze);return j}),gt:Rs(function(j,te,ae){for(var Ze=ae<0?ae+te:ae;++Ze<te;)j.push(Ze);return j})}}).pseudos.nth=D.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[b]=Hl(b);for(b in{submit:!0,reset:!0})D.pseudos[b]=ha(b);function wo(){}function Ar(j){for(var te=0,ae=j.length,Ze="";te<ae;te++)Ze+=j[te].value;return Ze}function zo(j,te,ae){var Ze=te.dir,Ce=te.next,qe=Ce||Ze,Qe=ae&&"parentNode"===qe,st=$t++;return te.first?function(ft,Mt,kt){for(;ft=ft[Ze];)if(1===ft.nodeType||Qe)return j(ft,Mt,kt);return!1}:function(ft,Mt,kt){var jt,En,mr,At=[Yr,st];if(kt){for(;ft=ft[Ze];)if((1===ft.nodeType||Qe)&&j(ft,Mt,kt))return!0}else for(;ft=ft[Ze];)if(1===ft.nodeType||Qe)if(En=(mr=ft[gn]||(ft[gn]={}))[ft.uniqueID]||(mr[ft.uniqueID]={}),Ce&&Ce===ft.nodeName.toLowerCase())ft=ft[Ze]||ft;else{if((jt=En[qe])&&jt[0]===Yr&&jt[1]===st)return At[2]=jt[2];if(En[qe]=At,At[2]=j(ft,Mt,kt))return!0}return!1}}function wd(j){return j.length>1?function(te,ae,Ze){for(var Ce=j.length;Ce--;)if(!j[Ce](te,ae,Ze))return!1;return!0}:j[0]}function fa(j,te,ae,Ze,Ce){for(var qe,Qe=[],st=0,ft=j.length,Mt=null!=te;st<ft;st++)(qe=j[st])&&(!ae||ae(qe,Ze,Ce))&&(Qe.push(qe),Mt&&te.push(st));return Qe}function cl(j,te,ae,Ze,Ce,qe){return Ze&&!Ze[gn]&&(Ze=cl(Ze)),Ce&&!Ce[gn]&&(Ce=cl(Ce,qe)),xi(function(Qe,st,ft,Mt){var kt,jt,En,mr=[],At=[],Vr=st.length,mi=Qe||function(j,te,ae){for(var Ze=0,Ce=te.length;Ze<Ce;Ze++)zn(j,te[Ze],ae);return ae}(te||"*",ft.nodeType?[ft]:ft,[]),Nr=!j||!Qe&&te?mi:fa(mi,mr,j,ft,Mt),hr=ae?Ce||(Qe?j:Vr||Ze)?[]:st:Nr;if(ae&&ae(Nr,hr,ft,Mt),Ze)for(kt=fa(hr,At),Ze(kt,[],ft,Mt),jt=kt.length;jt--;)(En=kt[jt])&&(hr[At[jt]]=!(Nr[At[jt]]=En));if(Qe){if(Ce||j){if(Ce){for(kt=[],jt=hr.length;jt--;)(En=hr[jt])&&kt.push(Nr[jt]=En);Ce(null,hr=[],kt,Mt)}for(jt=hr.length;jt--;)(En=hr[jt])&&(kt=Ce?Ge(Qe,En):mr[jt])>-1&&(Qe[kt]=!(st[kt]=En))}}else hr=fa(hr===st?hr.splice(Vr,hr.length):hr),Ce?Ce(null,st,hr,Mt):eo.apply(st,hr)})}function ul(j){for(var te,ae,Ze,Ce=j.length,qe=D.relative[j[0].type],Qe=qe||D.relative[" "],st=qe?1:0,ft=zo(function(jt){return jt===te},Qe,!0),Mt=zo(function(jt){return Ge(te,jt)>-1},Qe,!0),kt=[function(jt,En,mr){var At=!qe&&(mr||En!==_e)||((te=En).nodeType?ft(jt,En,mr):Mt(jt,En,mr));return te=null,At}];st<Ce;st++)if(ae=D.relative[j[st].type])kt=[zo(wd(kt),ae)];else{if((ae=D.filter[j[st].type].apply(null,j[st].matches))[gn]){for(Ze=++st;Ze<Ce&&!D.relative[j[Ze].type];Ze++);return cl(st>1&&wd(kt),st>1&&Ar(j.slice(0,st-1).concat({value:" "===j[st-2].type?"*":""})).replace(jo,"$1"),ae,st<Ze&&ul(j.slice(st,Ze)),Ze<Ce&&ul(j=j.slice(Ze)),Ze<Ce&&Ar(j))}kt.push(ae)}return wd(kt)}return wo.prototype=D.filters=D.pseudos,D.setFilters=new wo,V=zn.tokenize=function(j,te){var ae,Ze,Ce,qe,Qe,st,ft,Mt=Uo[j+" "];if(Mt)return te?0:Mt.slice(0);for(Qe=j,st=[],ft=D.preFilter;Qe;){for(qe in(!ae||(Ze=Fa.exec(Qe)))&&(Ze&&(Qe=Qe.slice(Ze[0].length)||Qe),st.push(Ce=[])),ae=!1,(Ze=Su.exec(Qe))&&(ae=Ze.shift(),Ce.push({value:ae,type:Ze[0].replace(jo," ")}),Qe=Qe.slice(ae.length)),D.filter)(Ze=Pr[qe].exec(Qe))&&(!ft[qe]||(Ze=ft[qe](Ze)))&&(ae=Ze.shift(),Ce.push({value:ae,type:qe,matches:Ze}),Qe=Qe.slice(ae.length));if(!ae)break}return te?Qe.length:Qe?zn.error(j):Uo(j,st).slice(0)},ne=zn.compile=function(j,te){var ae,Ze=[],Ce=[],qe=Xs[j+" "];if(!qe){for(te||(te=V(j)),ae=te.length;ae--;)(qe=ul(te[ae]))[gn]?Ze.push(qe):Ce.push(qe);(qe=Xs(j,function(j,te){var ae=te.length>0,Ze=j.length>0,Ce=function(qe,Qe,st,ft,Mt){var kt,jt,En,mr=0,At="0",Vr=qe&&[],mi=[],Nr=_e,hr=qe||Ze&&D.find.TAG("*",Mt),dl=Yr+=null==Nr?1:Math.random()||.1,pa=hr.length;for(Mt&&(_e=Qe==Ue||Qe||Mt);At!==pa&&null!=(kt=hr[At]);At++){if(Ze&&kt){for(jt=0,!Qe&&kt.ownerDocument!=Ue&&(ye(kt),st=!Ht);En=j[jt++];)if(En(kt,Qe||Ue,st)){ft.push(kt);break}Mt&&(Yr=dl)}ae&&((kt=!En&&kt)&&mr--,qe&&Vr.push(kt))}if(mr+=At,ae&&At!==mr){for(jt=0;En=te[jt++];)En(Vr,mi,Qe,st);if(qe){if(mr>0)for(;At--;)Vr[At]||mi[At]||(mi[At]=Ps.call(ft));mi=fa(mi)}eo.apply(ft,mi),Mt&&!qe&&mi.length>0&&mr+te.length>1&&zn.uniqueSort(ft)}return Mt&&(Yr=dl,_e=Nr),Vr};return ae?xi(Ce):Ce}(Ce,Ze))).selector=j}return qe},J=zn.select=function(j,te,ae,Ze){var Ce,qe,Qe,st,ft,Mt="function"==typeof j&&j,kt=!Ze&&V(j=Mt.selector||j);if(ae=ae||[],1===kt.length){if((qe=kt[0]=kt[0].slice(0)).length>2&&"ID"===(Qe=qe[0]).type&&9===te.nodeType&&Ht&&D.relative[qe[1].type]){if(!(te=(D.find.ID(Qe.matches[0].replace(ks,Yi),te)||[])[0]))return ae;Mt&&(te=te.parentNode),j=j.slice(qe.shift().value.length)}for(Ce=Pr.needsContext.test(j)?0:qe.length;Ce--&&!D.relative[st=(Qe=qe[Ce]).type];)if((ft=D.find[st])&&(Ze=ft(Qe.matches[0].replace(ks,Yi),Ho.test(qe[0].type)&&Qr(te.parentNode)||te))){if(qe.splice(Ce,1),!(j=Ze.length&&Ar(qe)))return eo.apply(ae,Ze),ae;break}}return(Mt||ne(j,kt))(Ze,te,!Ht,ae,!te||Ho.test(j)&&Qr(te.parentNode)||te),ae},I.sortStable=gn.split("").sort(Zo).join("")===gn,I.detectDuplicates=!!Ye,ye(),I.sortDetached=Vi(function(j){return 1&j.compareDocumentPosition(Ue.createElement("fieldset"))}),Vi(function(j){return j.innerHTML="<a href='#'></a>","#"===j.firstChild.getAttribute("href")})||Vc("type|href|height|width",function(j,te,ae){if(!ae)return j.getAttribute(te,"type"===te.toLowerCase()?1:2)}),(!I.attributes||!Vi(function(j){return j.innerHTML="<input/>",j.firstChild.setAttribute("value",""),""===j.firstChild.getAttribute("value")}))&&Vc("value",function(j,te,ae){if(!ae&&"input"===j.nodeName.toLowerCase())return j.defaultValue}),Vi(function(j){return null==j.getAttribute("disabled")})||Vc(hn,function(j,te,ae){var Ze;if(!ae)return!0===j[te]?te.toLowerCase():(Ze=j.getAttributeNode(te))&&Ze.specified?Ze.value:null}),zn}(W);O.find=qt,O.expr=qt.selectors,O.expr[":"]=O.expr.pseudos,O.uniqueSort=O.unique=qt.uniqueSort,O.text=qt.getText,O.isXMLDoc=qt.isXML,O.contains=qt.contains,O.escapeSelector=qt.escape;var Hn=function(m,b,I){for(var D=[],R=void 0!==I;(m=m[b])&&9!==m.nodeType;)if(1===m.nodeType){if(R&&O(m).is(I))break;D.push(m)}return D},on=function(m,b){for(var I=[];m;m=m.nextSibling)1===m.nodeType&&m!==b&&I.push(m);return I},Qt=O.expr.match.needsContext;function en(m,b){return m.nodeName&&m.nodeName.toLowerCase()===b.toLowerCase()}var Ft=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Cn(m,b,I){return we(b)?O.grep(m,function(D,R){return!!b.call(D,R,D)!==I}):b.nodeType?O.grep(m,function(D){return D===b!==I}):"string"!=typeof b?O.grep(m,function(D){return ve.call(b,D)>-1!==I}):O.filter(b,m,I)}O.filter=function(m,b,I){var D=b[0];return I&&(m=":not("+m+")"),1===b.length&&1===D.nodeType?O.find.matchesSelector(D,m)?[D]:[]:O.find.matches(m,O.grep(b,function(R){return 1===R.nodeType}))},O.fn.extend({find:function(m){var b,I,D=this.length,R=this;if("string"!=typeof m)return this.pushStack(O(m).filter(function(){for(b=0;b<D;b++)if(O.contains(R[b],this))return!0}));for(I=this.pushStack([]),b=0;b<D;b++)O.find(m,R[b],I);return D>1?O.uniqueSort(I):I},filter:function(m){return this.pushStack(Cn(this,m||[],!1))},not:function(m){return this.pushStack(Cn(this,m||[],!0))},is:function(m){return!!Cn(this,"string"==typeof m&&Qt.test(m)?O(m):m||[],!1).length}});var xt,zs=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(O.fn.init=function(m,b,I){var D,R;if(!m)return this;if(I=I||xt,"string"==typeof m){if(!(D="<"===m[0]&&">"===m[m.length-1]&&m.length>=3?[null,m,null]:zs.exec(m))||!D[1]&&b)return!b||b.jquery?(b||I).find(m):this.constructor(b).find(m);if(D[1]){if(O.merge(this,O.parseHTML(D[1],(b=b instanceof O?b[0]:b)&&b.nodeType?b.ownerDocument||b:ue,!0)),Ft.test(D[1])&&O.isPlainObject(b))for(D in b)we(this[D])?this[D](b[D]):this.attr(D,b[D]);return this}return(R=ue.getElementById(D[2]))&&(this[0]=R,this.length=1),this}return m.nodeType?(this[0]=m,this.length=1,this):we(m)?void 0!==I.ready?I.ready(m):m(O):O.makeArray(m,this)}).prototype=O.fn,xt=O(ue);var xs=/^(?:parents|prev(?:Until|All))/,ko={children:!0,contents:!0,next:!0,prev:!0};function Un(m,b){for(;(m=m[b])&&1!==m.nodeType;);return m}O.fn.extend({has:function(m){var b=O(m,this),I=b.length;return this.filter(function(){for(var D=0;D<I;D++)if(O.contains(this,b[D]))return!0})},closest:function(m,b){var I,D=0,R=this.length,F=[],V="string"!=typeof m&&O(m);if(!Qt.test(m))for(;D<R;D++)for(I=this[D];I&&I!==b;I=I.parentNode)if(I.nodeType<11&&(V?V.index(I)>-1:1===I.nodeType&&O.find.matchesSelector(I,m))){F.push(I);break}return this.pushStack(F.length>1?O.uniqueSort(F):F)},index:function(m){return m?"string"==typeof m?ve.call(O(m),this[0]):ve.call(this,m.jquery?m[0]:m):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(m,b){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(m,b))))},addBack:function(m){return this.add(null==m?this.prevObject:this.prevObject.filter(m))}}),O.each({parent:function(m){var b=m.parentNode;return b&&11!==b.nodeType?b:null},parents:function(m){return Hn(m,"parentNode")},parentsUntil:function(m,b,I){return Hn(m,"parentNode",I)},next:function(m){return Un(m,"nextSibling")},prev:function(m){return Un(m,"previousSibling")},nextAll:function(m){return Hn(m,"nextSibling")},prevAll:function(m){return Hn(m,"previousSibling")},nextUntil:function(m,b,I){return Hn(m,"nextSibling",I)},prevUntil:function(m,b,I){return Hn(m,"previousSibling",I)},siblings:function(m){return on((m.parentNode||{}).firstChild,m)},children:function(m){return on(m.firstChild)},contents:function(m){return null!=m.contentDocument&&Ie(m.contentDocument)?m.contentDocument:(en(m,"template")&&(m=m.content||m),O.merge([],m.childNodes))}},function(m,b){O.fn[m]=function(I,D){var R=O.map(this,b,I);return"Until"!==m.slice(-5)&&(D=I),D&&"string"==typeof D&&(R=O.filter(D,R)),this.length>1&&(ko[m]||O.uniqueSort(R),xs.test(m)&&R.reverse()),this.pushStack(R)}});var nn=/[^\x20\t\r\n\f]+/g;function Ai(m){return m}function di(m){throw m}function $n(m,b,I,D){var R;try{m&&we(R=m.promise)?R.call(m).done(b).fail(I):m&&we(R=m.then)?R.call(m,b,I):b.apply(void 0,[m].slice(D))}catch(F){I.apply(void 0,[F])}}O.Callbacks=function(m){m="string"==typeof m?function(m){var b={};return O.each(m.match(nn)||[],function(I,D){b[D]=!0}),b}(m):O.extend({},m);var b,I,D,R,F=[],V=[],ne=-1,J=function(){for(R=R||m.once,D=b=!0;V.length;ne=-1)for(I=V.shift();++ne<F.length;)!1===F[ne].apply(I[0],I[1])&&m.stopOnFalse&&(ne=F.length,I=!1);m.memory||(I=!1),b=!1,R&&(F=I?[]:"")},_e={add:function(){return F&&(I&&!b&&(ne=F.length-1,V.push(I)),function Se(Ye){O.each(Ye,function(ye,Ue){we(Ue)?(!m.unique||!_e.has(Ue))&&F.push(Ue):Ue&&Ue.length&&"string"!==Xe(Ue)&&Se(Ue)})}(arguments),I&&!b&&J()),this},remove:function(){return O.each(arguments,function(Se,Ye){for(var ye;(ye=O.inArray(Ye,F,ye))>-1;)F.splice(ye,1),ye<=ne&&ne--}),this},has:function(Se){return Se?O.inArray(Se,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return R=V=[],F=I="",this},disabled:function(){return!F},lock:function(){return R=V=[],!I&&!b&&(F=I=""),this},locked:function(){return!!R},fireWith:function(Se,Ye){return R||(Ye=[Se,(Ye=Ye||[]).slice?Ye.slice():Ye],V.push(Ye),b||J()),this},fire:function(){return _e.fireWith(this,arguments),this},fired:function(){return!!D}};return _e},O.extend({Deferred:function(m){var b=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],I="pending",D={state:function(){return I},always:function(){return R.done(arguments).fail(arguments),this},catch:function(F){return D.then(null,F)},pipe:function(){var F=arguments;return O.Deferred(function(V){O.each(b,function(ne,J){var _e=we(F[J[4]])&&F[J[4]];R[J[1]](function(){var Se=_e&&_e.apply(this,arguments);Se&&we(Se.promise)?Se.promise().progress(V.notify).done(V.resolve).fail(V.reject):V[J[0]+"With"](this,_e?[Se]:arguments)})}),F=null}).promise()},then:function(F,V,ne){var J=0;function _e(Se,Ye,ye,Ue){return function(){var Ot=this,Ht=arguments,_t=function(){var xr,Tr;if(!(Se<J)){if((xr=ye.apply(Ot,Ht))===Ye.promise())throw new TypeError("Thenable self-resolution");we(Tr=xr&&("object"==typeof xr||"function"==typeof xr)&&xr.then)?Ue?Tr.call(xr,_e(J,Ye,Ai,Ue),_e(J,Ye,di,Ue)):(J++,Tr.call(xr,_e(J,Ye,Ai,Ue),_e(J,Ye,di,Ue),_e(J,Ye,Ai,Ye.notifyWith))):(ye!==Ai&&(Ot=void 0,Ht=[xr]),(Ue||Ye.resolveWith)(Ot,Ht))}},un=Ue?_t:function(){try{_t()}catch(xr){O.Deferred.exceptionHook&&O.Deferred.exceptionHook(xr,un.stackTrace),Se+1>=J&&(ye!==di&&(Ot=void 0,Ht=[xr]),Ye.rejectWith(Ot,Ht))}};Se?un():(O.Deferred.getStackHook&&(un.stackTrace=O.Deferred.getStackHook()),W.setTimeout(un))}}return O.Deferred(function(Se){b[0][3].add(_e(0,Se,we(ne)?ne:Ai,Se.notifyWith)),b[1][3].add(_e(0,Se,we(F)?F:Ai)),b[2][3].add(_e(0,Se,we(V)?V:di))}).promise()},promise:function(F){return null!=F?O.extend(F,D):D}},R={};return O.each(b,function(F,V){var ne=V[2],J=V[5];D[V[1]]=ne.add,J&&ne.add(function(){I=J},b[3-F][2].disable,b[3-F][3].disable,b[0][2].lock,b[0][3].lock),ne.add(V[3].fire),R[V[0]]=function(){return R[V[0]+"With"](this===R?void 0:this,arguments),this},R[V[0]+"With"]=ne.fireWith}),D.promise(R),m&&m.call(R,R),R},when:function(m){var b=arguments.length,I=b,D=Array(I),R=fe.call(arguments),F=O.Deferred(),V=function(ne){return function(J){D[ne]=this,R[ne]=arguments.length>1?fe.call(arguments):J,--b||F.resolveWith(D,R)}};if(b<=1&&($n(m,F.done(V(I)).resolve,F.reject,!b),"pending"===F.state()||we(R[I]&&R[I].then)))return F.then();for(;I--;)$n(R[I],V(I),F.reject);return F.promise()}});var Ks=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(m,b){W.console&&W.console.warn&&m&&Ks.test(m.name)&&W.console.warn("jQuery.Deferred exception: "+m.message,m.stack,b)},O.readyException=function(m){W.setTimeout(function(){throw m})};var Xn=O.Deferred();function Sn(){ue.removeEventListener("DOMContentLoaded",Sn),W.removeEventListener("load",Sn),O.ready()}O.fn.ready=function(m){return Xn.then(m).catch(function(b){O.readyException(b)}),this},O.extend({isReady:!1,readyWait:1,ready:function(m){(!0===m?--O.readyWait:O.isReady)||(O.isReady=!0,!(!0!==m&&--O.readyWait>0)&&Xn.resolveWith(ue,[O]))}}),O.ready.then=Xn.then,"complete"===ue.readyState||"loading"!==ue.readyState&&!ue.documentElement.doScroll?W.setTimeout(O.ready):(ue.addEventListener("DOMContentLoaded",Sn),W.addEventListener("load",Sn));var _n=function(m,b,I,D,R,F,V){var ne=0,J=m.length,_e=null==I;if("object"===Xe(I))for(ne in R=!0,I)_n(m,b,ne,I[ne],!0,F,V);else if(void 0!==D&&(R=!0,we(D)||(V=!0),_e&&(V?(b.call(m,D),b=null):(_e=b,b=function(Se,Ye,ye){return _e.call(O(Se),ye)})),b))for(;ne<J;ne++)b(m[ne],I,V?D:D.call(m[ne],ne,b(m[ne],I)));return R?m:_e?b.call(m):J?b(m[0],I):F},mo=/^-ms-/,ls=/-([a-z])/g;function Ss(m,b){return b.toUpperCase()}function Je(m){return m.replace(mo,"ms-").replace(ls,Ss)}var Zn=function(m){return 1===m.nodeType||9===m.nodeType||!+m.nodeType};function yr(){this.expando=O.expando+yr.uid++}yr.uid=1,yr.prototype={cache:function(m){var b=m[this.expando];return b||(b={},Zn(m)&&(m.nodeType?m[this.expando]=b:Object.defineProperty(m,this.expando,{value:b,configurable:!0}))),b},set:function(m,b,I){var D,R=this.cache(m);if("string"==typeof b)R[Je(b)]=I;else for(D in b)R[Je(D)]=b[D];return R},get:function(m,b){return void 0===b?this.cache(m):m[this.expando]&&m[this.expando][Je(b)]},access:function(m,b,I){return void 0===b||b&&"string"==typeof b&&void 0===I?this.get(m,b):(this.set(m,b,I),void 0!==I?I:b)},remove:function(m,b){var I,D=m[this.expando];if(void 0!==D){if(void 0!==b)for((I=(b=Array.isArray(b)?b.map(Je):(b=Je(b))in D?[b]:b.match(nn)||[]).length);I--;)delete D[b[I]];(void 0===b||O.isEmptyObject(D))&&(m.nodeType?m[this.expando]=void 0:delete m[this.expando])}},hasData:function(m){var b=m[this.expando];return void 0!==b&&!O.isEmptyObject(b)}};var wt=new yr,at=new yr,On=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,oi=/[A-Z]/g;function Pt(m,b,I){var D;if(void 0===I&&1===m.nodeType)if(D="data-"+b.replace(oi,"-$&").toLowerCase(),"string"==typeof(I=m.getAttribute(D))){try{I=function(m){return"true"===m||"false"!==m&&("null"===m?null:m===+m+""?+m:On.test(m)?JSON.parse(m):m)}(I)}catch(R){}at.set(m,b,I)}else I=void 0;return I}O.extend({hasData:function(m){return at.hasData(m)||wt.hasData(m)},data:function(m,b,I){return at.access(m,b,I)},removeData:function(m,b){at.remove(m,b)},_data:function(m,b,I){return wt.access(m,b,I)},_removeData:function(m,b){wt.remove(m,b)}}),O.fn.extend({data:function(m,b){var I,D,R,F=this[0],V=F&&F.attributes;if(void 0===m){if(this.length&&(R=at.get(F),1===F.nodeType&&!wt.get(F,"hasDataAttrs"))){for(I=V.length;I--;)V[I]&&0===(D=V[I].name).indexOf("data-")&&(D=Je(D.slice(5)),Pt(F,D,R[D]));wt.set(F,"hasDataAttrs",!0)}return R}return"object"==typeof m?this.each(function(){at.set(this,m)}):_n(this,function(ne){var J;if(F&&void 0===ne)return void 0!==(J=at.get(F,m))||void 0!==(J=Pt(F,m))?J:void 0;this.each(function(){at.set(this,m,ne)})},null,b,arguments.length>1,null,!0)},removeData:function(m){return this.each(function(){at.remove(this,m)})}}),O.extend({queue:function(m,b,I){var D;if(m)return D=wt.get(m,b=(b||"fx")+"queue"),I&&(!D||Array.isArray(I)?D=wt.access(m,b,O.makeArray(I)):D.push(I)),D||[]},dequeue:function(m,b){var I=O.queue(m,b=b||"fx"),D=I.length,R=I.shift(),F=O._queueHooks(m,b);"inprogress"===R&&(R=I.shift(),D--),R&&("fx"===b&&I.unshift("inprogress"),delete F.stop,R.call(m,function(){O.dequeue(m,b)},F)),!D&&F&&F.empty.fire()},_queueHooks:function(m,b){var I=b+"queueHooks";return wt.get(m,I)||wt.access(m,I,{empty:O.Callbacks("once memory").add(function(){wt.remove(m,[b+"queue",I])})})}}),O.fn.extend({queue:function(m,b){var I=2;return"string"!=typeof m&&(b=m,m="fx",I--),arguments.length<I?O.queue(this[0],m):void 0===b?this:this.each(function(){var D=O.queue(this,m,b);O._queueHooks(this,m),"fx"===m&&"inprogress"!==D[0]&&O.dequeue(this,m)})},dequeue:function(m){return this.each(function(){O.dequeue(this,m)})},clearQueue:function(m){return this.queue(m||"fx",[])},promise:function(m,b){var I,D=1,R=O.Deferred(),F=this,V=this.length,ne=function(){--D||R.resolveWith(F,[F])};for("string"!=typeof m&&(b=m,m=void 0),m=m||"fx";V--;)(I=wt.get(F[V],m+"queueHooks"))&&I.empty&&(D++,I.empty.add(ne));return ne(),R.promise(b)}});var Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rn=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Jt=["Top","Right","Bottom","Left"],dr=ue.documentElement,Tn=function(m){return O.contains(m.ownerDocument,m)},ot={composed:!0};dr.getRootNode&&(Tn=function(m){return O.contains(m.ownerDocument,m)||m.getRootNode(ot)===m.ownerDocument});var St=function(m,b){return"none"===(m=b||m).style.display||""===m.style.display&&Tn(m)&&"none"===O.css(m,"display")};function Na(m,b,I,D){var R,F,V=20,ne=D?function(){return D.cur()}:function(){return O.css(m,b,"")},J=ne(),_e=I&&I[3]||(O.cssNumber[b]?"":"px"),Se=m.nodeType&&(O.cssNumber[b]||"px"!==_e&&+J)&&rn.exec(O.css(m,b));if(Se&&Se[3]!==_e){for(_e=_e||Se[3],Se=+(J/=2)||1;V--;)O.style(m,b,Se+_e),(1-F)*(1-(F=ne()/J||.5))<=0&&(V=0),Se/=F;O.style(m,b,(Se*=2)+_e),I=I||[]}return I&&(Se=+Se||+J||0,R=I[1]?Se+(I[1]+1)*I[2]:+I[2],D&&(D.unit=_e,D.start=Se,D.end=R)),R}var er={};function Gn(m){var b,I=m.ownerDocument,D=m.nodeName,R=er[D];return R||(b=I.body.appendChild(I.createElement(D)),R=O.css(b,"display"),b.parentNode.removeChild(b),"none"===R&&(R="block"),er[D]=R,R)}function bn(m,b){for(var I,D,R=[],F=0,V=m.length;F<V;F++)(D=m[F]).style&&(I=D.style.display,b?("none"===I&&(R[F]=wt.get(D,"display")||null,R[F]||(D.style.display="")),""===D.style.display&&St(D)&&(R[F]=Gn(D))):"none"!==I&&(R[F]="none",wt.set(D,"display",I)));for(F=0;F<V;F++)null!=R[F]&&(m[F].style.display=R[F]);return m}O.fn.extend({show:function(){return bn(this,!0)},hide:function(){return bn(this)},toggle:function(m){return"boolean"==typeof m?m?this.show():this.hide():this.each(function(){St(this)?O(this).show():O(this).hide()})}});var b,I,Rn=/^(?:checkbox|radio)$/i,_o=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,se=/^$|^module$|\/(?:java|ecma)script/i;b=ue.createDocumentFragment().appendChild(ue.createElement("div")),(I=ue.createElement("input")).setAttribute("type","radio"),I.setAttribute("checked","checked"),I.setAttribute("name","t"),b.appendChild(I),Me.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Me.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",Me.option=!!b.lastChild;var ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function oe(m,b){var I;return I=void 0!==m.getElementsByTagName?m.getElementsByTagName(b||"*"):void 0!==m.querySelectorAll?m.querySelectorAll(b||"*"):[],void 0===b||b&&en(m,b)?O.merge([m],I):I}function Be(m,b){for(var I=0,D=m.length;I<D;I++)wt.set(m[I],"globalEval",!b||wt.get(b[I],"globalEval"))}ee.tbody=ee.tfoot=ee.colgroup=ee.caption=ee.thead,ee.th=ee.td,Me.option||(ee.optgroup=ee.option=[1,"<select multiple='multiple'>","</select>"]);var Ae=/<|&#?\w+;/;function yt(m,b,I,D,R){for(var F,V,ne,J,_e,Se,Ye=b.createDocumentFragment(),ye=[],Ue=0,Ot=m.length;Ue<Ot;Ue++)if((F=m[Ue])||0===F)if("object"===Xe(F))O.merge(ye,F.nodeType?[F]:F);else if(Ae.test(F)){for(V=V||Ye.appendChild(b.createElement("div")),ne=(_o.exec(F)||["",""])[1].toLowerCase(),V.innerHTML=(J=ee[ne]||ee._default)[1]+O.htmlPrefilter(F)+J[2],Se=J[0];Se--;)V=V.lastChild;O.merge(ye,V.childNodes),(V=Ye.firstChild).textContent=""}else ye.push(b.createTextNode(F));for(Ye.textContent="",Ue=0;F=ye[Ue++];)if(D&&O.inArray(F,D)>-1)R&&R.push(F);else if(_e=Tn(F),V=oe(Ye.appendChild(F),"script"),_e&&Be(V),I)for(Se=0;F=V[Se++];)se.test(F.type||"")&&I.push(F);return Ye}var Vt=/^([^.]*)(?:\.(.+)|)/;function vn(){return!0}function tr(){return!1}function Lr(m,b){return m===function(){try{return ue.activeElement}catch(m){}}()==("focus"===b)}function be(m,b,I,D,R,F){var V,ne;if("object"==typeof b){for(ne in"string"!=typeof I&&(D=D||I,I=void 0),b)be(m,ne,I,D,b[ne],F);return m}if(null==D&&null==R?(R=I,D=I=void 0):null==R&&("string"==typeof I?(R=D,D=void 0):(R=D,D=I,I=void 0)),!1===R)R=tr;else if(!R)return m;return 1===F&&(V=R,(R=function(J){return O().off(J),V.apply(this,arguments)}).guid=V.guid||(V.guid=O.guid++)),m.each(function(){O.event.add(this,b,R,D,I)})}function le(m,b,I){I?(wt.set(m,b,!1),O.event.add(m,b,{namespace:!1,handler:function(D){var R,F,V=wt.get(this,b);if(1&D.isTrigger&&this[b]){if(V.length)(O.event.special[b]||{}).delegateType&&D.stopPropagation();else if(V=fe.call(arguments),wt.set(this,b,V),R=I(this,b),this[b](),V!==(F=wt.get(this,b))||R?wt.set(this,b,!1):F={},V!==F)return D.stopImmediatePropagation(),D.preventDefault(),F&&F.value}else V.length&&(wt.set(this,b,{value:O.event.trigger(O.extend(V[0],O.Event.prototype),V.slice(1),this)}),D.stopImmediatePropagation())}})):void 0===wt.get(m,b)&&O.event.add(m,b,vn)}O.event={global:{},add:function(m,b,I,D,R){var F,V,ne,J,_e,Se,Ye,ye,Ue,Ot,Ht,_t=wt.get(m);if(Zn(m))for(I.handler&&(I=(F=I).handler,R=F.selector),R&&O.find.matchesSelector(dr,R),I.guid||(I.guid=O.guid++),(J=_t.events)||(J=_t.events=Object.create(null)),(V=_t.handle)||(V=_t.handle=function(un){return void 0!==O&&O.event.triggered!==un.type?O.event.dispatch.apply(m,arguments):void 0}),_e=(b=(b||"").match(nn)||[""]).length;_e--;)Ue=Ht=(ne=Vt.exec(b[_e])||[])[1],Ot=(ne[2]||"").split(".").sort(),Ue&&(Ye=O.event.special[Ue]||{},Ye=O.event.special[Ue=(R?Ye.delegateType:Ye.bindType)||Ue]||{},Se=O.extend({type:Ue,origType:Ht,data:D,handler:I,guid:I.guid,selector:R,needsContext:R&&O.expr.match.needsContext.test(R),namespace:Ot.join(".")},F),(ye=J[Ue])||((ye=J[Ue]=[]).delegateCount=0,(!Ye.setup||!1===Ye.setup.call(m,D,Ot,V))&&m.addEventListener&&m.addEventListener(Ue,V)),Ye.add&&(Ye.add.call(m,Se),Se.handler.guid||(Se.handler.guid=I.guid)),R?ye.splice(ye.delegateCount++,0,Se):ye.push(Se),O.event.global[Ue]=!0)},remove:function(m,b,I,D,R){var F,V,ne,J,_e,Se,Ye,ye,Ue,Ot,Ht,_t=wt.hasData(m)&&wt.get(m);if(_t&&(J=_t.events)){for(_e=(b=(b||"").match(nn)||[""]).length;_e--;)if(Ue=Ht=(ne=Vt.exec(b[_e])||[])[1],Ot=(ne[2]||"").split(".").sort(),Ue){for(Ye=O.event.special[Ue]||{},ye=J[Ue=(D?Ye.delegateType:Ye.bindType)||Ue]||[],ne=ne[2]&&new RegExp("(^|\\.)"+Ot.join("\\.(?:.*\\.|)")+"(\\.|$)"),V=F=ye.length;F--;)Se=ye[F],(R||Ht===Se.origType)&&(!I||I.guid===Se.guid)&&(!ne||ne.test(Se.namespace))&&(!D||D===Se.selector||"**"===D&&Se.selector)&&(ye.splice(F,1),Se.selector&&ye.delegateCount--,Ye.remove&&Ye.remove.call(m,Se));V&&!ye.length&&((!Ye.teardown||!1===Ye.teardown.call(m,Ot,_t.handle))&&O.removeEvent(m,Ue,_t.handle),delete J[Ue])}else for(Ue in J)O.event.remove(m,Ue+b[_e],I,D,!0);O.isEmptyObject(J)&&wt.remove(m,"handle events")}},dispatch:function(m){var b,I,D,R,F,V,ne=new Array(arguments.length),J=O.event.fix(m),_e=(wt.get(this,"events")||Object.create(null))[J.type]||[],Se=O.event.special[J.type]||{};for(ne[0]=J,b=1;b<arguments.length;b++)ne[b]=arguments[b];if(J.delegateTarget=this,!Se.preDispatch||!1!==Se.preDispatch.call(this,J)){for(V=O.event.handlers.call(this,J,_e),b=0;(R=V[b++])&&!J.isPropagationStopped();)for(J.currentTarget=R.elem,I=0;(F=R.handlers[I++])&&!J.isImmediatePropagationStopped();)(!J.rnamespace||!1===F.namespace||J.rnamespace.test(F.namespace))&&(J.handleObj=F,J.data=F.data,void 0!==(D=((O.event.special[F.origType]||{}).handle||F.handler).apply(R.elem,ne))&&!1===(J.result=D)&&(J.preventDefault(),J.stopPropagation()));return Se.postDispatch&&Se.postDispatch.call(this,J),J.result}},handlers:function(m,b){var I,D,R,F,V,ne=[],J=b.delegateCount,_e=m.target;if(J&&_e.nodeType&&!("click"===m.type&&m.button>=1))for(;_e!==this;_e=_e.parentNode||this)if(1===_e.nodeType&&("click"!==m.type||!0!==_e.disabled)){for(F=[],V={},I=0;I<J;I++)void 0===V[R=(D=b[I]).selector+" "]&&(V[R]=D.needsContext?O(R,this).index(_e)>-1:O.find(R,this,null,[_e]).length),V[R]&&F.push(D);F.length&&ne.push({elem:_e,handlers:F})}return _e=this,J<b.length&&ne.push({elem:_e,handlers:b.slice(J)}),ne},addProp:function(m,b){Object.defineProperty(O.Event.prototype,m,{enumerable:!0,configurable:!0,get:we(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[m]},set:function(I){Object.defineProperty(this,m,{enumerable:!0,configurable:!0,writable:!0,value:I})}})},fix:function(m){return m[O.expando]?m:new O.Event(m)},special:{load:{noBubble:!0},click:{setup:function(m){var b=this||m;return Rn.test(b.type)&&b.click&&en(b,"input")&&le(b,"click",vn),!1},trigger:function(m){var b=this||m;return Rn.test(b.type)&&b.click&&en(b,"input")&&le(b,"click"),!0},_default:function(m){var b=m.target;return Rn.test(b.type)&&b.click&&en(b,"input")&&wt.get(b,"click")||en(b,"a")}},beforeunload:{postDispatch:function(m){void 0!==m.result&&m.originalEvent&&(m.originalEvent.returnValue=m.result)}}}},O.removeEvent=function(m,b,I){m.removeEventListener&&m.removeEventListener(b,I)},O.Event=function(m,b){if(!(this instanceof O.Event))return new O.Event(m,b);m&&m.type?(this.originalEvent=m,this.type=m.type,this.isDefaultPrevented=m.defaultPrevented||void 0===m.defaultPrevented&&!1===m.returnValue?vn:tr,this.target=m.target&&3===m.target.nodeType?m.target.parentNode:m.target,this.currentTarget=m.currentTarget,this.relatedTarget=m.relatedTarget):this.type=m,b&&O.extend(this,b),this.timeStamp=m&&m.timeStamp||Date.now(),this[O.expando]=!0},O.Event.prototype={constructor:O.Event,isDefaultPrevented:tr,isPropagationStopped:tr,isImmediatePropagationStopped:tr,isSimulated:!1,preventDefault:function(){var m=this.originalEvent;this.isDefaultPrevented=vn,m&&!this.isSimulated&&m.preventDefault()},stopPropagation:function(){var m=this.originalEvent;this.isPropagationStopped=vn,m&&!this.isSimulated&&m.stopPropagation()},stopImmediatePropagation:function(){var m=this.originalEvent;this.isImmediatePropagationStopped=vn,m&&!this.isSimulated&&m.stopImmediatePropagation(),this.stopPropagation()}},O.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},O.event.addProp),O.each({focus:"focusin",blur:"focusout"},function(m,b){O.event.special[m]={setup:function(){return le(this,m,Lr),!1},trigger:function(){return le(this,m),!0},_default:function(){return!0},delegateType:b}}),O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(m,b){O.event.special[m]={delegateType:b,bindType:b,handle:function(I){var D,R=this,F=I.relatedTarget,V=I.handleObj;return(!F||F!==R&&!O.contains(R,F))&&(I.type=V.origType,D=V.handler.apply(this,arguments),I.type=b),D}}}),O.fn.extend({on:function(m,b,I,D){return be(this,m,b,I,D)},one:function(m,b,I,D){return be(this,m,b,I,D,1)},off:function(m,b,I){var D,R;if(m&&m.preventDefault&&m.handleObj)return D=m.handleObj,O(m.delegateTarget).off(D.namespace?D.origType+"."+D.namespace:D.origType,D.selector,D.handler),this;if("object"==typeof m){for(R in m)this.off(R,b,m[R]);return this}return(!1===b||"function"==typeof b)&&(I=b,b=void 0),!1===I&&(I=tr),this.each(function(){O.event.remove(this,m,I,b)})}});var ce=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Bt(m,b){return en(m,"table")&&en(11!==b.nodeType?b:b.firstChild,"tr")&&O(m).children("tbody")[0]||m}function wn(m){return m.type=(null!==m.getAttribute("type"))+"/"+m.type,m}function dn(m){return"true/"===(m.type||"").slice(0,5)?m.type=m.type.slice(5):m.removeAttribute("type"),m}function vr(m,b){var I,D,R,V,ne,J;if(1===b.nodeType){if(wt.hasData(m)&&(J=wt.get(m).events))for(R in wt.remove(b,"handle events"),J)for(I=0,D=J[R].length;I<D;I++)O.event.add(b,R,J[R][I]);at.hasData(m)&&(V=at.access(m),ne=O.extend({},V),at.set(b,ne))}}function lr(m,b){var I=b.nodeName.toLowerCase();"input"===I&&Rn.test(m.type)?b.checked=m.checked:("input"===I||"textarea"===I)&&(b.defaultValue=m.defaultValue)}function nr(m,b,I,D){b=Fe(b);var R,F,V,ne,J,_e,Se=0,Ye=m.length,ye=Ye-1,Ue=b[0],Ot=we(Ue);if(Ot||Ye>1&&"string"==typeof Ue&&!Me.checkClone&&We.test(Ue))return m.each(function(Ht){var _t=m.eq(Ht);Ot&&(b[0]=Ue.call(this,Ht,_t.html())),nr(_t,b,I,D)});if(Ye&&(F=(R=yt(b,m[0].ownerDocument,!1,m,D)).firstChild,1===R.childNodes.length&&(R=F),F||D)){for(ne=(V=O.map(oe(R,"script"),wn)).length;Se<Ye;Se++)J=R,Se!==ye&&(J=O.clone(J,!0,!0),ne&&O.merge(V,oe(J,"script"))),I.call(m[Se],J,Se);if(ne)for(_e=V[V.length-1].ownerDocument,O.map(V,dn),Se=0;Se<ne;Se++)se.test((J=V[Se]).type||"")&&!wt.access(J,"globalEval")&&O.contains(_e,J)&&(J.src&&"module"!==(J.type||"").toLowerCase()?O._evalUrl&&!J.noModule&&O._evalUrl(J.src,{nonce:J.nonce||J.getAttribute("nonce")},_e):Ve(J.textContent.replace(dt,""),J,_e))}return m}function sn(m,b,I){for(var D,R=b?O.filter(b,m):m,F=0;null!=(D=R[F]);F++)!I&&1===D.nodeType&&O.cleanData(oe(D)),D.parentNode&&(I&&Tn(D)&&Be(oe(D,"script")),D.parentNode.removeChild(D));return m}O.extend({htmlPrefilter:function(m){return m},clone:function(m,b,I){var D,R,F,V,ne=m.cloneNode(!0),J=Tn(m);if(!(Me.noCloneChecked||1!==m.nodeType&&11!==m.nodeType||O.isXMLDoc(m)))for(V=oe(ne),D=0,R=(F=oe(m)).length;D<R;D++)lr(F[D],V[D]);if(b)if(I)for(F=F||oe(m),V=V||oe(ne),D=0,R=F.length;D<R;D++)vr(F[D],V[D]);else vr(m,ne);return(V=oe(ne,"script")).length>0&&Be(V,!J&&oe(m,"script")),ne},cleanData:function(m){for(var b,I,D,R=O.event.special,F=0;void 0!==(I=m[F]);F++)if(Zn(I)){if(b=I[wt.expando]){if(b.events)for(D in b.events)R[D]?O.event.remove(I,D):O.removeEvent(I,D,b.handle);I[wt.expando]=void 0}I[at.expando]&&(I[at.expando]=void 0)}}}),O.fn.extend({detach:function(m){return sn(this,m,!0)},remove:function(m){return sn(this,m)},text:function(m){return _n(this,function(b){return void 0===b?O.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=b)})},null,m,arguments.length)},append:function(){return nr(this,arguments,function(m){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bt(this,m).appendChild(m)})},prepend:function(){return nr(this,arguments,function(m){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Bt(this,m);b.insertBefore(m,b.firstChild)}})},before:function(){return nr(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this)})},after:function(){return nr(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling)})},empty:function(){for(var m,b=0;null!=(m=this[b]);b++)1===m.nodeType&&(O.cleanData(oe(m,!1)),m.textContent="");return this},clone:function(m,b){return m=null!=m&&m,b=null==b?m:b,this.map(function(){return O.clone(this,m,b)})},html:function(m){return _n(this,function(b){var I=this[0]||{},D=0,R=this.length;if(void 0===b&&1===I.nodeType)return I.innerHTML;if("string"==typeof b&&!ce.test(b)&&!ee[(_o.exec(b)||["",""])[1].toLowerCase()]){b=O.htmlPrefilter(b);try{for(;D<R;D++)1===(I=this[D]||{}).nodeType&&(O.cleanData(oe(I,!1)),I.innerHTML=b);I=0}catch(F){}}I&&this.empty().append(b)},null,m,arguments.length)},replaceWith:function(){var m=[];return nr(this,arguments,function(b){var I=this.parentNode;O.inArray(this,m)<0&&(O.cleanData(oe(this)),I&&I.replaceChild(b,this))},m)}}),O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(m,b){O.fn[m]=function(I){for(var D,R=[],F=O(I),V=F.length-1,ne=0;ne<=V;ne++)D=ne===V?this:this.clone(!0),O(F[ne])[b](D),ge.apply(R,D.get());return this.pushStack(R)}});var gr=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),Os=function(m){var b=m.ownerDocument.defaultView;return(!b||!b.opener)&&(b=W),b.getComputedStyle(m)},Pi=function(m,b,I){var D,R,F={};for(R in b)F[R]=m.style[R],m.style[R]=b[R];for(R in D=I.call(m),b)m.style[R]=F[R];return D},ht=new RegExp(Jt.join("|"),"i");function cn(m,b,I){var D,R,F,V,ne=m.style;return(I=I||Os(m))&&(""===(V=I.getPropertyValue(b)||I[b])&&!Tn(m)&&(V=O.style(m,b)),!Me.pixelBoxStyles()&&gr.test(V)&&ht.test(b)&&(D=ne.width,R=ne.minWidth,F=ne.maxWidth,ne.minWidth=ne.maxWidth=ne.width=V,V=I.width,ne.width=D,ne.minWidth=R,ne.maxWidth=F)),void 0!==V?V+"":V}function rr(m,b){return{get:function(){if(!m())return(this.get=b).apply(this,arguments);delete this.get}}}!function(){function m(){if(_e){J.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",_e.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",dr.appendChild(J).appendChild(_e);var Se=W.getComputedStyle(_e);I="1%"!==Se.top,ne=12===b(Se.marginLeft),_e.style.right="60%",F=36===b(Se.right),D=36===b(Se.width),_e.style.position="absolute",R=12===b(_e.offsetWidth/3),dr.removeChild(J),_e=null}}function b(Se){return Math.round(parseFloat(Se))}var I,D,R,F,V,ne,J=ue.createElement("div"),_e=ue.createElement("div");!_e.style||(_e.style.backgroundClip="content-box",_e.cloneNode(!0).style.backgroundClip="",Me.clearCloneStyle="content-box"===_e.style.backgroundClip,O.extend(Me,{boxSizingReliable:function(){return m(),D},pixelBoxStyles:function(){return m(),F},pixelPosition:function(){return m(),I},reliableMarginLeft:function(){return m(),ne},scrollboxSize:function(){return m(),R},reliableTrDimensions:function(){var Se,Ye,ye,Ue;return null==V&&(Se=ue.createElement("table"),Ye=ue.createElement("tr"),ye=ue.createElement("div"),Se.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ye.style.cssText="border:1px solid",Ye.style.height="1px",ye.style.height="9px",ye.style.display="block",dr.appendChild(Se).appendChild(Ye).appendChild(ye),Ue=W.getComputedStyle(Ye),V=parseInt(Ue.height,10)+parseInt(Ue.borderTopWidth,10)+parseInt(Ue.borderBottomWidth,10)===Ye.offsetHeight,dr.removeChild(Se)),V}}))}();var Ii=["Webkit","Moz","ms"],Ys=ue.createElement("div").style,Er={};function ir(m){return O.cssProps[m]||Er[m]||(m in Ys?m:Er[m]=function(m){for(var b=m[0].toUpperCase()+m.slice(1),I=Ii.length;I--;)if((m=Ii[I]+b)in Ys)return m}(m)||m)}var ka=/^(none|table(?!-c[ea]).+)/,Qs=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Ni={letterSpacing:"0",fontWeight:"400"};function yo(m,b,I){var D=rn.exec(b);return D?Math.max(0,D[2]-(I||0))+(D[3]||"px"):b}function Hr(m,b,I,D,R,F){var V="width"===b?1:0,ne=0,J=0;if(I===(D?"border":"content"))return 0;for(;V<4;V+=2)"margin"===I&&(J+=O.css(m,I+Jt[V],!0,R)),D?("content"===I&&(J-=O.css(m,"padding"+Jt[V],!0,R)),"margin"!==I&&(J-=O.css(m,"border"+Jt[V]+"Width",!0,R))):(J+=O.css(m,"padding"+Jt[V],!0,R),"padding"!==I?J+=O.css(m,"border"+Jt[V]+"Width",!0,R):ne+=O.css(m,"border"+Jt[V]+"Width",!0,R));return!D&&F>=0&&(J+=Math.max(0,Math.ceil(m["offset"+b[0].toUpperCase()+b.slice(1)]-F-J-ne-.5))||0),J}function Ro(m,b,I){var D=Os(m),F=(!Me.boxSizingReliable()||I)&&"border-box"===O.css(m,"boxSizing",!1,D),V=F,ne=cn(m,b,D),J="offset"+b[0].toUpperCase()+b.slice(1);if(gr.test(ne)){if(!I)return ne;ne="auto"}return(!Me.boxSizingReliable()&&F||!Me.reliableTrDimensions()&&en(m,"tr")||"auto"===ne||!parseFloat(ne)&&"inline"===O.css(m,"display",!1,D))&&m.getClientRects().length&&(F="border-box"===O.css(m,"boxSizing",!1,D),(V=J in m)&&(ne=m[J])),(ne=parseFloat(ne)||0)+Hr(m,b,I||(F?"border":"content"),V,D,ne)+"px"}function sr(m,b,I,D,R){return new sr.prototype.init(m,b,I,D,R)}O.extend({cssHooks:{opacity:{get:function(m,b){if(b){var I=cn(m,"opacity");return""===I?"1":I}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(m,b,I,D){if(m&&3!==m.nodeType&&8!==m.nodeType&&m.style){var R,F,V,ne=Je(b),J=Qs.test(b),_e=m.style;if(J||(b=ir(ne)),V=O.cssHooks[b]||O.cssHooks[ne],void 0===I)return V&&"get"in V&&void 0!==(R=V.get(m,!1,D))?R:_e[b];if("string"==(F=typeof I)&&(R=rn.exec(I))&&R[1]&&(I=Na(m,b,R),F="number"),null==I||I!=I)return;"number"===F&&!J&&(I+=R&&R[3]||(O.cssNumber[ne]?"":"px")),!Me.clearCloneStyle&&""===I&&0===b.indexOf("background")&&(_e[b]="inherit"),(!V||!("set"in V)||void 0!==(I=V.set(m,I,D)))&&(J?_e.setProperty(b,I):_e[b]=I)}},css:function(m,b,I,D){var R,F,V,ne=Je(b);return Qs.test(b)||(b=ir(ne)),(V=O.cssHooks[b]||O.cssHooks[ne])&&"get"in V&&(R=V.get(m,!0,I)),void 0===R&&(R=cn(m,b,D)),"normal"===R&&b in Ni&&(R=Ni[b]),""===I||I?(F=parseFloat(R),!0===I||isFinite(F)?F||0:R):R}}),O.each(["height","width"],function(m,b){O.cssHooks[b]={get:function(I,D,R){if(D)return!ka.test(O.css(I,"display"))||I.getClientRects().length&&I.getBoundingClientRect().width?Ro(I,b,R):Pi(I,Xt,function(){return Ro(I,b,R)})},set:function(I,D,R){var F,V=Os(I),ne=!Me.scrollboxSize()&&"absolute"===V.position,_e=(ne||R)&&"border-box"===O.css(I,"boxSizing",!1,V),Se=R?Hr(I,b,R,_e,V):0;return _e&&ne&&(Se-=Math.ceil(I["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(V[b])-Hr(I,b,"border",!1,V)-.5)),Se&&(F=rn.exec(D))&&"px"!==(F[3]||"px")&&(I.style[b]=D,D=O.css(I,b)),yo(0,D,Se)}}}),O.cssHooks.marginLeft=rr(Me.reliableMarginLeft,function(m,b){if(b)return(parseFloat(cn(m,"marginLeft"))||m.getBoundingClientRect().left-Pi(m,{marginLeft:0},function(){return m.getBoundingClientRect().left}))+"px"}),O.each({margin:"",padding:"",border:"Width"},function(m,b){O.cssHooks[m+b]={expand:function(I){for(var D=0,R={},F="string"==typeof I?I.split(" "):[I];D<4;D++)R[m+Jt[D]+b]=F[D]||F[D-2]||F[0];return R}},"margin"!==m&&(O.cssHooks[m+b].set=yo)}),O.fn.extend({css:function(m,b){return _n(this,function(I,D,R){var F,V,ne={},J=0;if(Array.isArray(D)){for(F=Os(I),V=D.length;J<V;J++)ne[D[J]]=O.css(I,D[J],!1,F);return ne}return void 0!==R?O.style(I,D,R):O.css(I,D)},m,b,arguments.length>1)}}),O.Tween=sr,(sr.prototype={constructor:sr,init:function(m,b,I,D,R,F){this.elem=m,this.prop=I,this.easing=R||O.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=D,this.unit=F||(O.cssNumber[I]?"":"px")},cur:function(){var m=sr.propHooks[this.prop];return m&&m.get?m.get(this):sr.propHooks._default.get(this)},run:function(m){var b,I=sr.propHooks[this.prop];return this.pos=b=this.options.duration?O.easing[this.easing](m,this.options.duration*m,0,1,this.options.duration):m,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):sr.propHooks._default.set(this),this}}).init.prototype=sr.prototype,(sr.propHooks={_default:{get:function(m){var b;return 1!==m.elem.nodeType||null!=m.elem[m.prop]&&null==m.elem.style[m.prop]?m.elem[m.prop]:(b=O.css(m.elem,m.prop,""))&&"auto"!==b?b:0},set:function(m){O.fx.step[m.prop]?O.fx.step[m.prop](m):1!==m.elem.nodeType||!O.cssHooks[m.prop]&&null==m.elem.style[ir(m.prop)]?m.elem[m.prop]=m.now:O.style(m.elem,m.prop,m.now+m.unit)}}}).scrollTop=sr.propHooks.scrollLeft={set:function(m){m.elem.nodeType&&m.elem.parentNode&&(m.elem[m.prop]=m.now)}},O.easing={linear:function(m){return m},swing:function(m){return.5-Math.cos(m*Math.PI)/2},_default:"swing"},O.fx=sr.prototype.init,O.fx.step={};var Gi,cs,us=/^(?:toggle|show|hide)$/,Mn=/queueHooks$/;function oa(){cs&&(!1===ue.hidden&&W.requestAnimationFrame?W.requestAnimationFrame(oa):W.setTimeout(oa,O.fx.interval),O.fx.tick())}function wu(){return W.setTimeout(function(){Gi=void 0}),Gi=Date.now()}function zi(m,b){var I,D=0,R={height:m};for(b=b?1:0;D<4;D+=2-b)R["margin"+(I=Jt[D])]=R["padding"+I]=m;return b&&(R.opacity=R.width=m),R}function kl(m,b,I){for(var D,R=($r.tweeners[b]||[]).concat($r.tweeners["*"]),F=0,V=R.length;F<V;F++)if(D=R[F].call(I,b,m))return D}function $r(m,b,I){var D,R,F=0,V=$r.prefilters.length,ne=O.Deferred().always(function(){delete J.elem}),J=function(){if(R)return!1;for(var Ye=Gi||wu(),ye=Math.max(0,_e.startTime+_e.duration-Ye),Ot=1-(ye/_e.duration||0),Ht=0,_t=_e.tweens.length;Ht<_t;Ht++)_e.tweens[Ht].run(Ot);return ne.notifyWith(m,[_e,Ot,ye]),Ot<1&&_t?ye:(_t||ne.notifyWith(m,[_e,1,0]),ne.resolveWith(m,[_e]),!1)},_e=ne.promise({elem:m,props:O.extend({},b),opts:O.extend(!0,{specialEasing:{},easing:O.easing._default},I),originalProperties:b,originalOptions:I,startTime:Gi||wu(),duration:I.duration,tweens:[],createTween:function(Ye,ye){var Ue=O.Tween(m,_e.opts,Ye,ye,_e.opts.specialEasing[Ye]||_e.opts.easing);return _e.tweens.push(Ue),Ue},stop:function(Ye){var ye=0,Ue=Ye?_e.tweens.length:0;if(R)return this;for(R=!0;ye<Ue;ye++)_e.tweens[ye].run(1);return Ye?(ne.notifyWith(m,[_e,1,0]),ne.resolveWith(m,[_e,Ye])):ne.rejectWith(m,[_e,Ye]),this}}),Se=_e.props;for(function(m,b){var I,D,R,F,V;for(I in m)if(R=b[D=Je(I)],F=m[I],Array.isArray(F)&&(R=F[1],F=m[I]=F[0]),I!==D&&(m[D]=F,delete m[I]),(V=O.cssHooks[D])&&"expand"in V)for(I in F=V.expand(F),delete m[D],F)I in m||(m[I]=F[I],b[I]=R);else b[D]=R}(Se,_e.opts.specialEasing);F<V;F++)if(D=$r.prefilters[F].call(_e,m,Se,_e.opts))return we(D.stop)&&(O._queueHooks(_e.elem,_e.opts.queue).stop=D.stop.bind(D)),D;return O.map(Se,kl,_e),we(_e.opts.start)&&_e.opts.start.call(m,_e),_e.progress(_e.opts.progress).done(_e.opts.done,_e.opts.complete).fail(_e.opts.fail).always(_e.opts.always),O.fx.timer(O.extend(J,{elem:m,anim:_e,queue:_e.opts.queue})),_e}O.Animation=O.extend($r,{tweeners:{"*":[function(m,b){var I=this.createTween(m,b);return Na(I.elem,m,rn.exec(b),I),I}]},tweener:function(m,b){we(m)?(b=m,m=["*"]):m=m.match(nn);for(var I,D=0,R=m.length;D<R;D++)($r.tweeners[I=m[D]]=$r.tweeners[I]||[]).unshift(b)},prefilters:[function(m,b,I){var D,R,F,V,ne,J,_e,Se,Ye="width"in b||"height"in b,ye=this,Ue={},Ot=m.style,Ht=m.nodeType&&St(m),_t=wt.get(m,"fxshow");for(D in I.queue||(null==(V=O._queueHooks(m,"fx")).unqueued&&(V.unqueued=0,ne=V.empty.fire,V.empty.fire=function(){V.unqueued||ne()}),V.unqueued++,ye.always(function(){ye.always(function(){V.unqueued--,O.queue(m,"fx").length||V.empty.fire()})})),b)if(us.test(R=b[D])){if(delete b[D],F=F||"toggle"===R,R===(Ht?"hide":"show")){if("show"!==R||!_t||void 0===_t[D])continue;Ht=!0}Ue[D]=_t&&_t[D]||O.style(m,D)}if((J=!O.isEmptyObject(b))||!O.isEmptyObject(Ue))for(D in Ye&&1===m.nodeType&&(I.overflow=[Ot.overflow,Ot.overflowX,Ot.overflowY],null==(_e=_t&&_t.display)&&(_e=wt.get(m,"display")),"none"===(Se=O.css(m,"display"))&&(_e?Se=_e:(bn([m],!0),_e=m.style.display||_e,Se=O.css(m,"display"),bn([m]))),("inline"===Se||"inline-block"===Se&&null!=_e)&&"none"===O.css(m,"float")&&(J||(ye.done(function(){Ot.display=_e}),null==_e&&(_e="none"===(Se=Ot.display)?"":Se)),Ot.display="inline-block")),I.overflow&&(Ot.overflow="hidden",ye.always(function(){Ot.overflow=I.overflow[0],Ot.overflowX=I.overflow[1],Ot.overflowY=I.overflow[2]})),J=!1,Ue)J||(_t?"hidden"in _t&&(Ht=_t.hidden):_t=wt.access(m,"fxshow",{display:_e}),F&&(_t.hidden=!Ht),Ht&&bn([m],!0),ye.done(function(){for(D in Ht||bn([m]),wt.remove(m,"fxshow"),Ue)O.style(m,D,Ue[D])})),J=kl(Ht?_t[D]:0,D,ye),D in _t||(_t[D]=J.start,Ht&&(J.end=J.start,J.start=0))}],prefilter:function(m,b){b?$r.prefilters.unshift(m):$r.prefilters.push(m)}}),O.speed=function(m,b,I){var D=m&&"object"==typeof m?O.extend({},m):{complete:I||!I&&b||we(m)&&m,duration:m,easing:I&&b||b&&!we(b)&&b};return O.fx.off?D.duration=0:"number"!=typeof D.duration&&(D.duration=D.duration in O.fx.speeds?O.fx.speeds[D.duration]:O.fx.speeds._default),(null==D.queue||!0===D.queue)&&(D.queue="fx"),D.old=D.complete,D.complete=function(){we(D.old)&&D.old.call(this),D.queue&&O.dequeue(this,D.queue)},D},O.fn.extend({fadeTo:function(m,b,I,D){return this.filter(St).css("opacity",0).show().end().animate({opacity:b},m,I,D)},animate:function(m,b,I,D){var R=O.isEmptyObject(m),F=O.speed(b,I,D),V=function(){var ne=$r(this,O.extend({},m),F);(R||wt.get(this,"finish"))&&ne.stop(!0)};return V.finish=V,R||!1===F.queue?this.each(V):this.queue(F.queue,V)},stop:function(m,b,I){var D=function(R){var F=R.stop;delete R.stop,F(I)};return"string"!=typeof m&&(I=b,b=m,m=void 0),b&&this.queue(m||"fx",[]),this.each(function(){var R=!0,F=null!=m&&m+"queueHooks",V=O.timers,ne=wt.get(this);if(F)ne[F]&&ne[F].stop&&D(ne[F]);else for(F in ne)ne[F]&&ne[F].stop&&Mn.test(F)&&D(ne[F]);for(F=V.length;F--;)V[F].elem===this&&(null==m||V[F].queue===m)&&(V[F].anim.stop(I),R=!1,V.splice(F,1));(R||!I)&&O.dequeue(this,m)})},finish:function(m){return!1!==m&&(m=m||"fx"),this.each(function(){var b,I=wt.get(this),D=I[m+"queue"],R=I[m+"queueHooks"],F=O.timers,V=D?D.length:0;for(I.finish=!0,O.queue(this,m,[]),R&&R.stop&&R.stop.call(this,!0),b=F.length;b--;)F[b].elem===this&&F[b].queue===m&&(F[b].anim.stop(!0),F.splice(b,1));for(b=0;b<V;b++)D[b]&&D[b].finish&&D[b].finish.call(this);delete I.finish})}}),O.each(["toggle","show","hide"],function(m,b){var I=O.fn[b];O.fn[b]=function(D,R,F){return null==D||"boolean"==typeof D?I.apply(this,arguments):this.animate(zi(b,!0),D,R,F)}}),O.each({slideDown:zi("show"),slideUp:zi("hide"),slideToggle:zi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(m,b){O.fn[m]=function(I,D,R){return this.animate(b,I,D,R)}}),O.timers=[],O.fx.tick=function(){var m,b=0,I=O.timers;for(Gi=Date.now();b<I.length;b++)!(m=I[b])()&&I[b]===m&&I.splice(b--,1);I.length||O.fx.stop(),Gi=void 0},O.fx.timer=function(m){O.timers.push(m),O.fx.start()},O.fx.interval=13,O.fx.start=function(){cs||(cs=!0,oa())},O.fx.stop=function(){cs=null},O.fx.speeds={slow:600,fast:200,_default:400},O.fn.delay=function(m,b){return m=O.fx&&O.fx.speeds[m]||m,this.queue(b=b||"fx",function(I,D){var R=W.setTimeout(I,m);D.stop=function(){W.clearTimeout(R)}})},function(){var m=ue.createElement("input"),I=ue.createElement("select").appendChild(ue.createElement("option"));m.type="checkbox",Me.checkOn=""!==m.value,Me.optSelected=I.selected,(m=ue.createElement("input")).value="t",m.type="radio",Me.radioValue="t"===m.value}();var fi,Gr=O.expr.attrHandle;O.fn.extend({attr:function(m,b){return _n(this,O.attr,m,b,arguments.length>1)},removeAttr:function(m){return this.each(function(){O.removeAttr(this,m)})}}),O.extend({attr:function(m,b,I){var D,R,F=m.nodeType;if(3!==F&&8!==F&&2!==F)return void 0===m.getAttribute?O.prop(m,b,I):((1!==F||!O.isXMLDoc(m))&&(R=O.attrHooks[b.toLowerCase()]||(O.expr.match.bool.test(b)?fi:void 0)),void 0!==I?null===I?void O.removeAttr(m,b):R&&"set"in R&&void 0!==(D=R.set(m,I,b))?D:(m.setAttribute(b,I+""),I):R&&"get"in R&&null!==(D=R.get(m,b))?D:null==(D=O.find.attr(m,b))?void 0:D)},attrHooks:{type:{set:function(m,b){if(!Me.radioValue&&"radio"===b&&en(m,"input")){var I=m.value;return m.setAttribute("type",b),I&&(m.value=I),b}}}},removeAttr:function(m,b){var I,D=0,R=b&&b.match(nn);if(R&&1===m.nodeType)for(;I=R[D++];)m.removeAttribute(I)}}),fi={set:function(m,b,I){return!1===b?O.removeAttr(m,I):m.setAttribute(I,I),I}},O.each(O.expr.match.bool.source.match(/\w+/g),function(m,b){var I=Gr[b]||O.find.attr;Gr[b]=function(D,R,F){var V,ne,J=R.toLowerCase();return F||(ne=Gr[J],Gr[J]=V,V=null!=I(D,R,F)?J:null,Gr[J]=ne),V}});var vo=/^(?:input|select|textarea|button)$/i,Di=/^(?:a|area)$/i;function Co(m){return(m.match(nn)||[]).join(" ")}function Ms(m){return m.getAttribute&&m.getAttribute("class")||""}function la(m){return Array.isArray(m)?m:"string"==typeof m&&m.match(nn)||[]}O.fn.extend({prop:function(m,b){return _n(this,O.prop,m,b,arguments.length>1)},removeProp:function(m){return this.each(function(){delete this[O.propFix[m]||m]})}}),O.extend({prop:function(m,b,I){var D,R,F=m.nodeType;if(3!==F&&8!==F&&2!==F)return(1!==F||!O.isXMLDoc(m))&&(R=O.propHooks[b=O.propFix[b]||b]),void 0!==I?R&&"set"in R&&void 0!==(D=R.set(m,I,b))?D:m[b]=I:R&&"get"in R&&null!==(D=R.get(m,b))?D:m[b]},propHooks:{tabIndex:{get:function(m){var b=O.find.attr(m,"tabindex");return b?parseInt(b,10):vo.test(m.nodeName)||Di.test(m.nodeName)&&m.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Me.optSelected||(O.propHooks.selected={get:function(m){return null},set:function(m){}}),O.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){O.propFix[this.toLowerCase()]=this}),O.fn.extend({addClass:function(m){var b,I,D,R,F,V,ne,J=0;if(we(m))return this.each(function(_e){O(this).addClass(m.call(this,_e,Ms(this)))});if((b=la(m)).length)for(;I=this[J++];)if(R=Ms(I),D=1===I.nodeType&&" "+Co(R)+" "){for(V=0;F=b[V++];)D.indexOf(" "+F+" ")<0&&(D+=F+" ");R!==(ne=Co(D))&&I.setAttribute("class",ne)}return this},removeClass:function(m){var b,I,D,R,F,V,ne,J=0;if(we(m))return this.each(function(_e){O(this).removeClass(m.call(this,_e,Ms(this)))});if(!arguments.length)return this.attr("class","");if((b=la(m)).length)for(;I=this[J++];)if(R=Ms(I),D=1===I.nodeType&&" "+Co(R)+" "){for(V=0;F=b[V++];)for(;D.indexOf(" "+F+" ")>-1;)D=D.replace(" "+F+" "," ");R!==(ne=Co(D))&&I.setAttribute("class",ne)}return this},toggleClass:function(m,b){var I=typeof m,D="string"===I||Array.isArray(m);return"boolean"==typeof b&&D?b?this.addClass(m):this.removeClass(m):we(m)?this.each(function(R){O(this).toggleClass(m.call(this,R,Ms(this),b),b)}):this.each(function(){var R,F,V,ne;if(D)for(F=0,V=O(this),ne=la(m);R=ne[F++];)V.hasClass(R)?V.removeClass(R):V.addClass(R);else(void 0===m||"boolean"===I)&&((R=Ms(this))&&wt.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||!1===m?"":wt.get(this,"__className__")||""))})},hasClass:function(m){var b,I,D=0;for(b=" "+m+" ";I=this[D++];)if(1===I.nodeType&&(" "+Co(Ms(I))+" ").indexOf(b)>-1)return!0;return!1}});var Js=/\r/g;O.fn.extend({val:function(m){var b,I,D,R=this[0];return arguments.length?(D=we(m),this.each(function(F){var V;1===this.nodeType&&(null==(V=D?m.call(this,F,O(this).val()):m)?V="":"number"==typeof V?V+="":Array.isArray(V)&&(V=O.map(V,function(ne){return null==ne?"":ne+""})),(!(b=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()])||!("set"in b)||void 0===b.set(this,V,"value"))&&(this.value=V))})):R?(b=O.valHooks[R.type]||O.valHooks[R.nodeName.toLowerCase()])&&"get"in b&&void 0!==(I=b.get(R,"value"))?I:"string"==typeof(I=R.value)?I.replace(Js,""):null==I?"":I:void 0}}),O.extend({valHooks:{option:{get:function(m){var b=O.find.attr(m,"value");return null!=b?b:Co(O.text(m))}},select:{get:function(m){var b,I,D,R=m.options,F=m.selectedIndex,V="select-one"===m.type,ne=V?null:[],J=V?F+1:R.length;for(D=F<0?J:V?F:0;D<J;D++)if(((I=R[D]).selected||D===F)&&!I.disabled&&(!I.parentNode.disabled||!en(I.parentNode,"optgroup"))){if(b=O(I).val(),V)return b;ne.push(b)}return ne},set:function(m,b){for(var I,D,R=m.options,F=O.makeArray(b),V=R.length;V--;)((D=R[V]).selected=O.inArray(O.valHooks.option.get(D),F)>-1)&&(I=!0);return I||(m.selectedIndex=-1),F}}}}),O.each(["radio","checkbox"],function(){O.valHooks[this]={set:function(m,b){if(Array.isArray(b))return m.checked=O.inArray(O(m).val(),b)>-1}},Me.checkOn||(O.valHooks[this].get=function(m){return null===m.getAttribute("value")?"on":m.value})}),Me.focusin="onfocusin"in W;var ai=/^(?:focusinfocus|focusoutblur)$/,Eu=function(m){m.stopPropagation()};O.extend(O.event,{trigger:function(m,b,I,D){var R,F,V,ne,J,_e,Se,Ye,ye=[I||ue],Ue=re.call(m,"type")?m.type:m,Ot=re.call(m,"namespace")?m.namespace.split("."):[];if(F=Ye=V=I=I||ue,3!==I.nodeType&&8!==I.nodeType&&!ai.test(Ue+O.event.triggered)&&(Ue.indexOf(".")>-1&&(Ot=Ue.split("."),Ue=Ot.shift(),Ot.sort()),J=Ue.indexOf(":")<0&&"on"+Ue,(m=m[O.expando]?m:new O.Event(Ue,"object"==typeof m&&m)).isTrigger=D?2:3,m.namespace=Ot.join("."),m.rnamespace=m.namespace?new RegExp("(^|\\.)"+Ot.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m.result=void 0,m.target||(m.target=I),b=null==b?[m]:O.makeArray(b,[m]),Se=O.event.special[Ue]||{},D||!Se.trigger||!1!==Se.trigger.apply(I,b))){if(!D&&!Se.noBubble&&!ke(I)){for(ai.test((ne=Se.delegateType||Ue)+Ue)||(F=F.parentNode);F;F=F.parentNode)ye.push(F),V=F;V===(I.ownerDocument||ue)&&ye.push(V.defaultView||V.parentWindow||W)}for(R=0;(F=ye[R++])&&!m.isPropagationStopped();)Ye=F,m.type=R>1?ne:Se.bindType||Ue,(_e=(wt.get(F,"events")||Object.create(null))[m.type]&&wt.get(F,"handle"))&&_e.apply(F,b),(_e=J&&F[J])&&_e.apply&&Zn(F)&&(m.result=_e.apply(F,b),!1===m.result&&m.preventDefault());return m.type=Ue,!D&&!m.isDefaultPrevented()&&(!Se._default||!1===Se._default.apply(ye.pop(),b))&&Zn(I)&&J&&we(I[Ue])&&!ke(I)&&((V=I[J])&&(I[J]=null),O.event.triggered=Ue,m.isPropagationStopped()&&Ye.addEventListener(Ue,Eu),I[Ue](),m.isPropagationStopped()&&Ye.removeEventListener(Ue,Eu),O.event.triggered=void 0,V&&(I[J]=V)),m.result}},simulate:function(m,b,I){var D=O.extend(new O.Event,I,{type:m,isSimulated:!0});O.event.trigger(D,null,b)}}),O.fn.extend({trigger:function(m,b){return this.each(function(){O.event.trigger(m,b,this)})},triggerHandler:function(m,b){var I=this[0];if(I)return O.event.trigger(m,b,I,!0)}}),Me.focusin||O.each({focus:"focusin",blur:"focusout"},function(m,b){var I=function(D){O.event.simulate(b,D.target,O.event.fix(D))};O.event.special[b]={setup:function(){var D=this.ownerDocument||this.document||this,R=wt.access(D,b);R||D.addEventListener(m,I,!0),wt.access(D,b,(R||0)+1)},teardown:function(){var D=this.ownerDocument||this.document||this,R=wt.access(D,b)-1;R?wt.access(D,b,R):(D.removeEventListener(m,I,!0),wt.remove(D,b))}}});var ca=W.location,kc={guid:Date.now()},Rl=/\?/;O.parseXML=function(m){var b,I;if(!m||"string"!=typeof m)return null;try{b=(new W.DOMParser).parseFromString(m,"text/xml")}catch(D){}return I=b&&b.getElementsByTagName("parsererror")[0],(!b||I)&&O.error("Invalid XML: "+(I?O.map(I.childNodes,function(D){return D.textContent}).join("\n"):m)),b};var Ph=/\[\]$/,Rc=/\r?\n/g,Lc=/^(?:submit|button|image|reset|file)$/i,Fo=/^(?:input|select|textarea|keygen)/i;function ol(m,b,I,D){var R;if(Array.isArray(b))O.each(b,function(F,V){I||Ph.test(m)?D(m,V):ol(m+"["+("object"==typeof V&&null!=V?F:"")+"]",V,I,D)});else if(I||"object"!==Xe(b))D(m,b);else for(R in b)ol(m+"["+R+"]",b[R],I,D)}O.param=function(m,b){var I,D=[],R=function(F,V){var ne=we(V)?V():V;D[D.length]=encodeURIComponent(F)+"="+encodeURIComponent(null==ne?"":ne)};if(null==m)return"";if(Array.isArray(m)||m.jquery&&!O.isPlainObject(m))O.each(m,function(){R(this.name,this.value)});else for(I in m)ol(I,m[I],b,R);return D.join("&")},O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var m=O.prop(this,"elements");return m?O.makeArray(m):this}).filter(function(){var m=this.type;return this.name&&!O(this).is(":disabled")&&Fo.test(this.nodeName)&&!Lc.test(m)&&(this.checked||!Rn.test(m))}).map(function(m,b){var I=O(this).val();return null==I?null:Array.isArray(I)?O.map(I,function(D){return{name:b.name,value:D.replace(Rc,"\r\n")}}):{name:b.name,value:I.replace(Rc,"\r\n")}}).get()}});var Tu=/%20/g,Nh=/#.*$/,Au=/([?&])_=[^&]*/,kh=/^(.*?):[ \t]*([^\r\n]*)$/gm,Zp=/^(?:GET|HEAD)$/,Ll=/^\/\//,Du={},Vo={},Fl="*/".concat("*"),Vl=ue.createElement("a");function Ul(m){return function(b,I){"string"!=typeof b&&(I=b,b="*");var D,R=0,F=b.toLowerCase().match(nn)||[];if(we(I))for(;D=F[R++];)"+"===D[0]?(D=D.slice(1)||"*",(m[D]=m[D]||[]).unshift(I)):(m[D]=m[D]||[]).push(I)}}function al(m,b,I,D){var R={},F=m===Vo;function V(ne){var J;return R[ne]=!0,O.each(m[ne]||[],function(_e,Se){var Ye=Se(b,I,D);return"string"!=typeof Ye||F||R[Ye]?F?!(J=Ye):void 0:(b.dataTypes.unshift(Ye),V(Ye),!1)}),J}return V(b.dataTypes[0])||!R["*"]&&V("*")}function ki(m,b){var I,D,R=O.ajaxSettings.flatOptions||{};for(I in b)void 0!==b[I]&&((R[I]?m:D||(D={}))[I]=b[I]);return D&&O.extend(!0,m,D),m}Vl.href=ca.href,O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ca.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ca.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fl,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(m,b){return b?ki(ki(m,O.ajaxSettings),b):ki(O.ajaxSettings,m)},ajaxPrefilter:Ul(Du),ajaxTransport:Ul(Vo),ajax:function(m,b){"object"==typeof m&&(b=m,m=void 0);var I,D,R,F,V,ne,J,_e,Se,Ye,ye=O.ajaxSetup({},b=b||{}),Ue=ye.context||ye,Ot=ye.context&&(Ue.nodeType||Ue.jquery)?O(Ue):O.event,Ht=O.Deferred(),_t=O.Callbacks("once memory"),un=ye.statusCode||{},xr={},Tr={},gn="canceled",zt={readyState:0,getResponseHeader:function($t){var Ln;if(J){if(!F)for(F={};Ln=kh.exec(R);)F[Ln[1].toLowerCase()+" "]=(F[Ln[1].toLowerCase()+" "]||[]).concat(Ln[2]);Ln=F[$t.toLowerCase()+" "]}return null==Ln?null:Ln.join(", ")},getAllResponseHeaders:function(){return J?R:null},setRequestHeader:function($t,Ln){return null==J&&($t=Tr[$t.toLowerCase()]=Tr[$t.toLowerCase()]||$t,xr[$t]=Ln),this},overrideMimeType:function($t){return null==J&&(ye.mimeType=$t),this},statusCode:function($t){var Ln;if($t)if(J)zt.always($t[zt.status]);else for(Ln in $t)un[Ln]=[un[Ln],$t[Ln]];return this},abort:function($t){var Ln=$t||gn;return I&&I.abort(Ln),Yr(0,Ln),this}};if(Ht.promise(zt),ye.url=((m||ye.url||ca.href)+"").replace(Ll,ca.protocol+"//"),ye.type=b.method||b.type||ye.method||ye.type,ye.dataTypes=(ye.dataType||"*").toLowerCase().match(nn)||[""],null==ye.crossDomain){ne=ue.createElement("a");try{ne.href=ye.url,ne.href=ne.href,ye.crossDomain=Vl.protocol+"//"+Vl.host!=ne.protocol+"//"+ne.host}catch($t){ye.crossDomain=!0}}if(ye.data&&ye.processData&&"string"!=typeof ye.data&&(ye.data=O.param(ye.data,ye.traditional)),al(Du,ye,b,zt),J)return zt;for(Se in(_e=O.event&&ye.global)&&0==O.active++&&O.event.trigger("ajaxStart"),ye.type=ye.type.toUpperCase(),ye.hasContent=!Zp.test(ye.type),D=ye.url.replace(Nh,""),ye.hasContent?ye.data&&ye.processData&&0===(ye.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ye.data=ye.data.replace(Tu,"+")):(Ye=ye.url.slice(D.length),ye.data&&(ye.processData||"string"==typeof ye.data)&&(D+=(Rl.test(D)?"&":"?")+ye.data,delete ye.data),!1===ye.cache&&(D=D.replace(Au,"$1"),Ye=(Rl.test(D)?"&":"?")+"_="+kc.guid+++Ye),ye.url=D+Ye),ye.ifModified&&(O.lastModified[D]&&zt.setRequestHeader("If-Modified-Since",O.lastModified[D]),O.etag[D]&&zt.setRequestHeader("If-None-Match",O.etag[D])),(ye.data&&ye.hasContent&&!1!==ye.contentType||b.contentType)&&zt.setRequestHeader("Content-Type",ye.contentType),zt.setRequestHeader("Accept",ye.dataTypes[0]&&ye.accepts[ye.dataTypes[0]]?ye.accepts[ye.dataTypes[0]]+("*"!==ye.dataTypes[0]?", "+Fl+"; q=0.01":""):ye.accepts["*"]),ye.headers)zt.setRequestHeader(Se,ye.headers[Se]);if(ye.beforeSend&&(!1===ye.beforeSend.call(Ue,zt,ye)||J))return zt.abort();if(gn="abort",_t.add(ye.complete),zt.done(ye.success),zt.fail(ye.error),I=al(Vo,ye,b,zt)){if(zt.readyState=1,_e&&Ot.trigger("ajaxSend",[zt,ye]),J)return zt;ye.async&&ye.timeout>0&&(V=W.setTimeout(function(){zt.abort("timeout")},ye.timeout));try{J=!1,I.send(xr,Yr)}catch($t){if(J)throw $t;Yr(-1,$t)}}else Yr(-1,"No Transport");function Yr($t,Ln,Uo,Xs){var bt,Zo,qo,pi,Ps,gi=Ln;J||(J=!0,V&&W.clearTimeout(V),I=void 0,R=Xs||"",zt.readyState=$t>0?4:0,bt=$t>=200&&$t<300||304===$t,Uo&&(pi=function(m,b,I){for(var D,R,F,V,ne=m.contents,J=m.dataTypes;"*"===J[0];)J.shift(),void 0===D&&(D=m.mimeType||b.getResponseHeader("Content-Type"));if(D)for(R in ne)if(ne[R]&&ne[R].test(D)){J.unshift(R);break}if(J[0]in I)F=J[0];else{for(R in I){if(!J[0]||m.converters[R+" "+J[0]]){F=R;break}V||(V=R)}F=F||V}if(F)return F!==J[0]&&J.unshift(F),I[F]}(ye,zt,Uo)),!bt&&O.inArray("script",ye.dataTypes)>-1&&O.inArray("json",ye.dataTypes)<0&&(ye.converters["text script"]=function(){}),pi=function(m,b,I,D){var R,F,V,ne,J,_e={},Se=m.dataTypes.slice();if(Se[1])for(V in m.converters)_e[V.toLowerCase()]=m.converters[V];for(F=Se.shift();F;)if(m.responseFields[F]&&(I[m.responseFields[F]]=b),!J&&D&&m.dataFilter&&(b=m.dataFilter(b,m.dataType)),J=F,F=Se.shift())if("*"===F)F=J;else if("*"!==J&&J!==F){if(!(V=_e[J+" "+F]||_e["* "+F]))for(R in _e)if((ne=R.split(" "))[1]===F&&(V=_e[J+" "+ne[0]]||_e["* "+ne[0]])){!0===V?V=_e[R]:!0!==_e[R]&&(F=ne[0],Se.unshift(ne[1]));break}if(!0!==V)if(V&&m.throws)b=V(b);else try{b=V(b)}catch(Ye){return{state:"parsererror",error:V?Ye:"No conversion from "+J+" to "+F}}}return{state:"success",data:b}}(ye,pi,zt,bt),bt?(ye.ifModified&&((Ps=zt.getResponseHeader("Last-Modified"))&&(O.lastModified[D]=Ps),(Ps=zt.getResponseHeader("etag"))&&(O.etag[D]=Ps)),204===$t||"HEAD"===ye.type?gi="nocontent":304===$t?gi="notmodified":(gi=pi.state,Zo=pi.data,bt=!(qo=pi.error))):(qo=gi,($t||!gi)&&(gi="error",$t<0&&($t=0))),zt.status=$t,zt.statusText=(Ln||gi)+"",bt?Ht.resolveWith(Ue,[Zo,gi,zt]):Ht.rejectWith(Ue,[zt,gi,qo]),zt.statusCode(un),un=void 0,_e&&Ot.trigger(bt?"ajaxSuccess":"ajaxError",[zt,ye,bt?Zo:qo]),_t.fireWith(Ue,[zt,gi]),_e&&(Ot.trigger("ajaxComplete",[zt,ye]),--O.active||O.event.trigger("ajaxStop")))}return zt},getJSON:function(m,b,I){return O.get(m,b,I,"json")},getScript:function(m,b){return O.get(m,void 0,b,"script")}}),O.each(["get","post"],function(m,b){O[b]=function(I,D,R,F){return we(D)&&(F=F||R,R=D,D=void 0),O.ajax(O.extend({url:I,type:b,dataType:F,data:D,success:R},O.isPlainObject(I)&&I))}}),O.ajaxPrefilter(function(m){var b;for(b in m.headers)"content-type"===b.toLowerCase()&&(m.contentType=m.headers[b]||"")}),O._evalUrl=function(m,b,I){return O.ajax({url:m,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(D){O.globalEval(D,b,I)}})},O.fn.extend({wrapAll:function(m){var b;return this[0]&&(we(m)&&(m=m.call(this[0])),b=O(m,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var I=this;I.firstElementChild;)I=I.firstElementChild;return I}).append(this)),this},wrapInner:function(m){return we(m)?this.each(function(b){O(this).wrapInner(m.call(this,b))}):this.each(function(){var b=O(this),I=b.contents();I.length?I.wrapAll(m):b.append(m)})},wrap:function(m){var b=we(m);return this.each(function(I){O(this).wrapAll(b?m.call(this,I):m)})},unwrap:function(m){return this.parent(m).not("body").each(function(){O(this).replaceWith(this.childNodes)}),this}}),O.expr.pseudos.hidden=function(m){return!O.expr.pseudos.visible(m)},O.expr.pseudos.visible=function(m){return!!(m.offsetWidth||m.offsetHeight||m.getClientRects().length)},O.ajaxSettings.xhr=function(){try{return new W.XMLHttpRequest}catch(m){}};var Fc={0:200,1223:204},Wi=O.ajaxSettings.xhr();Me.cors=!!Wi&&"withCredentials"in Wi,Me.ajax=Wi=!!Wi,O.ajaxTransport(function(m){var b,I;if(Me.cors||Wi&&!m.crossDomain)return{send:function(D,R){var F,V=m.xhr();if(V.open(m.type,m.url,m.async,m.username,m.password),m.xhrFields)for(F in m.xhrFields)V[F]=m.xhrFields[F];for(F in m.mimeType&&V.overrideMimeType&&V.overrideMimeType(m.mimeType),!m.crossDomain&&!D["X-Requested-With"]&&(D["X-Requested-With"]="XMLHttpRequest"),D)V.setRequestHeader(F,D[F]);b=function(ne){return function(){b&&(b=I=V.onload=V.onerror=V.onabort=V.ontimeout=V.onreadystatechange=null,"abort"===ne?V.abort():"error"===ne?"number"!=typeof V.status?R(0,"error"):R(V.status,V.statusText):R(Fc[V.status]||V.status,V.statusText,"text"!==(V.responseType||"text")||"string"!=typeof V.responseText?{binary:V.response}:{text:V.responseText},V.getAllResponseHeaders()))}},V.onload=b(),I=V.onerror=V.ontimeout=b("error"),void 0!==V.onabort?V.onabort=I:V.onreadystatechange=function(){4===V.readyState&&W.setTimeout(function(){b&&I()})},b=b("abort");try{V.send(m.hasContent&&m.data||null)}catch(ne){if(b)throw ne}},abort:function(){b&&b()}}}),O.ajaxPrefilter(function(m){m.crossDomain&&(m.contents.script=!1)}),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(m){return O.globalEval(m),m}}}),O.ajaxPrefilter("script",function(m){void 0===m.cache&&(m.cache=!1),m.crossDomain&&(m.type="GET")}),O.ajaxTransport("script",function(m){var b,I;if(m.crossDomain||m.scriptAttrs)return{send:function(D,R){b=O("<script>").attr(m.scriptAttrs||{}).prop({charset:m.scriptCharset,src:m.url}).on("load error",I=function(F){b.remove(),I=null,F&&R("error"===F.type?404:200,F.type)}),ue.head.appendChild(b[0])},abort:function(){I&&I()}}});var m,ua=[],Ri=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var m=ua.pop()||O.expando+"_"+kc.guid++;return this[m]=!0,m}}),O.ajaxPrefilter("json jsonp",function(m,b,I){var D,R,F,V=!1!==m.jsonp&&(Ri.test(m.url)?"url":"string"==typeof m.data&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ri.test(m.data)&&"data");if(V||"jsonp"===m.dataTypes[0])return D=m.jsonpCallback=we(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback,V?m[V]=m[V].replace(Ri,"$1"+D):!1!==m.jsonp&&(m.url+=(Rl.test(m.url)?"&":"?")+m.jsonp+"="+D),m.converters["script json"]=function(){return F||O.error(D+" was not called"),F[0]},m.dataTypes[0]="json",R=W[D],W[D]=function(){F=arguments},I.always(function(){void 0===R?O(W).removeProp(D):W[D]=R,m[D]&&(m.jsonpCallback=b.jsonpCallback,ua.push(D)),F&&we(R)&&R(F[0]),F=R=void 0}),"script"}),Me.createHTMLDocument=((m=ue.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===m.childNodes.length),O.parseHTML=function(m,b,I){return"string"!=typeof m?[]:("boolean"==typeof b&&(I=b,b=!1),b||(Me.createHTMLDocument?((D=(b=ue.implementation.createHTMLDocument("")).createElement("base")).href=ue.location.href,b.head.appendChild(D)):b=ue),F=!I&&[],(R=Ft.exec(m))?[b.createElement(R[1])]:(R=yt([m],b,F),F&&F.length&&O(F).remove(),O.merge([],R.childNodes)));var D,R,F},O.fn.load=function(m,b,I){var D,R,F,V=this,ne=m.indexOf(" ");return ne>-1&&(D=Co(m.slice(ne)),m=m.slice(0,ne)),we(b)?(I=b,b=void 0):b&&"object"==typeof b&&(R="POST"),V.length>0&&O.ajax({url:m,type:R||"GET",dataType:"html",data:b}).done(function(J){F=arguments,V.html(D?O("<div>").append(O.parseHTML(J)).find(D):J)}).always(I&&function(J,_e){V.each(function(){I.apply(this,F||[J.responseText,_e,J])})}),this},O.expr.pseudos.animated=function(m){return O.grep(O.timers,function(b){return m===b.elem}).length},O.offset={setOffset:function(m,b,I){var D,R,F,V,ne,J,Se=O.css(m,"position"),Ye=O(m),ye={};"static"===Se&&(m.style.position="relative"),ne=Ye.offset(),F=O.css(m,"top"),J=O.css(m,"left"),("absolute"===Se||"fixed"===Se)&&(F+J).indexOf("auto")>-1?(V=(D=Ye.position()).top,R=D.left):(V=parseFloat(F)||0,R=parseFloat(J)||0),we(b)&&(b=b.call(m,I,O.extend({},ne))),null!=b.top&&(ye.top=b.top-ne.top+V),null!=b.left&&(ye.left=b.left-ne.left+R),"using"in b?b.using.call(m,ye):Ye.css(ye)}},O.fn.extend({offset:function(m){if(arguments.length)return void 0===m?this:this.each(function(R){O.offset.setOffset(this,m,R)});var b,I,D=this[0];return D?D.getClientRects().length?{top:(b=D.getBoundingClientRect()).top+(I=D.ownerDocument.defaultView).pageYOffset,left:b.left+I.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var m,b,I,D=this[0],R={top:0,left:0};if("fixed"===O.css(D,"position"))b=D.getBoundingClientRect();else{for(b=this.offset(),I=D.ownerDocument,m=D.offsetParent||I.documentElement;m&&(m===I.body||m===I.documentElement)&&"static"===O.css(m,"position");)m=m.parentNode;m&&m!==D&&1===m.nodeType&&((R=O(m).offset()).top+=O.css(m,"borderTopWidth",!0),R.left+=O.css(m,"borderLeftWidth",!0))}return{top:b.top-R.top-O.css(D,"marginTop",!0),left:b.left-R.left-O.css(D,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var m=this.offsetParent;m&&"static"===O.css(m,"position");)m=m.offsetParent;return m||dr})}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(m,b){var I="pageYOffset"===b;O.fn[m]=function(D){return _n(this,function(R,F,V){var ne;if(ke(R)?ne=R:9===R.nodeType&&(ne=R.defaultView),void 0===V)return ne?ne[b]:R[F];ne?ne.scrollTo(I?ne.pageXOffset:V,I?V:ne.pageYOffset):R[F]=V},m,D,arguments.length)}}),O.each(["top","left"],function(m,b){O.cssHooks[b]=rr(Me.pixelPosition,function(I,D){if(D)return D=cn(I,b),gr.test(D)?O(I).position()[b]+"px":D})}),O.each({Height:"height",Width:"width"},function(m,b){O.each({padding:"inner"+m,content:b,"":"outer"+m},function(I,D){O.fn[D]=function(R,F){var V=arguments.length&&(I||"boolean"!=typeof R),ne=I||(!0===R||!0===F?"margin":"border");return _n(this,function(J,_e,Se){var Ye;return ke(J)?0===D.indexOf("outer")?J["inner"+m]:J.document.documentElement["client"+m]:9===J.nodeType?(Ye=J.documentElement,Math.max(J.body["scroll"+m],Ye["scroll"+m],J.body["offset"+m],Ye["offset"+m],Ye["client"+m])):void 0===Se?O.css(J,_e,ne):O.style(J,_e,Se,ne)},b,V?R:void 0,V)}})}),O.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(m,b){O.fn[b]=function(I){return this.on(b,I)}}),O.fn.extend({bind:function(m,b,I){return this.on(m,null,b,I)},unbind:function(m,b){return this.off(m,null,b)},delegate:function(m,b,I,D){return this.on(b,m,I,D)},undelegate:function(m,b,I){return 1===arguments.length?this.off(m,"**"):this.off(b,m||"**",I)},hover:function(m,b){return this.mouseenter(m).mouseleave(b||m)}}),O.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(m,b){O.fn[b]=function(I,D){return arguments.length>0?this.on(b,null,I,D):this.trigger(b)}});var bd=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;O.proxy=function(m,b){var I,D,R;if("string"==typeof b&&(I=m[b],b=m,m=I),we(m))return D=fe.call(arguments,2),(R=function(){return m.apply(b||this,D.concat(fe.call(arguments)))}).guid=m.guid=m.guid||O.guid++,R},O.holdReady=function(m){m?O.readyWait++:O.ready(!0)},O.isArray=Array.isArray,O.parseJSON=JSON.parse,O.nodeName=en,O.isFunction=we,O.isWindow=ke,O.camelCase=Je,O.type=Xe,O.now=Date.now,O.isNumeric=function(m){var b=O.type(m);return("number"===b||"string"===b)&&!isNaN(m-parseFloat(m))},O.trim=function(m){return null==m?"":(m+"").replace(bd,"")},void 0!==(o=function(){return O}.apply(Ke,[]))&&(Tt.exports=o);var Ra=W.jQuery,xu=W.$;return O.noConflict=function(m){return W.$===O&&(W.$=xu),m&&W.jQuery===O&&(W.jQuery=Ra),O},void 0===H&&(W.jQuery=W.$=O),O})},7574:(Tt,Ke,z)=>{"use strict";z.d(Ke,{y:()=>Q});var o=z(7393),H=z(9181),Ee=z(6490),fe=z(6554),Fe=z(4487);var K=z(2494);let Q=(()=>{class De{constructor(Me){this._isScalar=!1,Me&&(this._subscribe=Me)}lift(Me){const we=new De;return we.source=this,we.operator=Me,we}subscribe(Me,we,ke){const{operator:ue}=this,Pe=function(De,Ne,Me){if(De){if(De instanceof o.L)return De;if(De[H.b])return De[H.b]()}return De||Ne||Me?new o.L(De,Ne,Me):new o.L(Ee.c)}(Me,we,ke);if(Pe.add(ue?ue.call(Pe,this.source):this.source||K.v.useDeprecatedSynchronousErrorHandling&&!Pe.syncErrorThrowable?this._subscribe(Pe):this._trySubscribe(Pe)),K.v.useDeprecatedSynchronousErrorHandling&&Pe.syncErrorThrowable&&(Pe.syncErrorThrowable=!1,Pe.syncErrorThrown))throw Pe.syncErrorValue;return Pe}_trySubscribe(Me){try{return this._subscribe(Me)}catch(we){K.v.useDeprecatedSynchronousErrorHandling&&(Me.syncErrorThrown=!0,Me.syncErrorValue=we),function(De){for(;De;){const{closed:Ne,destination:Me,isStopped:we}=De;if(Ne||we)return!1;De=Me&&Me instanceof o.L?Me:null}return!0}(Me)?Me.error(we):console.warn(we)}}forEach(Me,we){return new(we=re(we))((ke,ue)=>{let Pe;Pe=this.subscribe(Ve=>{try{Me(Ve)}catch(Xe){ue(Xe),Pe&&Pe.unsubscribe()}},ue,ke)})}_subscribe(Me){const{source:we}=this;return we&&we.subscribe(Me)}[fe.L](){return this}pipe(...Me){return 0===Me.length?this:function(De){return 0===De.length?Fe.y:1===De.length?De[0]:function(Me){return De.reduce((we,ke)=>ke(we),Me)}}(Me)(this)}toPromise(Me){return new(Me=re(Me))((we,ke)=>{let ue;this.subscribe(Pe=>ue=Pe,Pe=>ke(Pe),()=>we(ue))})}}return De.create=Ne=>new De(Ne),De})();function re(De){if(De||(De=K.v.Promise||Promise),!De)throw new Error("no Promise impl found");return De}},6490:(Tt,Ke,z)=>{"use strict";z.d(Ke,{c:()=>H});var o=z(2494),W=z(4449);const H={closed:!0,next(Ee){},error(Ee){if(o.v.useDeprecatedSynchronousErrorHandling)throw Ee;(0,W.z)(Ee)},complete(){}}},9765:(Tt,Ke,z)=>{"use strict";z.d(Ke,{Yc:()=>Fe,xQ:()=>ge});var o=z(7574),W=z(7393),H=z(5319),Ee=z(7971),Ie=z(8858),fe=z(9181);class Fe extends W.L{constructor(Q){super(Q),this.destination=Q}}let ge=(()=>{class K extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[fe.b](){return new Fe(this)}lift(re){const De=new ve(this,this);return De.operator=re,De}next(re){if(this.closed)throw new Ee.N;if(!this.isStopped){const{observers:De}=this,Ne=De.length,Me=De.slice();for(let we=0;we<Ne;we++)Me[we].next(re)}}error(re){if(this.closed)throw new Ee.N;this.hasError=!0,this.thrownError=re,this.isStopped=!0;const{observers:De}=this,Ne=De.length,Me=De.slice();for(let we=0;we<Ne;we++)Me[we].error(re);this.observers.length=0}complete(){if(this.closed)throw new Ee.N;this.isStopped=!0;const{observers:re}=this,De=re.length,Ne=re.slice();for(let Me=0;Me<De;Me++)Ne[Me].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(re){if(this.closed)throw new Ee.N;return super._trySubscribe(re)}_subscribe(re){if(this.closed)throw new Ee.N;return this.hasError?(re.error(this.thrownError),H.w.EMPTY):this.isStopped?(re.complete(),H.w.EMPTY):(this.observers.push(re),new Ie.W(this,re))}asObservable(){const re=new o.y;return re.source=this,re}}return K.create=(Q,re)=>new ve(Q,re),K})();class ve extends ge{constructor(Q,re){super(),this.destination=Q,this.source=re}next(Q){const{destination:re}=this;re&&re.next&&re.next(Q)}error(Q){const{destination:re}=this;re&&re.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:re}=this;return re?this.source.subscribe(Q):H.w.EMPTY}}},8858:(Tt,Ke,z)=>{"use strict";z.d(Ke,{W:()=>W});var o=z(5319);class W extends o.w{constructor(Ee,Ie){super(),this.subject=Ee,this.subscriber=Ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ee=this.subject,Ie=Ee.observers;if(this.subject=null,!Ie||0===Ie.length||Ee.isStopped||Ee.closed)return;const fe=Ie.indexOf(this.subscriber);-1!==fe&&Ie.splice(fe,1)}}},7393:(Tt,Ke,z)=>{"use strict";z.d(Ke,{L:()=>Fe});var o=z(9105),W=z(6490),H=z(5319),Ee=z(9181),Ie=z(2494),fe=z(4449);class Fe extends H.w{constructor(K,Q,re){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=W.c;break;case 1:if(!K){this.destination=W.c;break}if("object"==typeof K){K instanceof Fe?(this.syncErrorThrowable=K.syncErrorThrowable,this.destination=K,K.add(this)):(this.syncErrorThrowable=!0,this.destination=new ge(this,K));break}default:this.syncErrorThrowable=!0,this.destination=new ge(this,K,Q,re)}}[Ee.b](){return this}static create(K,Q,re){const De=new Fe(K,Q,re);return De.syncErrorThrowable=!1,De}next(K){this.isStopped||this._next(K)}error(K){this.isStopped||(this.isStopped=!0,this._error(K))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(K){this.destination.next(K)}_error(K){this.destination.error(K),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:K}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=K,this}}class ge extends Fe{constructor(K,Q,re,De){super(),this._parentSubscriber=K;let Ne,Me=this;(0,o.m)(Q)?Ne=Q:Q&&(Ne=Q.next,re=Q.error,De=Q.complete,Q!==W.c&&(Me=Object.create(Q),(0,o.m)(Me.unsubscribe)&&this.add(Me.unsubscribe.bind(Me)),Me.unsubscribe=this.unsubscribe.bind(this))),this._context=Me,this._next=Ne,this._error=re,this._complete=De}next(K){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;Ie.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,K)&&this.unsubscribe():this.__tryOrUnsub(this._next,K)}}error(K){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:re}=Ie.v;if(this._error)re&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,K),this.unsubscribe()):(this.__tryOrUnsub(this._error,K),this.unsubscribe());else if(Q.syncErrorThrowable)re?(Q.syncErrorValue=K,Q.syncErrorThrown=!0):(0,fe.z)(K),this.unsubscribe();else{if(this.unsubscribe(),re)throw K;(0,fe.z)(K)}}}complete(){if(!this.isStopped){const{_parentSubscriber:K}=this;if(this._complete){const Q=()=>this._complete.call(this._context);Ie.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?(this.__tryOrSetError(K,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(K,Q){try{K.call(this._context,Q)}catch(re){if(this.unsubscribe(),Ie.v.useDeprecatedSynchronousErrorHandling)throw re;(0,fe.z)(re)}}__tryOrSetError(K,Q,re){if(!Ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,re)}catch(De){return Ie.v.useDeprecatedSynchronousErrorHandling?(K.syncErrorValue=De,K.syncErrorThrown=!0,!0):((0,fe.z)(De),!0)}return!1}_unsubscribe(){const{_parentSubscriber:K}=this;this._context=null,this._parentSubscriber=null,K.unsubscribe()}}},5319:(Tt,Ke,z)=>{"use strict";z.d(Ke,{w:()=>fe});var o=z(9796),W=z(1555),H=z(9105);const Ie=(()=>{function ge(ve){return Error.call(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((K,Q)=>`${Q+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve,this}return ge.prototype=Object.create(Error.prototype),ge})();class fe{constructor(ve){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ve&&(this._ctorUnsubscribe=!0,this._unsubscribe=ve)}unsubscribe(){let ve;if(this.closed)return;let{_parentOrParents:K,_ctorUnsubscribe:Q,_unsubscribe:re,_subscriptions:De}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,K instanceof fe)K.remove(this);else if(null!==K)for(let Ne=0;Ne<K.length;++Ne)K[Ne].remove(this);if((0,H.m)(re)){Q&&(this._unsubscribe=void 0);try{re.call(this)}catch(Ne){ve=Ne instanceof Ie?Fe(Ne.errors):[Ne]}}if((0,o.k)(De)){let Ne=-1,Me=De.length;for(;++Ne<Me;){const we=De[Ne];if((0,W.K)(we))try{we.unsubscribe()}catch(ke){ve=ve||[],ke instanceof Ie?ve=ve.concat(Fe(ke.errors)):ve.push(ke)}}}if(ve)throw new Ie(ve)}add(ve){let K=ve;if(!ve)return fe.EMPTY;switch(typeof ve){case"function":K=new fe(ve);case"object":if(K===this||K.closed||"function"!=typeof K.unsubscribe)return K;if(this.closed)return K.unsubscribe(),K;if(!(K instanceof fe)){const De=K;K=new fe,K._subscriptions=[De]}break;default:throw new Error("unrecognized teardown "+ve+" added to Subscription.")}let{_parentOrParents:Q}=K;if(null===Q)K._parentOrParents=this;else if(Q instanceof fe){if(Q===this)return K;K._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return K;Q.push(this)}const re=this._subscriptions;return null===re?this._subscriptions=[K]:re.push(K),K}remove(ve){const K=this._subscriptions;if(K){const Q=K.indexOf(ve);-1!==Q&&K.splice(Q,1)}}}var ge;function Fe(ge){return ge.reduce((ve,K)=>ve.concat(K instanceof Ie?K.errors:K),[])}fe.EMPTY=((ge=new fe).closed=!0,ge)},2494:(Tt,Ke,z)=>{"use strict";z.d(Ke,{v:()=>W});let o=!1;const W={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const Ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ee.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=H},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(Tt,Ke,z)=>{"use strict";z.d(Ke,{IY:()=>Ee,Ds:()=>fe,ft:()=>ge});var o=z(7393),W=z(7574),H=z(7444);class Ee extends o.L{constructor(K){super(),this.parent=K}_next(K){this.parent.notifyNext(K)}_error(K){this.parent.notifyError(K),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class fe extends o.L{notifyNext(K){this.destination.next(K)}notifyError(K){this.destination.error(K)}notifyComplete(){this.destination.complete()}}function ge(ve,K){if(K.closed)return;if(ve instanceof W.y)return ve.subscribe(K);let Q;try{Q=(0,H.s)(ve)(K)}catch(re){K.error(re)}return Q}},2441:(Tt,Ke,z)=>{"use strict";z.d(Ke,{c:()=>Ie,N:()=>fe});var o=z(9765),W=z(7574),H=z(5319),Ee=z(1307);class Ie extends W.y{constructor(Q,re){super(),this.source=Q,this.subjectFactory=re,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new H.w,Q.add(this.source.subscribe(new Fe(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=H.w.EMPTY)),Q}refCount(){return(0,Ee.x)()(this)}}const fe=(()=>{const K=Ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:K._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}}})();class Fe extends o.Yc{constructor(Q,re){super(Q),this.connectable=re}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const re=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,re&&re.unsubscribe()}}}},9193:(Tt,Ke,z)=>{"use strict";z.d(Ke,{E:()=>W,c:()=>H});var o=z(7574);const W=new o.y(Ie=>Ie.complete());function H(Ie){return Ie?function(Ie){return new o.y(fe=>Ie.schedule(()=>fe.complete()))}(Ie):W}},4402:(Tt,Ke,z)=>{"use strict";z.d(Ke,{D:()=>Me});var o=z(7574),W=z(7444),H=z(5319),Ee=z(6554),Fe=z(4087),ge=z(377),Q=z(4072),re=z(9489);function Me(we,ke){return ke?function(we,ke){if(null!=we){if(function(we){return we&&"function"==typeof we[Ee.L]}(we))return function(we,ke){return new o.y(ue=>{const Pe=new H.w;return Pe.add(ke.schedule(()=>{const Ve=we[Ee.L]();Pe.add(Ve.subscribe({next(Xe){Pe.add(ke.schedule(()=>ue.next(Xe)))},error(Xe){Pe.add(ke.schedule(()=>ue.error(Xe)))},complete(){Pe.add(ke.schedule(()=>ue.complete()))}}))})),Pe})}(we,ke);if((0,Q.t)(we))return function(we,ke){return new o.y(ue=>{const Pe=new H.w;return Pe.add(ke.schedule(()=>we.then(Ve=>{Pe.add(ke.schedule(()=>{ue.next(Ve),Pe.add(ke.schedule(()=>ue.complete()))}))},Ve=>{Pe.add(ke.schedule(()=>ue.error(Ve)))}))),Pe})}(we,ke);if((0,re.z)(we))return(0,Fe.r)(we,ke);if(function(we){return we&&"function"==typeof we[ge.hZ]}(we)||"string"==typeof we)return function(we,ke){if(!we)throw new Error("Iterable cannot be null");return new o.y(ue=>{const Pe=new H.w;let Ve;return Pe.add(()=>{Ve&&"function"==typeof Ve.return&&Ve.return()}),Pe.add(ke.schedule(()=>{Ve=we[ge.hZ](),Pe.add(ke.schedule(function(){if(ue.closed)return;let Xe,Ct;try{const O=Ve.next();Xe=O.value,Ct=O.done}catch(O){return void ue.error(O)}Ct?ue.complete():(ue.next(Xe),this.schedule())}))})),Pe})}(we,ke)}throw new TypeError((null!==we&&typeof we||we)+" is not observable")}(we,ke):we instanceof o.y?we:new o.y((0,W.s)(we))}},6693:(Tt,Ke,z)=>{"use strict";z.d(Ke,{n:()=>Ee});var o=z(7574),W=z(5015),H=z(4087);function Ee(Ie,fe){return fe?(0,H.r)(Ie,fe):new o.y((0,W.V)(Ie))}},6682:(Tt,Ke,z)=>{"use strict";z.d(Ke,{T:()=>Ie});var o=z(7574),W=z(4869),H=z(3282),Ee=z(6693);function Ie(...fe){let Fe=Number.POSITIVE_INFINITY,ge=null,ve=fe[fe.length-1];return(0,W.K)(ve)?(ge=fe.pop(),fe.length>1&&"number"==typeof fe[fe.length-1]&&(Fe=fe.pop())):"number"==typeof ve&&(Fe=fe.pop()),null===ge&&1===fe.length&&fe[0]instanceof o.y?fe[0]:(0,H.J)(Fe)((0,Ee.n)(fe,ge))}},5917:(Tt,Ke,z)=>{"use strict";z.d(Ke,{of:()=>Ee});var o=z(4869),W=z(6693),H=z(4087);function Ee(...Ie){let fe=Ie[Ie.length-1];return(0,o.K)(fe)?(Ie.pop(),(0,H.r)(Ie,fe)):(0,W.n)(Ie)}},8002:(Tt,Ke,z)=>{"use strict";z.d(Ke,{U:()=>W});var o=z(7393);function W(Ie,fe){return function(ge){if("function"!=typeof Ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ge.lift(new H(Ie,fe))}}class H{constructor(fe,Fe){this.project=fe,this.thisArg=Fe}call(fe,Fe){return Fe.subscribe(new Ee(fe,this.project,this.thisArg))}}class Ee extends o.L{constructor(fe,Fe,ge){super(fe),this.project=Fe,this.count=0,this.thisArg=ge||this}_next(fe){let Fe;try{Fe=this.project.call(this.thisArg,fe,this.count++)}catch(ge){return void this.destination.error(ge)}this.destination.next(Fe)}}},3282:(Tt,Ke,z)=>{"use strict";z.d(Ke,{J:()=>H});var o=z(9773),W=z(4487);function H(Ee=Number.POSITIVE_INFINITY){return(0,o.zg)(W.y,Ee)}},9773:(Tt,Ke,z)=>{"use strict";z.d(Ke,{zg:()=>Ee});var o=z(8002),W=z(4402),H=z(5345);function Ee(ge,ve,K=Number.POSITIVE_INFINITY){return"function"==typeof ve?Q=>Q.pipe(Ee((re,De)=>(0,W.D)(ge(re,De)).pipe((0,o.U)((Ne,Me)=>ve(re,Ne,De,Me))),K)):("number"==typeof ve&&(K=ve),Q=>Q.lift(new Ie(ge,K)))}class Ie{constructor(ve,K=Number.POSITIVE_INFINITY){this.project=ve,this.concurrent=K}call(ve,K){return K.subscribe(new fe(ve,this.project,this.concurrent))}}class fe extends H.Ds{constructor(ve,K,Q=Number.POSITIVE_INFINITY){super(ve),this.project=K,this.concurrent=Q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ve){this.active<this.concurrent?this._tryNext(ve):this.buffer.push(ve)}_tryNext(ve){let K;const Q=this.index++;try{K=this.project(ve,Q)}catch(re){return void this.destination.error(re)}this.active++,this._innerSub(K)}_innerSub(ve){const K=new H.IY(this),Q=this.destination;Q.add(K);const re=(0,H.ft)(ve,K);re!==K&&Q.add(re)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ve){this.destination.next(ve)}notifyComplete(){const ve=this.buffer;this.active--,ve.length>0?this._next(ve.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Tt,Ke,z)=>{"use strict";z.d(Ke,{ht:()=>Q,QV:()=>ve});var o=z(7393),W=z(9193),H=z(5917),Ee=z(7574);class ge{constructor(Ne,Me,we){this.kind=Ne,this.value=Me,this.error=we,this.hasValue="N"===Ne}observe(Ne){switch(this.kind){case"N":return Ne.next&&Ne.next(this.value);case"E":return Ne.error&&Ne.error(this.error);case"C":return Ne.complete&&Ne.complete()}}do(Ne,Me,we){switch(this.kind){case"N":return Ne&&Ne(this.value);case"E":return Me&&Me(this.error);case"C":return we&&we()}}accept(Ne,Me,we){return Ne&&"function"==typeof Ne.next?this.observe(Ne):this.do(Ne,Me,we)}toObservable(){switch(this.kind){case"N":return(0,H.of)(this.value);case"E":return De=this.error,new Ee.y(Me=>Me.error(De));case"C":return(0,W.c)()}var De;throw new Error("unexpected notification kind value")}static createNext(Ne){return void 0!==Ne?new ge("N",Ne):ge.undefinedValueNotification}static createError(Ne){return new ge("E",void 0,Ne)}static createComplete(){return ge.completeNotification}}function ve(De,Ne=0){return function(we){return we.lift(new K(De,Ne))}}ge.completeNotification=new ge("C"),ge.undefinedValueNotification=new ge("N",void 0);class K{constructor(Ne,Me=0){this.scheduler=Ne,this.delay=Me}call(Ne,Me){return Me.subscribe(new Q(Ne,this.scheduler,this.delay))}}class Q extends o.L{constructor(Ne,Me,we=0){super(Ne),this.scheduler=Me,this.delay=we}static dispatch(Ne){const{notification:Me,destination:we}=Ne;Me.observe(we),this.unsubscribe()}scheduleMessage(Ne){this.destination.add(this.scheduler.schedule(Q.dispatch,this.delay,new re(Ne,this.destination)))}_next(Ne){this.scheduleMessage(ge.createNext(Ne))}_error(Ne){this.scheduleMessage(ge.createError(Ne)),this.unsubscribe()}_complete(){this.scheduleMessage(ge.createComplete()),this.unsubscribe()}}class re{constructor(Ne,Me){this.notification=Ne,this.destination=Me}}},1307:(Tt,Ke,z)=>{"use strict";z.d(Ke,{x:()=>W});var o=z(7393);function W(){return function(fe){return fe.lift(new H(fe))}}class H{constructor(fe){this.connectable=fe}call(fe,Fe){const{connectable:ge}=this;ge._refCount++;const ve=new Ee(fe,ge),K=Fe.subscribe(ve);return ve.closed||(ve.connection=ge.connect()),K}}class Ee extends o.L{constructor(fe,Fe){super(fe),this.connectable=Fe}_unsubscribe(){const{connectable:fe}=this;if(!fe)return void(this.connection=null);this.connectable=null;const Fe=fe._refCount;if(Fe<=0)return void(this.connection=null);if(fe._refCount=Fe-1,Fe>1)return void(this.connection=null);const{connection:ge}=this,ve=fe._connection;this.connection=null,ve&&(!ge||ve===ge)&&ve.unsubscribe()}}},8819:(Tt,Ke,z)=>{"use strict";z.d(Ke,{B:()=>Fe});var o=z(2441);var Ee=z(1307),Ie=z(9765);function fe(){return new Ie.xQ}function Fe(){return ge=>(0,Ee.x)()(function(ge,ve){return function(Q){let re;re="function"==typeof ge?ge:function(){return ge};const De=Object.create(Q,o.N);return De.source=Q,De.subjectFactory=re,De}}(fe)(ge))}},3101:(Tt,Ke,z)=>{"use strict";z.d(Ke,{R:()=>ke});var o=z(7574);let W=1;const H=Promise.resolve(),Ee={};function Ie(Pe){return Pe in Ee&&(delete Ee[Pe],!0)}const fe={setImmediate(Pe){const Ve=W++;return Ee[Ve]=!0,H.then(()=>Ie(Ve)&&Pe()),Ve},clearImmediate(Pe){Ie(Pe)}};var ge=z(6465),K=z(6102);const De=new class extends K.v{flush(Ve){this.active=!0,this.scheduled=void 0;const{actions:Xe}=this;let Ct,O=-1,yn=Xe.length;Ve=Ve||Xe.shift();do{if(Ct=Ve.execute(Ve.state,Ve.delay))break}while(++O<yn&&(Ve=Xe.shift()));if(this.active=!1,Ct){for(;++O<yn&&(Ve=Xe.shift());)Ve.unsubscribe();throw Ct}}}(class extends ge.o{constructor(Ve,Xe){super(Ve,Xe),this.scheduler=Ve,this.work=Xe}requestAsyncId(Ve,Xe,Ct=0){return null!==Ct&&Ct>0?super.requestAsyncId(Ve,Xe,Ct):(Ve.actions.push(this),Ve.scheduled||(Ve.scheduled=fe.setImmediate(Ve.flush.bind(Ve,null))))}recycleAsyncId(Ve,Xe,Ct=0){if(null!==Ct&&Ct>0||null===Ct&&this.delay>0)return super.recycleAsyncId(Ve,Xe,Ct);0===Ve.actions.length&&(fe.clearImmediate(Xe),Ve.scheduled=void 0)}});var Ne=z(9796);class we extends o.y{constructor(Ve,Xe=0,Ct=De){var Pe;super(),this.source=Ve,this.delayTime=Xe,this.scheduler=Ct,(!(!(0,Ne.k)(Pe=Xe)&&Pe-parseFloat(Pe)+1>=0)||Xe<0)&&(this.delayTime=0),(!Ct||"function"!=typeof Ct.schedule)&&(this.scheduler=De)}static create(Ve,Xe=0,Ct=De){return new we(Ve,Xe,Ct)}static dispatch(Ve){const{source:Xe,subscriber:Ct}=Ve;return this.add(Xe.subscribe(Ct))}_subscribe(Ve){return this.scheduler.schedule(we.dispatch,this.delayTime,{source:this.source,subscriber:Ve})}}function ke(Pe,Ve=0){return function(Ct){return Ct.lift(new ue(Pe,Ve))}}class ue{constructor(Ve,Xe){this.scheduler=Ve,this.delay=Xe}call(Ve,Xe){return new we(Xe,this.delay,this.scheduler).subscribe(Ve)}}},3342:(Tt,Ke,z)=>{"use strict";z.d(Ke,{b:()=>Ee});var o=z(7393);function W(){}var H=z(9105);function Ee(Fe,ge,ve){return function(Q){return Q.lift(new Ie(Fe,ge,ve))}}class Ie{constructor(ge,ve,K){this.nextOrObserver=ge,this.error=ve,this.complete=K}call(ge,ve){return ve.subscribe(new fe(ge,this.nextOrObserver,this.error,this.complete))}}class fe extends o.L{constructor(ge,ve,K,Q){super(ge),this._tapNext=W,this._tapError=W,this._tapComplete=W,this._tapError=K||W,this._tapComplete=Q||W,(0,H.m)(ve)?(this._context=this,this._tapNext=ve):ve&&(this._context=ve,this._tapNext=ve.next||W,this._tapError=ve.error||W,this._tapComplete=ve.complete||W)}_next(ge){try{this._tapNext.call(this._context,ge)}catch(ve){return void this.destination.error(ve)}this.destination.next(ge)}_error(ge){try{this._tapError.call(this._context,ge)}catch(ve){return void this.destination.error(ve)}this.destination.error(ge)}_complete(){try{this._tapComplete.call(this._context)}catch(ge){return void this.destination.error(ge)}return this.destination.complete()}}},4087:(Tt,Ke,z)=>{"use strict";z.d(Ke,{r:()=>H});var o=z(7574),W=z(5319);function H(Ee,Ie){return new o.y(fe=>{const Fe=new W.w;let ge=0;return Fe.add(Ie.schedule(function(){ge!==Ee.length?(fe.next(Ee[ge++]),fe.closed||Fe.add(this.schedule())):fe.complete()})),Fe})}},6465:(Tt,Ke,z)=>{"use strict";z.d(Ke,{o:()=>H});var o=z(5319);class W extends o.w{constructor(Ie,fe){super()}schedule(Ie,fe=0){return this}}class H extends W{constructor(Ie,fe){super(Ie,fe),this.scheduler=Ie,this.work=fe,this.pending=!1}schedule(Ie,fe=0){if(this.closed)return this;this.state=Ie;const Fe=this.id,ge=this.scheduler;return null!=Fe&&(this.id=this.recycleAsyncId(ge,Fe,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(ge,this.id,fe),this}requestAsyncId(Ie,fe,Fe=0){return setInterval(Ie.flush.bind(Ie,this),Fe)}recycleAsyncId(Ie,fe,Fe=0){if(null!==Fe&&this.delay===Fe&&!1===this.pending)return fe;clearInterval(fe)}execute(Ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(Ie,fe);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,fe){let ge,Fe=!1;try{this.work(Ie)}catch(ve){Fe=!0,ge=!!ve&&ve||new Error(ve)}if(Fe)return this.unsubscribe(),ge}_unsubscribe(){const Ie=this.id,fe=this.scheduler,Fe=fe.actions,ge=Fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ge&&Fe.splice(ge,1),null!=Ie&&(this.id=this.recycleAsyncId(fe,Ie,null)),this.delay=null}}},6102:(Tt,Ke,z)=>{"use strict";z.d(Ke,{v:()=>W});let o=(()=>{class H{constructor(Ie,fe=H.now){this.SchedulerAction=Ie,this.now=fe}schedule(Ie,fe=0,Fe){return new this.SchedulerAction(this,Ie).schedule(Fe,fe)}}return H.now=()=>Date.now(),H})();class W extends o{constructor(Ee,Ie=o.now){super(Ee,()=>W.delegate&&W.delegate!==this?W.delegate.now():Ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ee,Ie=0,fe){return W.delegate&&W.delegate!==this?W.delegate.schedule(Ee,Ie,fe):super.schedule(Ee,Ie,fe)}flush(Ee){const{actions:Ie}=this;if(this.active)return void Ie.push(Ee);let fe;this.active=!0;do{if(fe=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Ie.shift());if(this.active=!1,fe){for(;Ee=Ie.shift();)Ee.unsubscribe();throw fe}}}},3637:(Tt,Ke,z)=>{"use strict";z.d(Ke,{z:()=>H});var o=z(6465);const H=new(z(6102).v)(o.o)},7771:(Tt,Ke,z)=>{"use strict";z.d(Ke,{c:()=>fe,N:()=>Ie});var o=z(6465),H=z(6102);const Ie=new class extends H.v{}(class extends o.o{constructor(ge,ve){super(ge,ve),this.scheduler=ge,this.work=ve}schedule(ge,ve=0){return ve>0?super.schedule(ge,ve):(this.delay=ve,this.state=ge,this.scheduler.flush(this),this)}execute(ge,ve){return ve>0||this.closed?super.execute(ge,ve):this._execute(ge,ve)}requestAsyncId(ge,ve,K=0){return null!==K&&K>0||null===K&&this.delay>0?super.requestAsyncId(ge,ve,K):ge.flush(this)}}),fe=Ie},377:(Tt,Ke,z)=>{"use strict";z.d(Ke,{hZ:()=>W});const W="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Tt,Ke,z)=>{"use strict";z.d(Ke,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Tt,Ke,z)=>{"use strict";z.d(Ke,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Tt,Ke,z)=>{"use strict";z.d(Ke,{N:()=>W});const W=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},4449:(Tt,Ke,z)=>{"use strict";function o(W){setTimeout(()=>{throw W},0)}z.d(Ke,{z:()=>o})},4487:(Tt,Ke,z)=>{"use strict";function o(W){return W}z.d(Ke,{y:()=>o})},9796:(Tt,Ke,z)=>{"use strict";z.d(Ke,{k:()=>o});const o=Array.isArray||(W=>W&&"number"==typeof W.length)},9489:(Tt,Ke,z)=>{"use strict";z.d(Ke,{z:()=>o});const o=W=>W&&"number"==typeof W.length&&"function"!=typeof W},9105:(Tt,Ke,z)=>{"use strict";function o(W){return"function"==typeof W}z.d(Ke,{m:()=>o})},1555:(Tt,Ke,z)=>{"use strict";function o(W){return null!==W&&"object"==typeof W}z.d(Ke,{K:()=>o})},4072:(Tt,Ke,z)=>{"use strict";function o(W){return!!W&&"function"!=typeof W.subscribe&&"function"==typeof W.then}z.d(Ke,{t:()=>o})},4869:(Tt,Ke,z)=>{"use strict";function o(W){return W&&"function"==typeof W.schedule}z.d(Ke,{K:()=>o})},7444:(Tt,Ke,z)=>{"use strict";z.d(Ke,{s:()=>Q});var o=z(5015),W=z(4449),Ee=z(377),fe=z(6554),ge=z(9489),ve=z(4072),K=z(1555);const Q=re=>{if(re&&"function"==typeof re[fe.L])return(re=>De=>{const Ne=re[fe.L]();if("function"!=typeof Ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ne.subscribe(De)})(re);if((0,ge.z)(re))return(0,o.V)(re);if((0,ve.t)(re))return(re=>De=>(re.then(Ne=>{De.closed||(De.next(Ne),De.complete())},Ne=>De.error(Ne)).then(null,W.z),De))(re);if(re&&"function"==typeof re[Ee.hZ])return(re=>De=>{const Ne=re[Ee.hZ]();for(;;){let Me;try{Me=Ne.next()}catch(we){return De.error(we),De}if(Me.done){De.complete();break}if(De.next(Me.value),De.closed)break}return"function"==typeof Ne.return&&De.add(()=>{Ne.return&&Ne.return()}),De})(re);{const Ne=`You provided ${(0,K.K)(re)?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ne)}}},5015:(Tt,Ke,z)=>{"use strict";z.d(Ke,{V:()=>o});const o=W=>H=>{for(let Ee=0,Ie=W.length;Ee<Ie&&!H.closed;Ee++)H.next(W[Ee]);H.complete()}},7290:(Tt,Ke,z)=>{"use strict";var o=z(7716);let W=null;function H(){return W}const Fe=new o.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:ve,token:n,providedIn:"platform"}),n})();function ve(){return(0,o.LFG)(Q)}const K=new o.OlP("Location Initialized");let Q=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){re()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){re()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Fe))},n.\u0275prov=(0,o.Yz7)({factory:De,token:n,providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function De(){return new Q((0,o.LFG)(Fe))}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function we(n){return n&&"?"!==n[0]?"?"+n:n}let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:ue,token:n,providedIn:"root"}),n})();function ue(n){const e=(0,o.LFG)(Fe).location;return new Ve((0,o.LFG)(ge),e&&e.origin||"")}const Pe=new o.OlP("appBaseHref");let Ve=(()=>{class n extends ke{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+we(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,c){const h=this.prepareExternalUrl(a+we(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,c){const h=this.prepareExternalUrl(a+we(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ge),o.LFG(Pe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n extends ke{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,c){let h=this.prepareExternalUrl(a+we(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,c){let h=this.prepareExternalUrl(a+we(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ge),o.LFG(Pe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ct=(()=>{class n{constructor(t,r){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Me(qt(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+we(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+we(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+we(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ke),o.LFG(ge))},n.normalizeQueryParams=we,n.joinWithSlash=Ne,n.stripTrailingSlash=Me,n.\u0275prov=(0,o.Yz7)({factory:O,token:n,providedIn:"root"}),n})();function O(){return new Ct((0,o.LFG)(ke),(0,o.LFG)(ge))}function qt(n){return n.replace(/\/index.html$/,"")}var Qt=(()=>((Qt=Qt||{})[Qt.Zero=0]="Zero",Qt[Qt.One=1]="One",Qt[Qt.Two=2]="Two",Qt[Qt.Few=3]="Few",Qt[Qt.Many=4]="Many",Qt[Qt.Other=5]="Other",Qt))();const Je=o.kL8;class Ni{}let Hr=(()=>{class n extends Ni{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Je(r||this.locale)(t)){case Qt.Zero:return"zero";case Qt.One:return"one";case Qt.Two:return"two";case Qt.Few:return"few";case Qt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function sr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}let Gi=(()=>{class n{constructor(t,r,a,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class us{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mn=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,c,h)=>{if(null==a.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new us(null,this._ngForOf,-1,-1),null===h?void 0:h),v=new oa(a,p);r.push(v)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const p=this._viewContainer.get(c);this._viewContainer.move(p,h);const v=new oa(a,p);r.push(v)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,c=this._viewContainer.length;a<c;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=c,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class oa{constructor(e,t){this.record=e,this.view=t}}let zi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new kl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class kl{constructor(){this.$implicit=null,this.ngIf=null}}function aa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}let Ms=(()=>{class n{constructor(t,r,a){this._ngEl=t,this._differs=r,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[a,c]=t.split(".");null!=(r=null!=r&&c?`${r}${c}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,a,r):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Ni,useClass:Hr}]}),n})();function Ra(n){return"server"===n}let I=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new D((0,o.LFG)(Fe),window)}),n})();class D{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const h=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=R(this.window.history)||R(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function R(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ne{}class _e extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new _e,W||(W=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null);return null==t?null:function(n){ye=ye||document.createElement("a"),ye.setAttribute("href",n);const e=ye.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sr(document.cookie,e)}}let ye,Se=null;const Ot=new o.OlP("TRANSITION_ID"),_t=[{provide:o.ip1,useFactory:function(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const r=H(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[Ot,Fe,o.zs3],multi:!0}];class un{static init(){(0,o.VLi)(new un)}addToWindow(e){o.dqk.getAngularTestability=(r,a=!0)=>{const c=e.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const a=o.dqk.getAllAngularTestabilities();let c=a.length,h=!1;const p=function(v){h=h||v,c--,0==c&&r(h)};a.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ns=new o.OlP("EventManagerPlugins");let Ge=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const h=a[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ns),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class hn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=H().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let Pn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Fn=(()=>{class n extends Pn{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,a.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(La),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(La))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function La(n){H().remove(n)}const Ki={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Li=/%COMP%/g;function Pr(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?Pr(n,a,t):(a=a.replace(Li,n),t.push(a))}return t}function Fi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let to=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Fr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Yi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case o.ifc.ShadowDom:return new jl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=Pr(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ge),o.LFG(Fn),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Fr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ki[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const c=Ki[a];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=Ki[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,a&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fi(r)):this.eventManager.addEventListener(e,t,Fi(r))}}class Yi extends Fr{constructor(e,t,r,a){super(e),this.component=r;const c=Pr(a+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Li,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Li,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class jl extends Fr{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Pr(a.id,a.styles,[]);for(let h=0;h<c.length;h++){const p=document.createElement("style");p.textContent=c[h],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let $o=(()=>{class n extends hn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ha=["alt","control","meta","shift"],Rs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fa=(()=>{class n extends hn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let h="";if(ha.forEach(v=>{const A=r.indexOf(v);A>-1&&(r.splice(A,1),h+=v+".")}),h+=c,0!=r.length||0===c.length)return null;const p={};return p.domEventName=a,p.fullKey=h,p}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Qr.hasOwnProperty(e)&&(e=Qr[e]))}return Rs[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ha.forEach(c=>{c!=a&&Zc[c](t)&&(r+=c+".")}),r+=a,r}static eventCallback(t,r,a){return c=>{n.getEventFullKey(c)===t&&a.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Mt=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){_e.makeCurrent(),un.init()},multi:!0},{provide:Fe,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),kt=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Ns,useClass:$o,multi:!0,deps:[Fe,o.R0b,o.Lbi]},{provide:Ns,useClass:fa,multi:!0,deps:[Fe]},[],{provide:to,useClass:to,deps:[Ge,Fn,o.AFp]},{provide:o.FYo,useExisting:to},{provide:Pn,useExisting:Fn},{provide:Fn,useClass:Fn,deps:[Fe]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Ge,useClass:Ge,deps:[Ns,o.R0b]},{provide:ne,useClass:xr,deps:[]},[]];let jt=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:Ot,useExisting:o.AFp},_t]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:kt,imports:[ll,o.hGG]}),n})();"undefined"!=typeof window&&window;class fr{constructor(e,t){this.id=e,this.name=t}}let Qi=(()=>{class n{constructor(){this.DoctorCategory=[{id:1,name:"Allergy and Immunology (Sensitivity and Immunity)"},{id:2,name:"Andrology and Male Infertility"},{id:3,name:"Audiology"},{id:4,name:"Cardiology and Thorcic Surgery (Heart / Chest)"},{id:5,name:"Cardiology and Vascular Disease (Heart)"},{id:6,name:"Chest and Respiratory"},{id:7,name:"Dentistry (Teeth)"},{id:8,name:"Dermatology (Skin)"},{id:9,name:"Diabetes and Endocrinology"},{id:10,name:"Diagnostic Radiology"},{id:11,name:"Dietician and Nutrition"},{id:12,name:"Ear, Nose and Throat"},{id:13,name:"Family medicine"},{id:14,name:"Gastroenterology and Endoscopy"},{id:15,name:"General Pracitce"},{id:16,name:"General Surgery"},{id:17,name:"Geriatrics (Old People Health)"},{id:18,name:"Gynaecology and Infertility"},{id:19,name:"Hematology"},{id:20,name:"Hepatology (Liver Doctor)"}]}AllDoctorCategory(){return[...this.DoctorCategory]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xe{constructor(e,t,r){this.id=e,this.cityId=t,this.name=r}}let Ad=(()=>{class n{getCities(){return[new fr(1,"Alexandria"),new fr(2,"Cairo"),new fr(3,"Assuit"),new fr(4,"BeniSuef"),new fr(5,"Damietta"),new fr(6,"ElBeheira"),new fr(7,"ElDakahlia"),new fr(8,"ElIsmailia"),new fr(9,"Minia"),new fr(10,"ElSharqia"),new fr(11,"Fayoum"),new fr(12,"Gharbia"),new fr(13,"Giza"),new fr(14,"Hurghada"),new fr(15,"PortSaid"),new fr(16,"North Coast"),new fr(24,"Menofia"),new fr(17,"Matrouh"),new fr(18,"Luxor"),new fr(19,"Kafr ElSheikh"),new fr(20,"Sharm ElSheikh"),new fr(21,"Suze"),new fr(22,"Sohag"),new fr(23,"Qena")]}getAreas(){return[new xe(1,1,"Borg El-Arab"),new xe(2,1,"Semoha"),new xe(3,1,"Elramel Station"),new xe(4,1,"El-Betash"),new xe(5,1,"Sedy Gaber"),new xe(6,1,"Sedy Beshr"),new xe(7,2,"Naser City"),new xe(8,2,"6-october"),new xe(9,2,"New Cairo"),new xe(10,2,"El Shrouk"),new xe(11,2,"El nozha"),new xe(12,2,"Madinaty"),new xe(13,2,"El- Rehab"),new xe(14,2,"El-Mostabal"),new xe(15,3,"Dayrot"),new xe(16,3,"Qusiya"),new xe(17,3,"MAnfalot"),new xe(18,3,"Abnob"),new xe(19,3,"El Badary"),new xe(20,3,"Sahel Slem"),new xe(21,4,"Naser"),new xe(22,4,"Ehnasya"),new xe(23,4,"Smesta"),new xe(24,4,"Beni Suef"),new xe(25,4,"Bba"),new xe(26,4,"El wasta"),new xe(27,4,"El fashn"),new xe(28,5,"Kafer said"),new xe(29,5,"Farscore"),new xe(30,5,"Kafer El batekh"),new xe(31,5,"El tharka"),new xe(32,5,"Damietta"),new xe(33,6,"Damnhor"),new xe(34,6,"Kafer EL dawar"),new xe(35,6,"Rashed city"),new xe(36,6,"Edco"),new xe(37,6,"Abo EL matamer"),new xe(38,6,"Abo Homous"),new xe(39,6,"Wady El natroon"),new xe(40,6,"Shobrkhet"),new xe(41,7,"metghmer"),new xe(42,7,"Agia"),new xe(43,7,"Bany abeed"),new xe(44,7,"El Manzala"),new xe(45,7,"Dakornous"),new xe(46,7,"El Gamalya"),new xe(47,8,"Fayed City"),new xe(48,8,"Cairo"),new xe(49,8,"El Cantra shark"),new xe(50,8,"El Cantra gharb"),new xe(51,8,"Abo El saraser"),new xe(52,8,"El Tael el kbber"),new xe(53,8,"El kasaseen"),new xe(54,9,"Maghagha"),new xe(55,9,"Bany Mazar"),new xe(56,9,"Malwy"),new xe(57,9,"Samalot"),new xe(58,9,"Dear mwas"),new xe(59,9,"El Adwa"),new xe(60,9,"El fkrya"),new xe(61,10,"Zakazek"),new xe(62,10,"Belbes"),new xe(63,10,"Hehaa"),new xe(64,10,"Abo hmad"),new xe(65,10,"Fakous"),new xe(67,10,"Abo Kbeer"),new xe(68,10,"El hosainya"),new xe(69,10,"Saker"),new xe(70,11,"Tamya"),new xe(71,11,"Snores"),new xe(72,11,"Etsaa"),new xe(73,11,"Abshway"),new xe(74,11,"Yousef el sedyak"),new xe(75,12,"Tanta"),new xe(76,12,"Zefta"),new xe(77,12,"El Mahala el kobra"),new xe(78,12,"Kator"),new xe(79,12,"Samanode"),new xe(80,12,"Basyon"),new xe(81,12,"El Zayat"),new xe(82,12,"El santa"),new xe(83,13,"Badrashin City"),new xe(84,13,"El-Saf City"),new xe(85,13,"Atfeih"),new xe(86,13,"El-ayat"),new xe(87,13,"Osem"),new xe(88,13,"Kerdasa"),new xe(89,14,"Sowma bay"),new xe(90,14,"Makady bay"),new xe(91,14,"El fander"),new xe(92,15,"Abo Ramad"),new xe(93,15,"Karlos"),new xe(94,15,"Magawesh"),new xe(95,15,"por fouad"),new xe(96,15,"EL shrouk"),new xe(97,15,"El mankh"),new xe(98,15,"El dawhy"),new xe(99,15,"EL Arab"),new xe(100,15,"El zhoure"),new xe(101,16,"Marina"),new xe(102,16,"Kelo Batra"),new xe(103,16,"Ageba"),new xe(104,24,"El-sadat"),new xe(105,24,"shben El-kom"),new xe(106,24,"Mnof"),new xe(107,24,"Ashmon"),new xe(108,24,"Tala"),new xe(109,24,"El shohdaa"),new xe(110,17,"Gowsna"),new xe(111,17,"El Bagor"),new xe(112,17,"Seewaa"),new xe(113,17,"El Saloom"),new xe(114,17,"Cedy Brany"),new xe(115,17,"El Nagela"),new xe(116,17,"El Dabaa"),new xe(117,17,"El Alamen"),new xe(118,17,"El Hmam"),new xe(119,18,"Armant"),new xe(120,18,"Asna"),new xe(121,18,"El-Karnak"),new xe(122,18,"El bayadya"),new xe(123,18,"El tod"),new xe(124,18,"El zenya"),new xe(125,19,"Desook"),new xe(126,19,"Baltem"),new xe(127,19,"Bela"),new xe(128,19,"El Reyaid"),new xe(129,19,"Klean"),new xe(130,19,"El hamol"),new xe(131,20,"Taba"),new xe(132,20,"Dahab"),new xe(133,20,"Ras seder"),new xe(134,20,"Nweba"),new xe(135,20,"Sant Katreen"),new xe(136,21,"Abo rades"),new xe(137,21,"Abo Zanyma"),new xe(138,21,"Ataka"),new xe(139,21,"El Arbaen"),new xe(140,21,"El Ganayen"),new xe(141,22,"Akhmem"),new xe(142,22,"El balyana"),new xe(143,22,"El-Mragha"),new xe(144,22,"Gerga"),new xe(145,22,"Tema"),new xe(146,22,"El Monshaa"),new xe(147,22,"Saklta"),new xe(148,22,"Tahta"),new xe(149,23,"Abo tesht"),new xe(150,23,"Naga Hamady"),new xe(151,23,"Deshna"),new xe(152,23,"Elrfaf"),new xe(153,23,"Nkada"),new xe(154,23,"Kos"),new xe(155,23,"El waf")]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Et=z(5917),Ji=z(7574);function Eo(n){return!!n&&(n instanceof Ji.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}var qa=z(9796),Ut=z(8002),Mu=z(1555),Dr=z(4402);function Sr(...n){if(1===n.length){const e=n[0];if((0,qa.k)(e))return Pu(e,null);if((0,Mu.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Pu(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Pu(n=1===n.length&&(0,qa.k)(n[0])?n[0]:n,null).pipe((0,Ut.U)(t=>e(...t)))}return Pu(n,null)}function Pu(n,e){return new Ji.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let c=0,h=0;for(let p=0;p<r;p++){const v=(0,Dr.D)(n[p]);let A=!1;t.add(v.subscribe({next:M=>{A||(A=!0,h++),a[p]=M},error:M=>t.error(M),complete:()=>{c++,(c===r||!A)&&(h===r&&t.next(e?e.reduce((M,N,B)=>(M[N]=a[B],M),{}):a),t.complete())}}))}})}var ma=z(3282);function ds(...n){return(0,ma.J)(1)((0,Et.of)(...n))}var _a=z(9193);function ja(n){return new Ji.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,Dr.D)(t):(0,_a.c)()).subscribe(e)})}var Xi=z(7393);const Wo=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function es(n){return e=>0===n?(0,_a.c)():e.lift(new Ba(n))}class Ba{constructor(e){if(this.total=e,this.total<0)throw new Wo}call(e,t){return t.subscribe(new zl(e,this.total))}}class zl extends Xi.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}var hs=z(9765),Nu=z(7771),qp=z(5319),Wl=z(309),e_=z(7971),Zh=z(8858);class kr extends hs.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new qh(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=r.length;let h;if(this.closed)throw new e_.N;if(this.isStopped||this.hasError?h=qp.w.EMPTY:(this.observers.push(e),h=new Zh.W(this,e)),a&&e.add(e=new Wl.ht(e,a)),t)for(let p=0;p<c&&!e.closed;p++)e.next(r[p]);else for(let p=0;p<c&&!e.closed;p++)e.next(r[p].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||Nu.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,c=a.length;let h=0;for(;h<c&&!(e-a[h].time<r);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&a.splice(0,h),a}}class qh{constructor(e,t){this.time=e,this.value=t}}function Kl(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,h,c=0,p=!1,v=!1;return function(M){let N;c++,!a||p?(p=!1,a=new kr(n,e,r),N=a.subscribe(this),h=M.subscribe({next(B){a.next(B)},error(B){p=!0,a.error(B)},complete(){v=!0,h=void 0,a.complete()}}),v&&(h=void 0)):N=a.subscribe(this),this.add(()=>{c--,N.unsubscribe(),N=void 0,h&&!v&&t&&0===c&&(h.unsubscribe(),h=void 0,a=void 0)})}}(r))}var ts=z(9773);function Yl(n,e){return(0,ts.zg)(n,e,1)}var jc=z(5345);function _i(n,e){return"function"==typeof e?t=>t.pipe(_i((r,a)=>(0,Dr.D)(n(r,a)).pipe((0,Ut.U)((c,h)=>e(r,c,a,h))))):t=>t.lift(new jh(n))}class jh{constructor(e){this.project=e}call(e,t){return t.subscribe(new t_(e,this.project))}}class t_ extends jc.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new jc.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,jc.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}class Ql{}let ku=(()=>{class n extends Ql{getTranslation(t){return(0,Et.of)({})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ha{}let Id=(()=>{class n{handle(t){return t.key}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Cr(n,e){if(n===e)return!0;if(null===n||null===e)return!1;if(n!=n&&e!=e)return!0;let a,c,h,t=typeof n;if(t==typeof e&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(e))return!1;for(c in h=Object.create(null),n){if(!Cr(n[c],e[c]))return!1;h[c]=!0}for(c in e)if(!(c in h)&&void 0!==e[c])return!1;return!0}if(!Array.isArray(e))return!1;if((a=n.length)==e.length){for(c=0;c<a;c++)if(!Cr(n[c],e[c]))return!1;return!0}}return!1}function Ls(n){return null!=n}function $a(n){return n&&"object"==typeof n&&!Array.isArray(n)}function n_(n,e){let t=Object.assign({},n);return $a(n)&&$a(e)&&Object.keys(e).forEach(r=>{$a(e[r])?r in n?t[r]=n_(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}class Bc{}let no=(()=>{class n extends Bc{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,r){let a;return a="string"==typeof t?this.interpolateString(t,r):"function"==typeof t?this.interpolateFunction(t,r):t,a}getValue(t,r){let a="string"==typeof r?r.split("."):[r];r="";do{r+=a.shift(),!Ls(t)||!Ls(t[r])||"object"!=typeof t[r]&&a.length?a.length?r+=".":t=void 0:(t=t[r],r="")}while(a.length);return t}interpolateFunction(t,r){return t(r)}interpolateString(t,r){return r?t.replace(this.templateMatcher,(a,c)=>{let h=this.getValue(r,c);return Ls(h)?h:a}):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Fs{}let Hc=(()=>{class n extends Fs{compile(t,r){return t}compileTranslations(t,r){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Vs{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new o.vpe,this.onLangChange=new o.vpe,this.onDefaultLangChange=new o.vpe}}const To=new o.OlP("USE_STORE"),$c=new o.OlP("USE_DEFAULT_LANG"),Dd=new o.OlP("DEFAULT_LANGUAGE"),ya=new o.OlP("USE_EXTEND");let va=(()=>{class n{constructor(t,r,a,c,h,p=!0,v=!1,A=!1,M){this.store=t,this.currentLoader=r,this.compiler=a,this.parser=c,this.missingTranslationHandler=h,this.useDefaultLang=p,this.isolate=v,this.extend=A,this.pending=!1,this._onTranslationChange=new o.vpe,this._onLangChange=new o.vpe,this._onDefaultLangChange=new o.vpe,this._langs=[],this._translations={},this._translationRequests={},M&&this.setDefaultLang(M)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let r=this.retrieveTranslations(t);void 0!==r?(null==this.defaultLang&&(this.defaultLang=t),r.pipe(es(1)).subscribe(a=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,Et.of)(this.translations[t]);let r=this.retrieveTranslations(t);return void 0!==r?(this.currentLang||(this.currentLang=t),r.pipe(es(1)).subscribe(a=>{this.changeLang(t)}),r):(this.changeLang(t),(0,Et.of)(this.translations[t]))}retrieveTranslations(t){let r;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),r=this._translationRequests[t]),r}getTranslation(t){this.pending=!0;const r=this.currentLoader.getTranslation(t).pipe(Kl(1),es(1));return this.loadingTranslations=r.pipe((0,Ut.U)(a=>this.compiler.compileTranslations(a,t)),Kl(1),es(1)),this.loadingTranslations.subscribe({next:a=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},a),this.translations[t]):a,this.updateLangs(),this.pending=!1},error:a=>{this.pending=!1}}),r}setTranslation(t,r,a=!1){r=this.compiler.compileTranslations(r,t),this.translations[t]=(a||this.extend)&&this.translations[t]?n_(this.translations[t],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,r,a){let c;if(r instanceof Array){let h={},p=!1;for(let v of r)h[v]=this.getParsedResult(t,v,a),Eo(h[v])&&(p=!0);return p?Sr(r.map(A=>Eo(h[A])?h[A]:(0,Et.of)(h[A]))).pipe((0,Ut.U)(A=>{let M={};return A.forEach((N,B)=>{M[r[B]]=N}),M})):h}if(t&&(c=this.parser.interpolate(this.parser.getValue(t,r),a)),void 0===c&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(c=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),a)),void 0===c){let h={key:r,translateService:this};void 0!==a&&(h.interpolateParams=a),c=this.missingTranslationHandler.handle(h)}return void 0!==c?c:r}get(t,r){if(!Ls(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Yl(a=>Eo(a=this.getParsedResult(a,t,r))?a:(0,Et.of)(a)));{let a=this.getParsedResult(this.translations[this.currentLang],t,r);return Eo(a)?a:(0,Et.of)(a)}}getStreamOnTranslationChange(t,r){if(!Ls(t)||!t.length)throw new Error('Parameter "key" required');return ds(ja(()=>this.get(t,r)),this.onTranslationChange.pipe(_i(a=>{const c=this.getParsedResult(a.translations,t,r);return"function"==typeof c.subscribe?c:(0,Et.of)(c)})))}stream(t,r){if(!Ls(t)||!t.length)throw new Error('Parameter "key" required');return ds(ja(()=>this.get(t,r)),this.onLangChange.pipe(_i(a=>{const c=this.getParsedResult(a.translations,t,r);return Eo(c)?c:(0,Et.of)(c)})))}instant(t,r){if(!Ls(t)||!t.length)throw new Error('Parameter "key" required');let a=this.getParsedResult(this.translations[this.currentLang],t,r);if(Eo(a)){if(t instanceof Array){let c={};return t.forEach((h,p)=>{c[t[p]]=t[p]}),c}return t}return a}set(t,r,a=this.currentLang){this.translations[a][t]=this.compiler.compile(r,a),this.updateLangs(),this.onTranslationChange.emit({lang:a,translations:this.translations[a]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Vs),o.LFG(Ql),o.LFG(Fs),o.LFG(Bc),o.LFG(Ha),o.LFG($c),o.LFG(To),o.LFG(ya),o.LFG(Dd))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ns=(()=>{class n{constructor(t,r){this.translate=t,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,r,a){let c=h=>{this.value=void 0!==h?h:t,this.lastKey=t,this._ref.markForCheck()};if(a){let h=this.translate.getParsedResult(a,t,r);Eo(h.subscribe)?h.subscribe(c):c(h)}this.translate.get(t,r).subscribe(c)}transform(t,...r){if(!t||!t.length)return t;if(Cr(t,this.lastKey)&&Cr(r,this.lastParams))return this.value;let a;if(Ls(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let c=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{a=JSON.parse(c)}catch(h){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(a=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,a),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(c=>{this.lastKey&&c.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,a,c.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(c=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,a,c.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,a))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(va,16),o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),fs=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:Ql,useClass:ku},t.compiler||{provide:Fs,useClass:Hc},t.parser||{provide:Bc,useClass:no},t.missingTranslationHandler||{provide:Ha,useClass:Id},Vs,{provide:To,useValue:t.isolate},{provide:$c,useValue:t.useDefaultLang},{provide:ya,useValue:t.extend},{provide:Dd,useValue:t.defaultLanguage},va]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:Ql,useClass:ku},t.compiler||{provide:Fs,useClass:Hc},t.parser||{provide:Bc,useClass:no},t.missingTranslationHandler||{provide:Ha,useClass:Id},{provide:To,useValue:t.isolate},{provide:$c,useValue:t.useDefaultLang},{provide:ya,useValue:t.extend},{provide:Dd,useValue:t.defaultLanguage},va]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Gc=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),ps=(()=>{class n extends Gc{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Ca=new o.OlP("NgValueAccessor"),P={provide:Ca,useExisting:(0,o.Gpc)(()=>me),multi:!0},X=new o.OlP("CompositionEventMode");let me=(()=>{class n extends Gc{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(X,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&o.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[o._Bn([P]),o.qOj]}),n})();function Oe(n){return null==n||0===n.length}function et(n){return null!=n&&"number"==typeof n.length}const ct=new o.OlP("NgValidators"),gt=new o.OlP("NgAsyncValidators"),Nn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kn{static min(e){return function(n){return e=>{if(Oe(e.value)||Oe(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Oe(e.value)||Oe(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return yi(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return Oe(n.value)||Nn.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>Oe(e.value)||!et(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return Ko(e)}static pattern(e){return function(n){if(!n)return Ui;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Oe(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return Bh(e)}static composeAsync(e){return $h(e)}}function yi(n){return Oe(n.value)?{required:!0}:null}function Ko(n){return e=>et(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Ui(n){return null}function r_(n){return null!=n}function Ur(n){const e=(0,o.QGY)(n)?(0,Dr.D)(n):n;return(0,o.CqO)(e),e}function jp(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Yv(n,e){return e.map(t=>t(n))}function Xl(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Bh(n){if(!n)return null;const e=n.filter(r_);return 0==e.length?null:function(t){return jp(Yv(t,e))}}function Hh(n){return null!=n?Bh(Xl(n)):null}function $h(n){if(!n)return null;const e=n.filter(r_);return 0==e.length?null:function(t){return Sr(Yv(t,e).map(Ur)).pipe((0,Ut.U)(jp))}}function Bp(n){return null!=n?$h(Xl(n)):null}function zc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ga(n){return n._rawValidators}function Wc(n){return n._rawAsyncValidators}function za(n){return n?Array.isArray(n)?n:[n]:[]}function Gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function Sd(n,e){const t=za(e);return za(n).forEach(a=>{Gh(t,a)||t.push(a)}),t}function zh(n,e){return za(e).filter(t=>!Gh(n,t))}let Od=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Hh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n}),n})(),Zi=(()=>{class n extends Od{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();class ec extends Od{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wh{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let tc=(()=>{class n extends Wh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ec,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[o.qOj]}),n})(),nc=(()=>{class n extends Wh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Zi,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[o.qOj]}),n})();function Yc(n,e){return[...e.path,n]}function rc(n,e){_l(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&a_(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&a_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function kd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ic(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _l(n,e){const t=Ga(n);null!==e.validator?n.setValidators(zc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Wc(n);null!==e.asyncValidator?n.setAsyncValidators(zc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();ic(e._rawValidators,a),ic(e._rawAsyncValidators,a)}function Qh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=Ga(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(h=>h!==e.validator);c.length!==a.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const a=Wc(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(h=>h!==e.asyncValidator);c.length!==a.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return ic(e._rawValidators,r),ic(e._rawAsyncValidators,r),t}function a_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wa(n,e){_l(n,e)}function Hp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function l_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Jh(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(c=>{c.constructor===me?t=c:function(n){return Object.getPrototypeOf(n.constructor)===ps}(c)?r=c:a=c}),a||r||t||null}function Rd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ld="VALID",Xh="INVALID",oc="PENDING",ef="DISABLED";function Qc(n){return(nf(n)?n.validators:n)||null}function tf(n){return Array.isArray(n)?Hh(n):n||null}function Yo(n,e){return(nf(e)?e.asyncValidators:n)||null}function ac(n){return Array.isArray(n)?Bp(n):n||null}function nf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Fd{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=tf(this._rawValidators),this._composedAsyncValidatorFn=ac(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ld}get invalid(){return this.status===Xh}get pending(){return this.status==oc}get disabled(){return this.status===ef}get enabled(){return this.status!==ef}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=tf(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ac(e)}addValidators(e){this.setValidators(Sd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zh(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=oc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ef,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ld,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ld||this.status===oc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ef:Ld}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=oc,this._hasOwnPendingAsyncValidator=!0;const t=Ur(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof rf?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof c_&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?ef:this.errors?Xh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oc)?oc:this._anyControlsHaveStatus(Xh)?Xh:Ld}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lc extends Fd{constructor(e=null,t,r){super(Qc(t),Yo(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Rd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Rd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class rf extends Fd{constructor(e,t,r){super(Qc(t),Yo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof lc?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,c)=>{r=t(r,a,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class c_ extends Fd{constructor(e,t,r){super(Qc(t),Yo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof lc?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const aT={provide:Zi,useExisting:(0,o.Gpc)(()=>g)},w=(()=>Promise.resolve(null))();let g=(()=>{class n extends Zi{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new rf({},Hh(t),Bp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){w.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),rc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){w.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Rd(this._directives,t)})}addFormGroup(t){w.then(()=>{const r=this._findContainer(t.path),a=new rf({});Wa(a,t),r.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){w.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){w.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,l_(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ct,10),o.Y36(gt,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&o.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([aT]),o.qOj]}),n})();const lt={provide:ec,useExisting:(0,o.Gpc)(()=>Wn)},or=(()=>Promise.resolve(null))();let Wn=(()=>{class n extends ec{constructor(t,r,a,c){super(),this.control=new lc,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Jh(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Hp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Yc(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){or.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,a=""===r||r&&"false"!==r;or.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Zi,9),o.Y36(ct,10),o.Y36(gt,10),o.Y36(Ca,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([lt]),o.qOj,o.TTD]}),n})(),li=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const af=new o.OlP("NgModelWithFormControlWarning"),Ud={provide:Zi,useExisting:(0,o.Gpc)(()=>rs)};let rs=(()=>{class n extends Zi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return rc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){kd(t.control||null,t,!1),Rd(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,l_(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(kd(r||null,t),a instanceof lc&&(rc(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Wa(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Qh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_l(this.form,this),this._oldForm&&Qh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ct,10),o.Y36(gt,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&o.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Ud]),o.qOj,o.TTD]}),n})();const c0={provide:ec,useExisting:(0,o.Gpc)(()=>h_)};let h_=(()=>{class n extends ec{constructor(t,r,a,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Jh(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Hp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Yc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Zi,13),o.Y36(ct,10),o.Y36(gt,10),o.Y36(Ca,10),o.Y36(af,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([c0]),o.qOj,o.TTD]}),n._ngModelWarningSentOnce=!1,n})();const zx={provide:Ca,useExisting:(0,o.Gpc)(()=>Lu),multi:!0};function u0(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Lu=(()=>{class n extends ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const a=u0(r,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([zx]),o.qOj]}),n})(),Qp=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(u0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Lu,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const uT={provide:Ca,useExisting:(0,o.Gpc)(()=>f_),multi:!0};function dT(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let f_=(()=>{class n extends ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const a=t.map(c=>this._getOptionId(c));r=(c,h)=>{c._setSelected(a.indexOf(h.toString())>-1)}}else r=(a,c)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const a=[];if(void 0!==r.selectedOptions){const c=r.selectedOptions;for(let h=0;h<c.length;h++){const p=c.item(h),v=this._getOptionValue(p.value);a.push(v)}}else{const c=r.options;for(let h=0;h<c.length;h++){const p=c.item(h);if(p.selected){const v=this._getOptionValue(p.value);a.push(v)}}}this.value=a,t(a)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([uT]),o.qOj]}),n})(),Zd=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(dT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(dT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(f_,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Yx={provide:ct,useExisting:(0,o.Gpc)(()=>Jp),multi:!0};let Jp=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?yi(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[o._Bn([Yx])]}),n})();const Ka={provide:ct,useExisting:(0,o.Gpc)(()=>g_),multi:!0};let g_=(()=>{class n{constructor(){this._validator=Ui}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this.enabled()?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=this.enabled()?Ko(function(n){return"number"==typeof n?n:parseInt(n,10)}(this.maxlength)):Ui}enabled(){return null!=this.maxlength}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([Ka]),o.TTD]}),n})(),_T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[sf]]}),n})(),nS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[_T]}),n})(),yT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:af,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[_T]}),n})(),yl=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let p,c=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new rf(a,{asyncValidators:h,updateOn:p,validators:c})}control(t,r,a){return new lc(t,r,a)}array(t,r,a){const c=t.map(h=>this._createControl(h));return new c_(c,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof lc||t instanceof rf||t instanceof c_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,o.Yz7)({factory:function(){return new n},token:n,providedIn:yT}),n})();class cc extends hs.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new e_.N;return this._value}next(e){super.next(this._value=e)}}var f0=z(4869);class rS extends Xi.L{notifyNext(e,t,r,a,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class uc extends Xi.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var p0=z(7444);function m_(n,e,t,r,a=new uc(n,t,r)){if(!a.closed)return e instanceof Ji.y?e.subscribe(a):(0,p0.s)(e)(a)}var iS=z(6693);const g0={};class vT{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new CT(e,this.resultSelector))}}class CT extends rS{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(g0),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(m_(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,h=this.toRespond?a[r]===g0?--this.toRespond:this.toRespond:0;a[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const df=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var wT=z(2441);function m0(...n){const e=n[n.length-1];return(0,f0.K)(e)?(n.pop(),t=>ds(n,t,e)):t=>ds(n,t)}function Ya(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new _0(n,e,t))}}class _0{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new ET(e,this.accumulator,this.seed,this.hasSeed))}}class ET extends Xi.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function dc(n,e){return function(r){return r.lift(new y0(n,e))}}class y0{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new sS(e,this.predicate,this.thisArg))}}class sS extends Xi.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function qd(n){return function(t){const r=new oS(n),a=t.lift(r);return r.caught=a}}class oS{constructor(e){this.selector=e}call(e,t){return t.subscribe(new aS(e,this.selector,this.caught))}}class aS extends jc.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new jc.IY(this);this.add(r);const a=(0,jc.ft)(t,r);a!==r&&this.add(a)}}}function v0(n){return function(t){return 0===n?(0,_a.c)():t.lift(new lS(n))}}class lS{constructor(e){if(this.total=e,this.total<0)throw new Wo}call(e,t){return t.subscribe(new TT(e,this.total))}}class TT extends Xi.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<r;c++){const h=t++%r;e.next(a[h])}}e.complete()}}function __(n=cS){return e=>e.lift(new AT(n))}class AT{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new C0(e,this.errorFactory))}}class C0 extends Xi.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function cS(){return new df}function IT(n=null){return e=>e.lift(new DT(n))}class DT{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new xT(e,this.defaultValue))}}class xT extends Xi.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Fu=z(4487);function Vu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dc((a,c)=>n(a,c,r)):Fu.y,es(1),t?IT(e):__(()=>new df))}var ba=z(3342),y_=z(1307);class OT{constructor(e){this.callback=e}call(e,t){return t.subscribe(new MT(e,this.callback))}}class MT extends Xi.L{constructor(e,t){super(e),this.add(new qp.w(t))}}class hc{constructor(e,t){this.id=e,this.url=t}}class tg extends hc{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hf extends hc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ng extends hc{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class v_ extends hc{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PT extends hc{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b0 extends hc{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NT extends hc{constructor(e,t,r,a,c){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class w0 extends hc{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rg extends hc{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class E0{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dS{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hS{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RT{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T0{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qn="primary";class LT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ff(n){return new LT(n)}const I0="ngNavigationCancelingError";function D0(n){const e=Error("NavigationCancelingError: "+n);return e[I0]=!0,e}function vl(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const h=r[c],p=n[c];if(h.startsWith(":"))a[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function Cl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let c=0;c<t.length;c++)if(a=t[c],!FT(n[a],e[a]))return!1;return!0}function FT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,c)=>r[c]===a)}return n===e}function VT(n){return Array.prototype.concat.apply([],n)}function UT(n){return n.length>0?n[n.length-1]:null}function ms(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fc(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Dr.D)(Promise.resolve(n)):(0,Et.of)(n)}const mS={exact:function ig(n,e,t){if(!mf(n.segments,e.segments)||!pf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ig(n.children[r],e.children[r],t))return!1;return!0},subset:S0},mn={exact:function(n,e){return Cl(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FT(n[t],e[t]))},ignored:()=>!0};function x0(n,e,t){return mS[t.paths](n.root,e.root,t.matrixParams)&&mn[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function S0(n,e,t){return qT(n,e,e.segments,t)}function qT(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!mf(a,t)||e.hasChildren()||!pf(a,t,r))}if(n.segments.length===t.length){if(!mf(n.segments,t)||!pf(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!S0(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(mf(n.segments,a)&&pf(n.segments,a,r)&&n.children[qn])&&qT(n.children[qn],e,c,r)}}function pf(n,e,t){return e.every((r,a)=>mn[t](n[a].parameters,r.parameters))}class Ao{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return C_.serialize(this)}}class Vn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ms(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jd(this)}}class gf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ff(this.parameters)),this._parameterMap}toString(){return M0(this)}}function mf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class BT{}class pc{parse(e){const t=new Bk(e);return new Ao(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Bd(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${b_(t)}=${b_(a)}`).join("&"):`${b_(t)}=${b_(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const C_=new pc;function jd(n){return n.segments.map(e=>M0(e)).join("/")}function Bd(n,e){if(!n.hasChildren())return jd(n);if(e){const t=n.children[qn]?Bd(n.children[qn],!1):"",r=[];return ms(n.children,(a,c)=>{c!==qn&&r.push(`${c}:${Bd(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return ms(n.children,(r,a)=>{a===qn&&(t=t.concat(e(r,a)))}),ms(n.children,(r,a)=>{a!==qn&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===qn?[Bd(n.children[qn],!1)]:[`${a}:${Bd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qn]?`${jd(n)}/${t[0]}`:`${jd(n)}/(${t.join("//")})`}}function _S(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function b_(n){return _S(n).replace(/%3B/gi,";")}function $T(n){return _S(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function w_(n){return decodeURIComponent(n)}function yS(n){return w_(n.replace(/\+/g,"%20"))}function M0(n){return`${$T(n.path)}${function(n){return Object.keys(n).map(e=>`;${$T(e)}=${$T(n[e])}`).join("")}(n.parameters)}`}const P0=/^[^\/()?;=#]+/;function N0(n){const e=n.match(P0);return e?e[0]:""}const Uk=/^[^=?&#]+/,qk=/^[^?&#]+/;class Bk{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vn([],{}):new Vn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[qn]=new Vn(e,t)),r}parseSegment(){const e=N0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gf(w_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=N0(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=N0(this.remaining);a&&(r=a,this.capture(r))}e[w_(t)]=w_(r)}parseQueryParam(e){const t=function(n){const e=n.match(Uk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(qk);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=yS(t),c=yS(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(c)}else e[a]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=N0(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=qn);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[qn]:new Vn([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class CS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=zT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=WT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return WT(e,this._root).map(t=>t.value)}}function zT(n,e){if(n===e.value)return e;for(const t of e.children){const r=zT(n,t);if(r)return r}return null}function WT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=WT(n,t);if(r.length)return r.unshift(e),r}return[]}class Uu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function E_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jc extends CS{constructor(e,t){super(e),this.snapshot=t,mc(this,e)}toString(){return this.snapshot.toString()}}function T_(n,e){const t=function(n,e){const h=new _f([],{},{},"",{},qn,e,null,n.root,-1,{});return new YT("",new Uu(h,[]))}(n,e),r=new cc([new gf("",{})]),a=new cc({}),c=new cc({}),h=new cc({}),p=new cc(""),v=new gc(r,a,h,p,c,qn,e,t.root);return v.snapshot=t.root,new Jc(new Uu(v,[]),t)}class gc{constructor(e,t,r,a,c,h,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=h,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ut.U)(e=>ff(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ut.U)(e=>ff(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function A_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],c=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _f{constructor(e,t,r,a,c,h,p,v,A,M,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=h,this.component=p,this.routeConfig=v,this._urlSegment=A,this._lastPathIndex=M,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ff(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YT extends CS{constructor(e,t){super(t),this.url=e,mc(this,t)}toString(){return k0(this._root)}}function mc(n,e){e.value._routerState=n,e.children.forEach(t=>mc(n,t))}function k0(n){const e=n.children.length>0?` { ${n.children.map(k0).join(", ")} } `:"";return`${n.value}${e}`}function R0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Cl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Cl(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Cl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Cl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function QT(n,e){return Cl(n.params,e.params)&&function(n,e){return mf(n,e)&&n.every((t,r)=>Cl(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||QT(n.parent,e.parent))}function I_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return I_(n,r,a);return I_(n,r)})}(n,e,t);return new Uu(r,a)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const h=c.route;return F0(e,h),h}}const r=function(n){return new gc(new cc(n.url),new cc(n.params),new cc(n.queryParams),new cc(n.fragment),new cc(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(c=>I_(n,c));return new Uu(r,a)}}function F0(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)F0(n.children[t],e.children[t])}function Xc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hd(n){return"object"==typeof n&&null!=n&&n.outlets}function Zu(n,e,t,r,a){let c={};return r&&ms(r,(h,p)=>{c[p]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new Ao(t.root===n?e:yf(t.root,n,e),c,a)}function yf(n,e,t){const r={};return ms(n.children,(a,c)=>{r[c]=a===e?t:yf(a,e,t)}),new Vn(n.segments,r)}class $d{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xc(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Hd);if(a&&a!==UT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class D_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Z0(n,e,t){if(n||(n=new Vn([],{})),0===n.segments.length&&n.hasChildren())return Gd(n,e,t);const r=function(n,e,t){let r=0,a=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return c;const h=n.segments[a],p=t[r];if(Hd(p))break;const v=`${p}`,A=r<t.length-1?t[r+1]:null;if(a>0&&void 0===v)break;if(v&&A&&"object"==typeof A&&void 0===A.outlets){if(!j0(v,A,h))return c;r+=2}else{if(!j0(v,{},h))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Vn(n.segments.slice(0,r.pathIndex),{});return c.children[qn]=new Vn(n.segments.slice(r.pathIndex),n.children),Gd(c,0,a)}return r.match&&0===a.length?new Vn(n.segments,{}):r.match&&!n.hasChildren()?x_(n,e,t):r.match?Gd(n,0,a):x_(n,e,t)}function Gd(n,e,t){if(0===t.length)return new Vn(n.segments,{});{const r=function(n){return Hd(n[0])?n[0].outlets:{[qn]:n}}(t),a={};return ms(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[h]=Z0(n.children[h],e,c))}),ms(n.children,(c,h)=>{void 0===r[h]&&(a[h]=c)}),new Vn(n.segments,a)}}function x_(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const c=t[a];if(Hd(c)){const v=Hk(c.outlets);return new Vn(r,v)}if(0===a&&Xc(t[0])){r.push(new gf(n.segments[e].path,q0(t[0]))),a++;continue}const h=Hd(c)?c.outlets[qn]:`${c}`,p=a<t.length-1?t[a+1]:null;h&&p&&Xc(p)?(r.push(new gf(h,q0(p))),a+=2):(r.push(new gf(h,{})),a++)}return new Vn(r,{})}function Hk(n){const e={};return ms(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=x_(new Vn([],{}),0,t))}),e}function q0(n){const e={};return ms(n,(t,r)=>e[r]=`${t}`),e}function j0(n,e,t){return n==t.path&&Cl(e,t.parameters)}class XT{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),R0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=E_(t);e.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,a[h],r),delete a[h]}),ms(a,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(a===c)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,c=E_(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=E_(t);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new T0(c.value.snapshot))}),e.children.length&&this.forwardEvent(new hS(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(R0(a),a===c)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const p=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),e1(p.route)}else{const p=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),v=p?p.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=v,h.outlet&&h.outlet.activateWith(a,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function e1(n){R0(n.value),n.children.forEach(e1)}class Io{constructor(e,t){this.routes=e,this.module=t}}function qu(n){return"function"==typeof n}function vf(n){return n instanceof Ao}const zd=Symbol("INITIAL_VALUE");function Cf(){return _i(n=>function(...n){let e,t;return(0,f0.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,qa.k)(n[0])&&(n=n[0]),(0,iS.n)(n,t).lift(new vT(e))}(n.map(e=>e.pipe(es(1),m0(zd)))).pipe(Ya((e,t)=>{let r=!1;return t.reduce((a,c,h)=>a!==zd?a:(c===zd&&(r=!0),r||!1!==c&&h!==t.length-1&&!vf(c)?a:c),e)},zd),dc(e=>e!==zd),(0,Ut.U)(e=>vf(e)?e:!0===e),es(1)))}let n1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"router-outlet")},directives:function(){return[R_]},encapsulation:2}),n})();function r1(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];OS(r,i1(e,r))}}function OS(n,e){n.children&&r1(n.children,e)}function i1(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function B0(n){const e=n.children&&n.children.map(B0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qn&&(t.component=n1),t}function wa(n){return n.outlet||qn}function s1(n,e){const t=n.filter(r=>wa(r)===e);return t.push(...n.filter(r=>wa(r)!==e)),t}const o1={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function og(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},o1):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||vl)(t,n,e);if(!c)return Object.assign({},o1);const h={};ms(c.posParams,(v,A)=>{h[A]=v.path});const p=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:p,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function ag(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>S_(n,e,r)&&wa(r)!==qn)}(n,t,r)){const h=new Vn(e,function(n,e,t,r){const a={};a[qn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&wa(c)!==qn){const h=new Vn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[wa(c)]=h}return a}(n,e,r,new Vn(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>S_(n,e,r))}(n,t,r)){const h=new Vn(n.segments,function(n,e,t,r,a,c){const h={};for(const p of r)if(S_(n,t,p)&&!a[wa(p)]){const v=new Vn([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:e.length,h[wa(p)]=v}return Object.assign(Object.assign({},a),h)}(n,e,t,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const c=new Vn(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function S_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function NS(n,e,t,r){return!!(wa(n)===r||r!==qn&&S_(e,t,n))&&("**"===n.path||og(e,n,t).matched)}function $0(n,e,t){return 0===e.length&&!n.children[t]}class lg{constructor(e){this.segmentGroup=e||null}}class a1{constructor(e){this.urlTree=e}}function O_(n){return new Ji.y(e=>e.error(new lg(n)))}function M_(n){return new Ji.y(e=>e.error(new a1(n)))}function kS(n){return new Ji.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class G0{constructor(e,t,r,a,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(o.h0i)}apply(){const e=ag(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,qn).pipe((0,Ut.U)(c=>this.createUrlTree(cg(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qd(c=>{if(c instanceof a1)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof lg?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,qn).pipe((0,Ut.U)(a=>this.createUrlTree(cg(a),e.queryParams,e.fragment))).pipe(qd(a=>{throw a instanceof lg?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new Vn([],{[qn]:e}):e;return new Ao(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ut.U)(c=>new Vn([],c))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,Dr.D)(a).pipe(Yl(c=>{const h=r.children[c],p=s1(t,c);return this.expandSegmentGroup(e,p,h,c).pipe((0,Ut.U)(v=>({segment:v,outlet:c})))}),Ya((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dc((a,c)=>n(a,c,r)):Fu.y,v0(1),t?IT(e):__(()=>new df))}())}expandSegment(e,t,r,a,c,h){return(0,Dr.D)(r).pipe(Yl(p=>this.expandSegmentAgainstRoute(e,t,r,p,a,c,h).pipe(qd(A=>{if(A instanceof lg)return(0,Et.of)(null);throw A}))),Vu(p=>!!p),qd((p,v)=>{if(p instanceof df||"EmptyError"===p.name){if($0(t,a,c))return(0,Et.of)(new Vn([],{}));throw new lg(t)}throw p}))}expandSegmentAgainstRoute(e,t,r,a,c,h,p){return NS(a,t,c,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,c,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,h):O_(t):O_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?M_(c):this.lineralizeSegments(r,c).pipe((0,ts.zg)(h=>{const p=new Vn(h,{});return this.expandSegment(e,p,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,h){const{matched:p,consumedSegments:v,lastChild:A,positionalParamSegments:M}=og(t,a,c);if(!p)return O_(t);const N=this.applyRedirectCommands(v,a.redirectTo,M);return a.redirectTo.startsWith("/")?M_(N):this.lineralizeSegments(a,N).pipe((0,ts.zg)(B=>this.expandSegment(e,t,r,B.concat(c.slice(A)),h,!1)))}matchSegmentAgainstRoute(e,t,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Et.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ut.U)(B=>(r._loadedConfig=B,new Vn(a,{})))):(0,Et.of)(new Vn(a,{}));const{matched:h,consumedSegments:p,lastChild:v}=og(t,r,a);if(!h)return O_(t);const A=a.slice(v);return this.getChildConfig(e,r,a).pipe((0,ts.zg)(N=>{const B=N.module,Y=N.routes,{segmentGroup:de,slicedSegments:je}=ag(t,p,A,Y),nt=new Vn(de.segments,de.children);if(0===je.length&&nt.hasChildren())return this.expandChildren(B,Y,nt).pipe((0,Ut.U)(ln=>new Vn(p,ln)));if(0===Y.length&&0===je.length)return(0,Et.of)(new Vn(p,{}));const vt=wa(r)===c;return this.expandSegment(B,nt,Y,je,vt?qn:c,!0).pipe((0,Ut.U)(xn=>new Vn(p.concat(xn.segments),xn.children)))}))}getChildConfig(e,t,r){return t.children?(0,Et.of)(new Io(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Et.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,ts.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,Ut.U)(c=>(t._loadedConfig=c,c))):(n=t,new Ji.y(e=>e.error(D0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Et.of)(new Io([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,Et.of)(!0);const c=a.map(h=>{const p=e.get(h);let v;if((n=p)&&qu(n.canLoad))v=p.canLoad(t,r);else{if(!qu(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}var n;return fc(v)});return(0,Et.of)(c).pipe(Cf(),(0,ba.b)(h=>{if(!vf(h))return;const p=D0(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw p.url=h,p}),(0,Ut.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Et.of)(r);if(a.numberOfChildren>1||!a.children[qn])return kS(e.redirectTo);a=a.children[qn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const c=this.createSegmentGroup(e,t.root,r,a);return new Ao(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ms(e,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const p=a.substring(1);r[c]=t[p]}else r[c]=a}),r}createSegmentGroup(e,t,r,a){const c=this.createSegments(e,t.segments,r,a);let h={};return ms(t.children,(p,v)=>{h[v]=this.createSegmentGroup(e,p,r,a)}),new Vn(c,h)}createSegments(e,t,r,a){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function cg(n){const e={};for(const r of Object.keys(n.children)){const c=cg(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[qn]){const e=n.children[qn];return new Vn(n.segments.concat(e.segments),e.children)}return n}(new Vn(n.segments,e))}class W0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class N_{constructor(e,t){this.component=e,this.route=t}}function FS(n,e,t){const r=n._root;return bf(r,e?e._root:null,t,[r.value])}function Y0(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function bf(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=E_(e);return n.children.forEach(h=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const v=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mf(n.url,e.url)||!Cl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QT(n,e)||!Cl(n.queryParams,e.queryParams);case"paramsChange":default:return!QT(n,e)}}(h,c,c.routeConfig.runGuardsAndResolvers);v?a.canActivateChecks.push(new W0(r)):(c.data=h.data,c._resolvedData=h._resolvedData),bf(n,e,c.component?p?p.children:null:t,r,a),v&&p&&p.outlet&&p.outlet.isActivated&&a.canDeactivateChecks.push(new N_(p.outlet.component,h))}else h&&wf(e,p,a),a.canActivateChecks.push(new W0(r)),bf(n,null,c.component?p?p.children:null:t,r,a)})(h,c[h.value.outlet],t,r.concat([h.value]),a),delete c[h.value.outlet]}),ms(c,(h,p)=>wf(h,t.getContext(p),a)),a}function wf(n,e,t){const r=E_(n),a=n.value;ms(r,(c,h)=>{wf(c,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new N_(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class ug{}function Tf(n){return new Ji.y(e=>e.error(n))}class Q0{constructor(e,t,r,a,c,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const e=ag(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,qn);if(null===t)return null;const r=new _f([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Uu(r,t),c=new YT(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=A_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const h=t.children[c],p=s1(e,c),v=this.processSegmentGroup(p,h,c);if(null===v)return null;r.push(...v)}const a=p1(r);return a.sort((e,t)=>e.value.outlet===qn?-1:t.value.outlet===qn?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const c of e){const h=this.processSegmentAgainstRoute(c,t,r,a);if(null!==h)return h}return $0(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!NS(e,t,r,a))return null;let c,h=[],p=[];if("**"===e.path){const Y=r.length>0?UT(r).parameters:{};c=new _f(r,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J0(e),wa(e),e.component,e,m1(t),_1(t)+r.length,Wd(e))}else{const Y=og(t,e,r);if(!Y.matched)return null;h=Y.consumedSegments,p=r.slice(Y.lastChild),c=new _f(h,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J0(e),wa(e),e.component,e,m1(t),_1(t)+h.length,Wd(e))}const v=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:M}=ag(t,h,p,v.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&A.hasChildren()){const Y=this.processChildren(v,A);return null===Y?null:[new Uu(c,Y)]}if(0===v.length&&0===M.length)return[new Uu(c,[])];const N=wa(e)===a,B=this.processSegment(v,A,M,N?qn:a);return null===B?null:[new Uu(c,B)]}}function f1(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function p1(n){const e=[],t=new Set;for(const r of n){if(!f1(r)){e.push(r);continue}const a=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=p1(r.children);e.push(new Uu(r.value,a))}return e.filter(r=>!t.has(r))}function m1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _1(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function J0(n){return n.data||{}}function Wd(n){return n.resolve||{}}function X0(n){return _i(e=>{const t=n(e);return t?(0,Dr.D)(t).pipe((0,Ut.U)(()=>e)):(0,Et.of)(e)})}class Wk extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const eC=new o.OlP("ROUTES");class tC{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,Ut.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(e);return new Io(VT(h.injector.get(eC,void 0,o.XFs.Self|o.XFs.Optional)).map(B0),h)}),qd(c=>{throw t._loader$=void 0,c}));return t._loader$=new wT.c(a,()=>new hs.xQ).pipe((0,y_.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Dr.D)(this.loader.load(e)):fc(e()).pipe((0,ts.zg)(t=>t instanceof o.YKP?(0,Et.of)(t):(0,Dr.D)(this.compiler.compileModuleAsync(t))))}}class Xr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ju,this.attachRef=null}}class ju{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Xr,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class tu{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nC(n){throw n}function rC(n,e,t){return e.parse("/")}function WS(n,e){return(0,Et.of)(null)}const KS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _s=(()=>{class n{constructor(t,r,a,c,h,p,v,A){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hs.xQ,this.errorHandler=nC,this.malformedUriErrorHandler=rC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:WS,afterPreactivation:WS},this.urlHandlingStrategy=new tu,this.routeReuseStrategy=new Wk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(o.h0i),this.console=h.get(o.c2e);const B=h.get(o.R0b);this.isNgZoneEnabled=B instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new Ao(new Vn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tC(p,v,Y=>this.triggerEvent(new kT(Y)),Y=>this.triggerEvent(new E0(Y))),this.routerState=T_(this.currentUrlTree,this.rootComponentType),this.transitions=new cc({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(dc(a=>0!==a.id),(0,Ut.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),_i(a=>{let c=!1,h=!1;return(0,Et.of)(a).pipe((0,ba.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_i(p=>{const v=this.browserUrlTree.toString(),A=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return dg(p.source)&&(this.browserUrlTree=p.extractedUrl),(0,Et.of)(p).pipe(_i(N=>{const B=this.transitions.getValue();return r.next(new tg(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),B!==this.transitions.getValue()?_a.E:Promise.resolve(N)}),function(n,e,t,r){return _i(a=>function(n,e,t,r,a){return new G0(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,Ut.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ba.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function(n,e,t,r,a){return(0,ts.zg)(c=>function(n,e,t,r,a="emptyOnly",c="legacy"){try{const h=new Q0(n,e,t,r,a,c).recognize();return null===h?Tf(new ug):(0,Et.of)(h)}catch(h){return Tf(h)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,a).pipe((0,Ut.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ba.b)(N=>{"eager"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(N.urlAfterRedirects,N),this.browserUrlTree=N.urlAfterRedirects);const B=new PT(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(B)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:Y,source:de,restoredState:je,extras:nt}=p,vt=new tg(B,this.serializeUrl(Y),de,je);r.next(vt);const Yt=T_(Y,this.rootComponentType).snapshot;return(0,Et.of)(Object.assign(Object.assign({},p),{targetSnapshot:Yt,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},nt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),_a.E}),X0(p=>{const{targetSnapshot:v,id:A,extractedUrl:M,rawUrl:N,extras:{skipLocationChange:B,replaceUrl:Y}}=p;return this.hooks.beforePreactivation(v,{navigationId:A,appliedUrlTree:M,rawUrlTree:N,skipLocationChange:!!B,replaceUrl:!!Y})}),(0,ba.b)(p=>{const v=new b0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,Ut.U)(p=>Object.assign(Object.assign({},p),{guards:FS(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,e){return(0,ts.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?(0,Et.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Dr.D)(n).pipe((0,ts.zg)(a=>function(n,e,t,r,a){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Et.of)(!0);const h=c.map(p=>{const v=Y0(p,e,a);let A;if(function(n){return n&&qu(n.canDeactivate)}(v))A=fc(v.canDeactivate(n,e,t,r));else{if(!qu(v))throw new Error("Invalid CanDeactivate guard");A=fc(v(n,e,t,r))}return A.pipe(Vu())});return(0,Et.of)(h).pipe(Cf())}(a.component,a.route,t,e,r)),Vu(a=>!0!==a,!0))}(h,r,a,n).pipe((0,ts.zg)(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,e,t,r){return(0,Dr.D)(e).pipe(Yl(a=>ds(function(n,e){return null!==n&&e&&e(new dS(n)),(0,Et.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new RT(n)),(0,Et.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>ja(()=>{const p=h.guards.map(v=>{const A=Y0(v,h.node,t);let M;if(function(n){return n&&qu(n.canActivateChild)}(A))M=fc(A.canActivateChild(r,n));else{if(!qu(A))throw new Error("Invalid CanActivateChild guard");M=fc(A(r,n))}return M.pipe(Vu())});return(0,Et.of)(p).pipe(Cf())}));return(0,Et.of)(c).pipe(Cf())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Et.of)(!0);const a=r.map(c=>ja(()=>{const h=Y0(c,e,t);let p;if(function(n){return n&&qu(n.canActivate)}(h))p=fc(h.canActivate(e,n));else{if(!qu(h))throw new Error("Invalid CanActivate guard");p=fc(h(e,n))}return p.pipe(Vu())}));return(0,Et.of)(a).pipe(Cf())}(n,a.route,t))),Vu(a=>!0!==a,!0))}(r,c,n,e):(0,Et.of)(p)),(0,Ut.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ba.b)(p=>{if(vf(p.guardsResult)){const A=D0(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw A.url=p.guardsResult,A}const v=new NT(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),dc(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),X0(p=>{if(p.guards.canActivateChecks.length)return(0,Et.of)(p).pipe((0,ba.b)(v=>{const A=new w0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(A)}),_i(v=>{let A=!1;return(0,Et.of)(v).pipe(function(n,e){return(0,ts.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Et.of)(t);let c=0;return(0,Dr.D)(a).pipe(Yl(h=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,Et.of)({});const c={};return(0,Dr.D)(a).pipe((0,ts.zg)(h=>function(n,e,t,r){const a=Y0(n,e,r);return fc(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,r).pipe((0,ba.b)(p=>{c[h]=p}))),v0(1),(0,ts.zg)(()=>Object.keys(c).length===a.length?(0,Et.of)(c):_a.E))}(n._resolve,n,e,r).pipe((0,Ut.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),A_(n,t).resolve),null)))}(h.route,r,n,e)),(0,ba.b)(()=>c++),v0(1),(0,ts.zg)(h=>c===a.length?(0,Et.of)(t):_a.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ba.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,ba.b)(v=>{const A=new rg(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(A)}))}),X0(p=>{const{targetSnapshot:v,id:A,extractedUrl:M,rawUrl:N,extras:{skipLocationChange:B,replaceUrl:Y}}=p;return this.hooks.afterPreactivation(v,{navigationId:A,appliedUrlTree:M,rawUrlTree:N,skipLocationChange:!!B,replaceUrl:!!Y})}),(0,Ut.U)(p=>{const v=function(n,e,t){const r=I_(n,e._root,t?t._root:void 0);return new Jc(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,ba.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Ut.U)(r=>(new XT(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ba.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new OT(n))}(()=>{var p;if(!c&&!h){const v=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,v)):this.cancelNavigationTransition(a,v)}(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===a.id&&(this.currentNavigation=null)}),qd(p=>{if(h=!0,function(n){return n&&n[I0]}(p)){const v=vf(p.url);v||(this.navigated=!0,this.restoreHistory(a,!0));const A=new ng(a.id,this.serializeUrl(a.extractedUrl),p.message);r.next(A),v?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),N={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dg(a.source)};this.scheduleNavigation(M,"imperative",null,N,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const v=new v_(a.id,this.serializeUrl(a.extractedUrl),p);r.next(v);try{a.resolve(this.errorHandler(p))}catch(A){a.reject(A)}}return _a.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:c,urlTree:h}=r,p={replaceUrl:!0};if(c){const v=Object.assign({},c);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(p.state=v)}this.scheduleNavigation(h,a,c,p)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){r1(t),this.config=t.map(B0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:c,fragment:h,queryParamsHandling:p,preserveFragment:v}=r,A=a||this.routerState.root,M=v?this.currentUrlTree.fragment:h;let N=null;switch(p){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=c||null}return null!==N&&(N=this.removeEmptyProps(N)),function(n,e,t,r,a){if(0===t.length)return Zu(e.root,e.root,e,r,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $d(!0,0,n);let e=0,t=!1;const r=n.reduce((a,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return ms(c.outlets,(v,A)=>{p[A]="string"==typeof v?v.split("/"):v}),[...a,{outlets:p}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===h?(c.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&a.push(p))}),a):[...a,c]},[]);return new $d(t,e,r)}(t);if(c.toRoot())return Zu(e.root,new Vn([],{}),e,r,a);const h=function(n,e,t){if(n.isAbsolute)return new D_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new D_(c,c===e.root,0)}const r=Xc(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,c=t;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new D_(r,!1,a-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),p=h.processChildren?Gd(h.segmentGroup,h.index,c.commands):Z0(h.segmentGroup,h.index,c.commands);return Zu(h.segmentGroup,p,e,r,a)}(A,this.currentUrlTree,t,N,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=vf(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},KS):!1===r?Object.assign({},YS):r,vf(t))return x0(this.currentUrlTree,t,a);const c=this.parseUrl(t);return x0(this.currentUrlTree,c,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const c=t[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new hf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,c,h){var p,v;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),M=dg(r)&&A&&!dg(A.source),Y=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===t.toString();if(M&&Y)return Promise.resolve(!0);let de,je,nt;h?(de=h.resolve,je=h.reject,nt=h.promise):nt=new Promise((xn,ln)=>{de=xn,je=ln});const vt=++this.navigationId;let Yt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Yt=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):Yt=0,this.setTransition({id:vt,targetPageId:Yt,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:de,reject:je,promise:nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nt.catch(xn=>Promise.reject(xn))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(t,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new ng(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.DyG),o.LFG(BT),o.LFG(ju),o.LFG(Ct),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function dg(n){return"imperative"!==n}let yc=(()=>{class n{constructor(t,r,a,c,h){this.router=t,this.route=r,this.commands=[],this.onChanges=new hs.xQ,null==a&&c.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:If(this.skipLocationChange),replaceUrl:If(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:If(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(_s),o.Y36(gc),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),n})(),hg=(()=>{class n{constructor(t,r,a){this.router=t,this.route=r,this.locationStrategy=a,this.commands=[],this.onChanges=new hs.xQ,this.subscription=t.events.subscribe(c=>{c instanceof hf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,a,c,h){if(0!==t||r||a||c||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const p={skipLocationChange:If(this.skipLocationChange),replaceUrl:If(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:If(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(_s),o.Y36(gc),o.Y36(ke))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&o.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&(o.Ikx("href",r.href,o.LSH),o.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),n})();function If(n){return""===n||!!n}let R_=(()=>{class n{constructor(t,r,a,c,h){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=c||qn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new C1(t,p,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ju),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class C1{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gc?this.route:e===ju?this.childContexts:this.parent.get(e,t)}}class sC{}class w1{preload(e,t){return(0,Et.of)(null)}}let E1=(()=>{class n{constructor(t,r,a,c,h){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=new tC(r,a,A=>t.triggerEvent(new kT(A)),A=>t.triggerEvent(new E0(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(dc(t=>t instanceof hf),Yl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(o.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(t,c)):c.children&&a.push(this.processRoutes(t,c.children));return(0,Dr.D)(a).pipe((0,ma.J)(),(0,Ut.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Et.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,ts.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_s),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(sC))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),oC=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof A0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new A0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_s),o.LFG(I),o.LFG(void 0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Bu=new o.OlP("ROUTER_CONFIGURATION"),QS=new o.OlP("ROUTER_FORROOT_GUARD"),JS=[Ct,{provide:BT,useClass:pc},{provide:_s,useFactory:function(n,e,t,r,a,c,h,p={},v,A){const M=new _s(null,n,e,t,r,a,c,VT(h));return v&&(M.urlHandlingStrategy=v),A&&(M.routeReuseStrategy=A),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(p,M),p.enableTracing&&M.events.subscribe(N=>{var B,Y;null===(B=console.group)||void 0===B||B.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),M},deps:[BT,ju,Ct,o.zs3,o.v3s,o.Sil,eC,Bu,[class{},new o.FiY],[class{},new o.FiY]]},ju,{provide:gc,useFactory:function(n){return n.routerState.root},deps:[_s]},{provide:o.v3s,useClass:o.EAV},E1,w1,class{preload(e,t){return t().pipe(qd(()=>(0,Et.of)(null)))}},{provide:Bu,useValue:{enableTracing:!1}}];function XS(){return new o.PXZ("Router",_s)}let eO=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[JS,lC(t),{provide:QS,useFactory:tO,deps:[[_s,new o.FiY,new o.tp0]]},{provide:Bu,useValue:r||{}},{provide:ke,useFactory:aC,deps:[ge,[new o.tBr(Pe),new o.FiY],Bu]},{provide:oC,useFactory:Qk,deps:[_s,I,Bu]},{provide:sC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:w1},{provide:o.PXZ,multi:!0,useFactory:XS},[I1,{provide:o.ip1,multi:!0,useFactory:Xk,deps:[I1]},{provide:cC,useFactory:eR,deps:[I1]},{provide:o.tb,multi:!0,useExisting:cC}]]}}static forChild(t){return{ngModule:n,providers:[lC(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(QS,8),o.LFG(_s,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Qk(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new oC(n,e,t)}function aC(n,e,t={}){return t.useHash?new Xe(n,e):new Ve(n,e)}function tO(n){return"guarded"}function lC(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:eC,multi:!0,useValue:n}]}let I1=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new hs.xQ}appInitializer(){return this.injector.get(K,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(p=>r=p),c=this.injector.get(_s),h=this.injector.get(Bu);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Et.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(Bu),a=this.injector.get(E1),c=this.injector.get(oC),h=this.injector.get(_s),p=this.injector.get(o.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),c.init(),h.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Xk(n){return n.appInitializer.bind(n)}function eR(n){return n.bootstrapListener.bind(n)}const cC=new o.OlP("Router Initializer");var x1=z(3637),zr=z(2498);function L_(){return n=>n.lift(new uC)}class uC{call(e,t){return t.subscribe(new rO(e))}}class rO extends Xi.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function F_(n,e){return t=>t.lift(new iO(n,e))}class iO{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new sO(e,this.compare,this.keySelector))}}class sO extends Xi.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var It,Do=z(8939),S1=(z(4828),z(3394)),$e=z(8239),Qo=z(8026),Jo=z(3910),Qa=z(5422),$=z(3854),pg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nu={},gg=gg||{},Wt=pg||self;function Hu(){}function ys(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function El(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Xo="closure_uid_"+(1e9*Math.random()>>>0),dC=0;function Df(n,e,t){return n.call.apply(n.bind,arguments)}function xf(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function vi(n,e,t){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Df:xf).apply(null,arguments)}function ru(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ci(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,c){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return e.prototype[a].apply(r,h)}}function Ea(){this.s=this.s,this.o=this.o}var Of={};Ea.prototype.s=!1,Ea.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Xo)&&n[Xo]||(n[Xo]=++dC)}(this);delete Of[n]}},Ea.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kd=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},hC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in a&&e.call(t,a[c],c,n)};function fC(n){return Array.prototype.concat.apply([],arguments)}function U_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mg(n){return/^[\s\xa0]*$/.test(n)}var io,pC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ro(n,e){return-1!=n.indexOf(e)}function Z_(n,e){return n<e?-1:n>e?1:0}e:{var M1=Wt.navigator;if(M1){var gC=M1.userAgent;if(gC){io=gC;break e}}io=""}function mC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function _C(n){const e={};for(const t in n)e[t]=n[t];return e}var yC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P1(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let c=0;c<yC.length;c++)t=yC[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function N1(n){return N1[" "](n),n}N1[" "]=Hu;var _g,n,k1=ro(io,"Opera"),Mf=ro(io,"Trident")||ro(io,"MSIE"),vC=ro(io,"Edge"),CC=vC||Mf,R1=ro(io,"Gecko")&&!(ro(io.toLowerCase(),"webkit")&&!ro(io,"Edge"))&&!(ro(io,"Trident")||ro(io,"MSIE"))&&!ro(io,"Edge"),nR=ro(io.toLowerCase(),"webkit")&&!ro(io,"Edge");function L1(){var n=Wt.document;return n?n.documentMode:void 0}e:{var F1="",V1=(n=io,R1?/rv:([^\);]+)(\)|;)/.exec(n):vC?/Edge\/([\d\.]+)/.exec(n):Mf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nR?/WebKit\/(\S+)/.exec(n):k1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(V1&&(F1=V1?V1[1]:""),Mf){var U1=L1();if(null!=U1&&U1>parseFloat(F1)){_g=String(U1);break e}}_g=F1}var aO={};function rR(){return e=aO,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=pC(String(_g)).split("."),t=pC("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var a=e[h]||"",c=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Z_(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Z_(0==a[2].length,0==c[2].length)||Z_(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n}();var e}var wC=Wt.document&&Mf&&(L1()||parseInt(_g,10))||void 0,EC=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",Hu,e),Wt.removeEventListener("test",Hu,e)}catch(t){}return n}();function so(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function q_(n,e){if(so.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(R1){e:{try{N1(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&q_.Z.h.call(this)}}so.prototype.h=function(){this.defaultPrevented=!0},Ci(q_,so);var iR={2:"touch",3:"pen",4:"mouse"};q_.prototype.h=function(){q_.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var j_="closure_listenable_"+(1e6*Math.random()|0),lO=0;function q1(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++lO,this.ca=this.fa=!1}function TC(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function B_(n){this.src=n,this.g={},this.h=0}function $u(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],a=Kd(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(TC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AC(n,e,t,r){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return a}return-1}B_.prototype.add=function(n,e,t,r,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=AC(n,e,r,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new q1(e,this.src,c,!!r,a)).fa=t,n.push(e)),e};var H_="closure_lm_"+(1e6*Math.random()|0),IC={};function DC(n,e,t,r,a){if(r&&r.once)return xC(n,e,t,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)DC(n,e[c],t,r,a);return null}return t=MC(t),n&&n[j_]?n.N(e,t,El(r)?!!r.capture:!!r,a):yg(n,e,t,!1,r,a)}function yg(n,e,t,r,a,c){if(!e)throw Error("Invalid event type");var h=El(a)?!!a.capture:!!a,p=OC(n);if(p||(n[H_]=p=new B_(n)),(t=p.add(e,t,r,h,c)).proxy)return t;if(r=function(){var e=uO;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)EC||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(B1(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xC(n,e,t,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)xC(n,e[c],t,r,a);return null}return t=MC(t),n&&n[j_]?n.O(e,t,El(r)?!!r.capture:!!r,a):yg(n,e,t,!0,r,a)}function j1(n,e,t,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)j1(n,e[c],t,r,a);else r=El(r)?!!r.capture:!!r,t=MC(t),n&&n[j_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AC(c=n.g[e],t,r,a))&&(TC(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=OC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AC(e,t,r,a)),(t=-1<n?e[n]:null)&&SC(t))}function SC(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[j_])$u(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(B1(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=OC(e))?($u(t,n),0==t.h&&(t.src=null,e[H_]=null)):TC(n)}}}function B1(n){return n in IC?IC[n]:IC[n]="on"+n}function uO(n,e){if(n.ca)n=!0;else{e=new q_(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&SC(n),n=t.call(r,e)}return n}function OC(n){return(n=n[H_])instanceof B_?n:null}var $_="__closure_events_fn_"+(1e9*Math.random()>>>0);function MC(n){return"function"==typeof n?n:(n[$_]||(n[$_]=function(e){return n.handleEvent(e)}),n[$_])}function is(){Ea.call(this),this.i=new B_(this),this.P=this,this.I=null}function vs(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new so(e,n);else if(e instanceof so)e.target=e.target||n;else{var a=e;P1(e=new so(r,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];a=Pf(h,r,!0,e)&&a}if(a=Pf(h=e.g=n,r,!0,e)&&a,a=Pf(h,r,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Pf(h=e.g=t[c],r,!1,e)&&a}function Pf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var p=h.listener,v=h.ia||h.src;h.fa&&$u(n.i,h),a=!1!==p.call(v,r)&&a}}return a&&!r.defaultPrevented}Ci(is,Ea),is.prototype[j_]=!0,is.prototype.removeEventListener=function(n,e,t,r){j1(this,n,e,t,r)},is.prototype.M=function(){if(is.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)TC(t[r]);delete n.g[e],n.h--}}this.I=null},is.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},is.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var H1=Wt.JSON.stringify;function PC(){var n=G_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bg,hO=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vg,n=>n.reset());class vg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fO(n){Wt.setTimeout(()=>{throw n},0)}function Cg(n,e){bg||function(){var n=Wt.Promise.resolve(void 0);bg=function(){n.then($1)}}(),wg||(bg(),wg=!0),G_.add(n,e)}var wg=!1,G_=new class{constructor(){this.h=this.g=null}add(e,t){const r=hO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function $1(){for(var n;n=PC();){try{n.h.call(n.g)}catch(t){fO(t)}var e=hO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wg=!1}function NC(n,e){is.call(this),this.h=n||1,this.g=e||Wt,this.j=vi(this.kb,this),this.l=Date.now()}function kC(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function z_(n,e,t){if("function"==typeof n)t&&(n=vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function RC(n){n.g=z_(()=>{n.g=null,n.i&&(n.i=!1,RC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ci(NC,is),(It=NC.prototype).da=!1,It.S=null,It.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vs(this,"tick"),this.da&&(kC(this),this.start()))}},It.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){NC.Z.M.call(this),kC(this),delete this.g};class gO extends Ea{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RC(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nf(n){Ea.call(this),this.h=n,this.g={}}Ci(Nf,Ea);var W_=[];function LC(n,e,t,r){Array.isArray(t)||(t&&(W_[0]=t.toString()),t=W_);for(var a=0;a<t.length;a++){var c=DC(e,t[a],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function K_(n){mC(n.g,function(e,t){this.g.hasOwnProperty(t)&&SC(e)},n),n.g={}}function kf(){this.g=!0}function Yd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<a.length;h++)a[h]=""}}}return H1(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Nf.prototype.M=function(){Nf.Z.M.call(this),K_(this)},Nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kf.prototype.Aa=function(){this.g=!1},kf.prototype.info=function(){};var Gu={},W1=null;function Y_(){return W1=W1||new is}function K1(n){so.call(this,Gu.Ma,n)}function Qd(n){const e=Y_();vs(e,new K1(e,n))}function Eg(n,e){so.call(this,Gu.STAT_EVENT,n),this.stat=e}function oo(n){const e=Y_();vs(e,new Eg(e,n))}function VC(n,e){so.call(this,Gu.Na,n),this.size=e}function Rf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Gu.Ma="serverreachability",Ci(K1,so),Gu.STAT_EVENT="statevent",Ci(Eg,so),Gu.Na="timingevent",Ci(VC,so);var Tg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},UC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Q_(){}function qC(){}Q_.prototype.h=null;var X_,J_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jC(){so.call(this,"d")}function BC(){so.call(this,"c")}function ey(){}function ci(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Nf(this),this.P=_O,this.W=new NC(n=CC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new HC}function HC(){this.i=null,this.g="",this.h=!1}Ci(jC,so),Ci(BC,so),Ci(ey,Q_),ey.prototype.g=function(){return new XMLHttpRequest},ey.prototype.i=function(){return{}},X_=new ey;var _O=45e3,$C={},Ag={};function GC(n,e,t){n.K=1,n.v=Wu(vc(e)),n.s=t,n.U=!0,zC(n,null)}function zC(n,e){n.F=Date.now(),Ig(n),n.A=vc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),tb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new HC,n.g=hb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new gO(vi(n.Ia,n,n.g),n.O)),LC(n.V,n.g,"readystatechange",n.gb),e=n.H?_C(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Qd(1),function(n,e,t,r,a,c){n.info(function(){if(n.g)if(c)for(var h="",p=c.split("&"),v=0;v<p.length;v++){var A=p[v].split("=");if(1<A.length){var M=A[0];A=A[1];var N=M.split("_");h=2<=N.length&&"type"==N[1]?h+(M+"=")+A+"&":h+(M+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function WC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Jd(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=yO(n,t),a==Ag){4==e&&(n.o=4,oo(14),r=!1),Yd(n.j,n.m,null,"[Incomplete Response]");break}if(a==$C){n.o=4,oo(15),Yd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yd(n.j,n.m,a,null),ny(n,a)}WC(n)&&a!=Ag&&a!=$C&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,oo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ei(e),e.L=!0,oo(11))):(Yd(n.j,n.m,t,"[Invalid Chunked Response]"),Ff(n),Lf(n))}function yO(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ag:(t=Number(e.substring(t,r)),isNaN(t)?$C:(r+=1)+t>e.length?Ag:(e=e.substr(r,t),n.C=r+t,e))}function Ig(n){n.Y=Date.now()+n.P,KC(n,n.P)}function KC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rf(vi(n.eb,n),e)}function ty(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function Lf(n){0==n.l.G||n.I||dy(n.l,n)}function Ff(n){ty(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,kC(n.W),K_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ny(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||rb(t.i,n)))if(t.I=n.N,!n.J&&rb(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Rf(vi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Rg(t),Ng(t)}qf(t),oo(18)}if(1>=iA(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else Ju(t,11)}else if((n.J||t.g==n)&&Rg(t),!mg(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const M=A[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const N=A[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const B=A[5];null!=B&&"number"==typeof B&&0<B&&(t.K=r=1.5*B,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const de=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var c=r.i;!c.g&&(ro(de,"spdy")||ro(de,"quic")||ro(de,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(ib(c,c.h),c.h=null))}if(r.D){const je=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;je&&(r.sa=je,Zr(r.F,r.D,je))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=db(r,r.H?r.la:null,r.W),h.J){sA(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(ty(p),Ig(p)),r.g=h}else kg(r);0<t.l.length&&uy(t)}else"stop"!=A[0]&&"close"!=A[0]||Ju(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Ju(t,7):cy(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}Qd(4)}catch(A){}}function Ja(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ys(n)||"string"==typeof n)hC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ys(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ys(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<a;c++)e.call(void 0,r[c],t&&t[c],n)}}function Vf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Vf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function QC(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ao(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)ao(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function ao(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(It=ci.prototype).setTimeout=function(n){this.P=n},It.gb=function(n){n=n.target;const e=this.L;e&&3==iu(n)?e.l():this.Ia(n)},It.Ia=function(n){try{if(n==this.g)e:{const M=iu(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>M)&&(3!=M||CC||this.g&&(this.h.h||this.g.ga()||fA(this.g)))){this.I||4!=M||7==e||Qd(8==e||0>=N?3:2),ty(this);var t=this.g.ba();this.N=t;t:if(WC(this)){var r=fA(this.g);n="";var a=r.length,c=4==iu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ff(this),Lf(this);var h="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,c,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mg(p)){var A=p;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,oo(12),Ff(this),Lf(this);break e}Yd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ny(this,t)}this.U?(Jd(this,M,h),CC&&this.i&&3==M&&(LC(this.V,this.W,"tick",this.fb),this.W.start())):(Yd(this.j,this.m,h,null),ny(this,h)),4==M&&Ff(this),this.i&&!this.I&&(4==M?dy(this.l,this):(this.i=!1,Ig(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,oo(12)):(this.o=0,oo(13)),Ff(this),Lf(this)}}}catch(M){}},It.fb=function(){if(this.g){var n=iu(this.g),e=this.g.ga();this.C<e.length&&(ty(this),Jd(this,n,e),this.i&&4!=n&&Ig(this))}},It.cancel=function(){this.I=!0,Ff(this)},It.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qd(3),oo(17)),Ff(this),this.o=2,Lf(this)):KC(this,this.Y-n)},(It=Vf.prototype).R=function(){QC(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},It.T=function(){return QC(this),this.g.concat()},It.get=function(n,e){return ao(this.h,n)?this.h[n]:e},It.set=function(n,e){ao(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},It.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],c=this.get(a);n.call(e,c,a,this)}};var Xa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof zu){this.g=void 0!==e?e:n.g,ry(this,n.j),this.s=n.s,iy(this,n.i),sy(this,n.m),this.l=n.l,e=n.h;var t=new Ku;t.i=e.i,e.g&&(t.g=new Vf(e.g),t.h=e.h),Y1(this,t),this.o=n.o}else n&&(t=String(n).match(Xa))?(this.g=!!e,ry(this,t[1]||"",!0),this.s=Dg(t[2]||""),iy(this,t[3]||"",!0),sy(this,t[4]),this.l=Dg(t[5]||"",!0),Y1(this,t[6]||"",!0),this.o=Dg(t[7]||"")):(this.g=!!e,this.h=new Ku(null,this.g))}function vc(n){return new zu(n)}function ry(n,e,t){n.j=t?Dg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function iy(n,e,t){n.i=t?Dg(e,!0):e}function sy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Y1(n,e,t){e instanceof Ku?(n.h=e,function(n,e){e&&!n.j&&(Cc(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(XC(this,r),tb(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Uf(e,eA)),n.h=new Ku(e,n.g))}function Zr(n,e,t){n.h.set(e,t)}function Wu(n){return Zr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,J1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function J1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uf(e,xg,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uf(e,xg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uf(t,"/"==t.charAt(0)?X1:CO,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uf(t,JC)),n.join("")};var xg=/[#\/\?@]/g,CO=/[#\?:]/g,X1=/[#\?]/g,eA=/[#\?@]/g,JC=/#/g;function Ku(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cc(n){n.g||(n.g=new Vf,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var c=n[t].substring(0,r);a=n[t].substring(r+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function XC(n,e){Cc(n),e=Xd(n,e),ao(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ao((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&QC(n)))}function eb(n,e){return Cc(n),e=Xd(n,e),ao(n.g.h,e)}function tb(n,e,t){XC(n,e),0<t.length&&(n.i=null,n.g.set(Xd(n,e),U_(t)),n.h+=t.length)}function Xd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function nb(n){this.l=n||bO,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ea&&Wt.g.Ea()&&Wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=Ku.prototype).add=function(n,e){Cc(this),this.i=null,n=Xd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){Cc(this),this.g.forEach(function(t,r){hC(t,function(a){n.call(e,a,r,this)},this)},this)},It.T=function(){Cc(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],c=0;c<a.length;c++)t.push(e[r]);return t},It.R=function(n){Cc(this);var e=[];if("string"==typeof n)eb(this,n)&&(e=fC(e,this.g.get(Xd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=fC(e,n[t])}return e},It.set=function(n,e){return Cc(this),this.i=null,eb(this,n=Xd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var h=a;""!==r[c]&&(h+="="+encodeURIComponent(String(r[c]))),n.push(h)}}return this.i=n.join("&")};var bO=10;function rA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iA(n){return n.h?1:n.g?n.g.size:0}function rb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ib(n,e){n.g?n.g.add(e):n.h=e}function sA(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function oA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return U_(n.i)}function sb(){}function wO(){this.g=new sb}function EO(n,e,t){const r=t||"";try{Ja(n,function(a,c){let h=a;El(a)&&(h=H1(a)),e.push(r+c+"="+encodeURIComponent(h))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function oy(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(c){}}function Sg(n){this.l=n.$b||null,this.j=n.ib||!1}function ay(n,e){is.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ob,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nb.prototype.cancel=function(){if(this.i=oA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sb.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},sb.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Ci(Sg,Q_),Sg.prototype.g=function(){return new ay(this.l,this.j)},Sg.prototype.i=function(n){return function(){return n}}({}),Ci(ay,is);var ob=0;function aA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Og(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mg(n)}function Mg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=ay.prototype).open=function(n,e){if(this.readyState!=ob)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mg(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Og(this)),this.readyState=ob},It.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mg(this)),this.g&&(this.readyState=3,Mg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},It.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Og(this):Mg(this),3==this.readyState&&aA(this)}},It.Ua=function(n){this.g&&(this.response=this.responseText=n,Og(this))},It.Ta=function(n){this.g&&(this.response=n,Og(this))},It.ha=function(){this.g&&Og(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ay.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lA=Wt.JSON.parse;function Si(n){is.call(this),this.headers=new Vf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ab,this.K=this.L=!1}Ci(Si,is);var ab="",cA=/^https?$/i,uA=["POST","PUT"];function hA(n){return"content-type"==n.toLowerCase()}function lb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cb(n),Pg(n)}function cb(n){n.D||(n.D=!0,vs(n,"complete"),vs(n,"error"))}function ly(n){if(n.h&&void 0!==gg&&(!n.C[1]||4!=iu(n)||2!=n.ba()))if(n.v&&4==iu(n))z_(n.Fa,0,n);else if(vs(n,"readystatechange"),4==iu(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var a=String(n.H).match(Xa)[1]||null;if(!a&&Wt.self&&Wt.self.location){var c=Wt.self.location.protocol;a=c.substr(0,c.length-1)}r=!cA.test(a?a.toLowerCase():"")}t=r}if(t)vs(n,"complete"),vs(n,"success");else{n.m=6;try{var h=2<iu(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",cb(n)}}finally{Pg(n)}}}function Pg(n,e){if(n.g){Yu(n);const t=n.g,r=n.C[0]?Hu:null;n.g=null,n.C=null,e||vs(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function Yu(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function iu(n){return n.g?n.g.readyState:0}function fA(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ab:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return mC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zr(n,e,t))}function eh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function AO(n){this.za=0,this.l=[],this.h=new kf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eh("baseRetryDelayMs",5e3,n),this.$a=eh("retryDelaySeedMs",1e4,n),this.Ya=eh("forwardChannelMaxRetries",2,n),this.ra=eh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new nb(n&&n.concurrentRequestLimit),this.Ca=new wO,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function cy(n){if(IO(n),3==n.G){var e=n.V++,t=vc(n.F);Zr(t,"SID",n.J),Zr(t,"RID",e),Zr(t,"TYPE","terminate"),Qu(n,t),(e=new ci(n,n.h,e,void 0)).K=2,e.v=Wu(vc(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ig(e)}ub(n)}function Ng(n){n.g&&(ei(n),n.g.cancel(),n.g=null)}function IO(n){Ng(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),Rg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function Kt(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&uy(n)}function uy(n){rA(n.i)||n.m||(n.m=!0,Cg(n.Ha,n),n.C=0)}function gA(n,e){var t;t=e?e.m:n.V++;const r=vc(n.F);Zr(r,"SID",n.J),Zr(r,"RID",t),Zr(r,"AID",n.U),Qu(n,r),n.o&&n.s&&pA(r,n.o,n.s),t=new ci(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=mA(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ib(n.i,t),GC(t,r,e)}function Qu(n,e){n.j&&Ja({},function(t,r){Zr(e,r,t)})}function mA(n,e,t){t=Math.min(n.l.length,t);var r=n.j?vi(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=a[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let p=!0;for(let v=0;v<t;v++){let A=a[v].h;const M=a[v].g;if(A-=c,0>A)c=Math.max(0,a[v].h-100),p=!1;else try{EO(M,h,"req"+A+"_")}catch(N){r&&r(M)}}if(p){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function kg(n){n.g||n.u||(n.Y=1,Cg(n.Ga,n),n.A=0)}function qf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Rf(vi(n.Ga,n),_A(n,n.A)),n.A++,0))}function ei(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function xO(n){n.g=new ci(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=vc(n.oa);Zr(e,"RID","rpc"),Zr(e,"SID",n.J),Zr(e,"CI",n.N?"0":"1"),Zr(e,"AID",n.U),Qu(n,e),Zr(e,"TYPE","xmlhttp"),n.o&&n.s&&pA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Wu(vc(e)),t.s=null,t.U=!0,zC(t,n)}function Rg(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function dy(n,e){var t=null;if(n.g==e){Rg(n),ei(n),n.g=null;var r=2}else{if(!rb(n.i,e))return;t=e.D,sA(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;vs(r=Y_(),new VC(r,t,e,a)),uy(n)}else kg(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(iA(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Rf(vi(n.Ha,n,e),_A(n,n.C)),n.C++,0)))}(n,e)||2==r&&qf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Ju(n,5);break;case 4:Ju(n,10);break;case 3:Ju(n,6);break;default:Ju(n,2)}}function _A(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ju(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=vi(n.jb,n);t||(t=new zu("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||ry(t,"https"),Wu(t)),function(n,e){const t=new kf;if(Wt.Image){const r=new Image;r.onload=ru(oy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ru(oy,t,r,"TestLoadImage: error",!1,e),r.onabort=ru(oy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ru(oy,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else oo(2);n.G=0,n.j&&n.j.va(e),ub(n),IO(n)}function ub(n){n.G=0,n.I=-1,n.j&&((0!=oA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,U_(n.l),n.l.length=0),n.j.ua())}function db(n,e,t){let r=function(n){return n instanceof zu?vc(n):new zu(n,void 0)}(t);if(""!=r.i)e&&iy(r,e+"."+r.i),sy(r,r.m);else{const a=Wt.location;r=function(n,e,t,r){var a=new zu(null,void 0);return n&&ry(a,n),e&&iy(a,e),t&&sy(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&mC(n.aa,function(a,c){Zr(r,c,a)}),t=n.sa,(e=n.D)&&t&&Zr(r,e,t),Zr(r,"VER",n.ma),Qu(n,r),r}function hb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Si(t&&n.Ba&&!n.qa?new Sg({ib:!0}):n.qa)).L=n.H,e}function yA(){}function hy(){if(Mf&&!(10<=Number(wC)))throw Error("Environmental error: no available transport.")}function Ta(n,e){is.call(this),this.g=new AO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!mg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Bf(this)}function jf(n){jC.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vA(){BC.call(this),this.status=1}function Bf(n){this.g=n}(It=Si.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():X_.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:X_),this.g.onreadystatechange=vi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void lb(this,c)}n=t||"";const a=new Vf(this.headers);r&&Ja(r,function(c,h){a.set(h,c)}),r=function(n){e:{var e=hA;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=Wt.FormData&&n instanceof Wt.FormData,!(0<=Kd(uA,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yu(this),0<this.B&&((this.K=function(n){return Mf&&rR()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.pa,this)):this.A=z_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){lb(this,c)}},It.pa=function(){void 0!==gg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vs(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vs(this,"complete"),vs(this,"abort"),Pg(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pg(this,!0)),Si.Z.M.call(this)},It.Fa=function(){this.s||(this.F||this.v||this.l?ly(this):this.cb())},It.cb=function(){ly(this)},It.ba=function(){try{return 2<iu(this)?this.g.status:-1}catch(n){return-1}},It.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},It.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lA(e)}},It.Da=function(){return this.m},It.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=AO.prototype).ma=8,It.G=1,It.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},It.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new ci(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=_C(c),P1(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mA(this,a,e),Zr(t=vc(this.F),"RID",n),Zr(t,"CVER",22),this.D&&Zr(t,"X-HTTP-Session-Id",this.D),Qu(this,t),this.o&&c&&pA(t,this.o,c),ib(this.i,a),this.Ra&&Zr(t,"TYPE","init"),this.ja?(Zr(t,"$req",e),Zr(t,"SID","null"),a.$=!0,GC(a,t,null)):GC(a,t,e),this.G=2}}else 3==this.G&&(n?gA(this,n):0==this.l.length||rA(this.i)||gA(this))},It.Ga=function(){if(this.u=null,xO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Rf(vi(this.bb,this),n)}},It.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,oo(10),Ng(this),xO(this))},It.ab=function(){null!=this.v&&(this.v=null,Ng(this),qf(this),oo(19))},It.jb=function(n){n?(this.h.info("Successfully pinged google.com"),oo(2)):(this.h.info("Failed to ping google.com"),oo(1))},(It=yA.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Oa=function(){},hy.prototype.g=function(n,e){return new Ta(n,e)},Ci(Ta,is),Ta.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Cg(vi(n.hb,n,e))),oo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=db(n,null,n.W),uy(n)},Ta.prototype.close=function(){cy(this.g)},Ta.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Kt(this.g,e)}else this.v?((e={}).__data__=H1(n),Kt(this.g,e)):Kt(this.g,n)},Ta.prototype.M=function(){this.g.j=null,delete this.j,cy(this.g),delete this.g,Ta.Z.M.call(this)},Ci(jf,jC),Ci(vA,BC),Ci(Bf,yA),Bf.prototype.xa=function(){vs(this.g,"a")},Bf.prototype.wa=function(n){vs(this.g,new jf(n))},Bf.prototype.va=function(n){vs(this.g,new vA(n))},Bf.prototype.ua=function(){vs(this.g,"b")},hy.prototype.createWebChannel=hy.prototype.g,Ta.prototype.send=Ta.prototype.u,Ta.prototype.open=Ta.prototype.m,Ta.prototype.close=Ta.prototype.close,Tg.NO_ERROR=0,Tg.TIMEOUT=8,Tg.HTTP_ERROR=6,UC.COMPLETE="complete",qC.EventType=J_,J_.OPEN="a",J_.CLOSE="b",J_.ERROR="c",J_.MESSAGE="d",is.prototype.listen=is.prototype.N,Si.prototype.listenOnce=Si.prototype.O,Si.prototype.getLastError=Si.prototype.La,Si.prototype.getLastErrorCode=Si.prototype.Da,Si.prototype.getStatus=Si.prototype.ba,Si.prototype.getResponseJson=Si.prototype.Qa,Si.prototype.getResponseText=Si.prototype.ga,Si.prototype.send=Si.prototype.ea;var SO=nu.createWebChannelTransport=function(){return new hy},fy=nu.getStatEventTarget=function(){return Y_()},py=nu.ErrorCode=Tg,CA=nu.EventType=UC,bA=nu.Event=Gu,wA=nu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Lg=nu.FetchXmlHttpFactory=Sg,Xu=nu.WebChannel=qC,OO=nu.XhrIo=Si;const EA="@firebase/firestore";class qs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qs.UNAUTHENTICATED=new qs(null),qs.GOOGLE_CREDENTIALS=new qs("google-credentials-uid"),qs.FIRST_PARTY=new qs("first-party-uid"),qs.MOCK_USER=new qs("mock-user");let th="9.5.0";const su=new Qa.Yd("@firebase/firestore");function gy(){return su.logLevel}function ut(n,...e){if(su.logLevel<=Qa.in.DEBUG){const t=e.map(TA);su.debug(`Firestore (${th}): ${n}`,...t)}}function qi(n,...e){if(su.logLevel<=Qa.in.ERROR){const t=e.map(TA);su.error(`Firestore (${th}): ${n}`,...t)}}function Fg(n,...e){if(su.logLevel<=Qa.in.WARN){const t=e.map(TA);su.warn(`Firestore (${th}): ${n}`,...t)}}function TA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Zt(n="Unexpected state"){const e=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: `+n;throw qi(e),new Error(e)}function fn(n,e){n||Zt()}function pt(n,e){return n}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fb{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Vg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qs.UNAUTHENTICATED))}shutdown(){}}class PO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NO{constructor(e){this.t=e,this.currentUser=qs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const c=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let h=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cs,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const A=h;e.enqueueRetryable((0,$e.Z)(function*(){yield A.promise,yield c(r.currentUser)}))},v=A=>{ut("FirebaseCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(A=>v(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?v(A):(ut("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cs)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ut("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fn("string"==typeof r.accessToken),new fb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fn(null===e||"string"==typeof e),new qs(e)}}class kO{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=qs.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class RO{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new kO(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Aa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function AA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Aa.T=-1;class IA{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=AA(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%e.length))}return r}}function Kn(n,e){return n<e?-1:n>e?1:0}function Al(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function DA(n){return n+"\0"}class ss{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ss.fromMillis(Date.now())}static fromDate(e){return ss.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ss(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class An{constructor(e){this.timestamp=e}static fromTimestamp(e){return new An(e)}static min(){return new An(new ss(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ug{constructor(e,t,r){void 0===t?t=0:t>e.length&&Zt(),void 0===r?r=e.length-t:r>e.length-t&&Zt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ug.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ug?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends Ug{construct(e,t,r){return new pr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const LO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bs extends Ug{construct(e,t,r){return new bs(e,t,r)}static isValidIdentifier(e){return LO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bs(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(0===r.length)throw new rt(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const p=e[a];if("\\"===p){if(a+1===e.length)throw new rt(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new rt(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,a+=2}else"`"===p?(h=!h,a++):"."!==p||h?(r+=p,a++):(c(),a++)}if(c(),h)throw new rt(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bs(t)}static emptyPath(){return new bs([])}}class rh{constructor(e){this.fields=e,e.sort(bs.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ws{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ws(t)}static fromUint8Array(e){const t=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new ws(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ws.EMPTY_BYTE_STRING=new ws("");const VO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bc(n){if(fn(!!n),"string"==typeof n){let e=0;const t=VO.exec(n);if(fn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ji(n.seconds),nanos:ji(n.nanos)}}function ji(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ih(n){return"string"==typeof n?ws.fromBase64String(n):ws.fromUint8Array(n)}function mb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xA(n){const e=n.mapValue.fields.__previous_value__;return mb(e)?xA(e):e}function Zg(n){const e=bc(n.mapValue.fields.__local_write_time__.timestampValue);return new ss(e.seconds,e.nanos)}function sh(n){return null==n}function my(n){return 0===n&&1/n==-1/0}function SA(n){return"number"==typeof n&&Number.isInteger(n)&&!my(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(pr.fromString(e))}static fromName(e){return new Rt(pr.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new pr(e.slice()))}}function oh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mb(n)?4:10:Zt()}function Il(n,e){const t=oh(n);if(t!==oh(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zg(n).isEqual(Zg(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=bc(r.timestampValue),h=bc(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,ih(n.bytesValue).isEqual(ih(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return ji(r.geoPointValue.latitude)===ji(a.geoPointValue.latitude)&&ji(r.geoPointValue.longitude)===ji(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return ji(r.integerValue)===ji(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=ji(r.doubleValue),h=ji(a.doubleValue);return c===h?my(c)===my(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Al(n.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:return function(r,a){const c=r.mapValue.fields||{},h=a.mapValue.fields||{};if(pb(c)!==pb(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===h[p]||!Il(c[p],h[p])))return!1;return!0}(n,e);default:return Zt()}var a}function Hf(n,e){return void 0!==(n.values||[]).find(t=>Il(t,e))}function $f(n,e){const t=oh(n),r=oh(e);if(t!==r)return Kn(t,r);switch(t){case 0:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=ji(a.integerValue||a.doubleValue),p=ji(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return OA(n.timestampValue,e.timestampValue);case 4:return OA(Zg(n),Zg(e));case 5:return Kn(n.stringValue,e.stringValue);case 6:return function(a,c){const h=ih(a),p=ih(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let v=0;v<h.length&&v<p.length;v++){const A=Kn(h[v],p[v]);if(0!==A)return A}return Kn(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Kn(ji(a.latitude),ji(c.latitude));return 0!==h?h:Kn(ji(a.longitude),ji(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const h=a.values||[],p=c.values||[];for(let v=0;v<h.length&&v<p.length;++v){const A=$f(h[v],p[v]);if(A)return A}return Kn(h.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){const h=a.fields||{},p=Object.keys(h),v=c.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let M=0;M<p.length&&M<A.length;++M){const N=Kn(p[M],A[M]);if(0!==N)return N;const B=$f(h[p[M]],v[A[M]]);if(0!==B)return B}return Kn(p.length,A.length)}(n.mapValue,e.mapValue);default:throw Zt()}}function OA(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kn(n,e);const t=bc(n),r=bc(e),a=Kn(t.seconds,r.seconds);return 0!==a?a:Kn(t.nanos,r.nanos)}function _y(n){return _b(n)}function _b(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=bc(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ih(n.bytesValue).toBase64():"referenceValue"in n?Rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",c=!0;for(const h of r.values||[])c?c=!1:a+=",",a+=_b(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const p of a)h?h=!1:c+=",",c+=`${p}:${_b(r.fields[p])}`;return c+"}"}(n.mapValue):Zt();var e}function yy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yb(n){return!!n&&"integerValue"in n}function qg(n){return!!n&&"arrayValue"in n}function vy(n){return!!n&&"nullValue"in n}function vb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function jg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=jg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jg(n.arrayValue.values[t]);return e}return Object.assign({},n)}class lo{constructor(e){this.value=e}static empty(){return new lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jg(t)}setAll(e){let t=bs.emptyPath(),r={},a=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,a),r={},a=[],t=p.popLast()}h?r[p.lastSegment()]=jg(h):a.push(p.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Gf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){nh(t,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new lo(jg(this.value))}}function Cy(n){const e=[];return nh(n.fields,(t,r)=>{const a=new bs([t]);if(Gf(r)){const c=Cy(r.mapValue).fields;if(0===c.length)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new rh(e)}class ti{constructor(e,t,r,a,c){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new ti(e,0,An.min(),lo.empty(),0)}static newFoundDocument(e,t,r){return new ti(e,1,t,r,0)}static newNoDocument(e,t){return new ti(e,2,t,lo.empty(),0)}static newUnknownDocument(e,t){return new ti(e,3,t,lo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new ti(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class MA{constructor(e,t=null,r=[],a=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=h,this.endAt=p,this.A=null}}function PA(n,e=null,t=[],r=[],a=null,c=null,h=null){return new MA(n,e,t,r,a,c,h)}function zf(n){const e=pt(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+_y(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Hg(e.startAt)),e.endAt&&(t+="|ub:",t+=Hg(e.endAt)),e.A=t}return e.A}function Bg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!wy(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!Il(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LA(n.startAt,e.startAt)&&LA(n.endAt,e.endAt)}function Cb(n){return Rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class xo extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new oR(e,t,r):"array-contains"===t?new Kf(e,r):"in"===t?new UO(e,r):"not-in"===t?new aR(e,r):"array-contains-any"===t?new ZO(e,r):new xo(e,t,r)}static R(e,t,r){return"in"===t?new bb(e,r):new by(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P($f(t,this.value)):null!==t&&oh(this.value)===oh(t)&&this.P($f(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class oR extends xo{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.P(t)}}class bb extends xo{constructor(e,t){super(e,"in",t),this.keys=kA(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class by extends xo{constructor(e,t){super(e,"not-in",t),this.keys=kA(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kA(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Rt.fromName(r.referenceValue))}class Kf extends xo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qg(t)&&Hf(t.arrayValue,this.value)}}class UO extends xo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hf(this.value.arrayValue,t)}}class aR extends xo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hf(this.value.arrayValue,t)}}class ZO extends xo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hf(this.value.arrayValue,r))}}class ea{constructor(e,t){this.position=e,this.before=t}}function Hg(n){return`${n.before?"b":"a"}:${n.position.map(e=>_y(e)).join(",")}`}class $g{constructor(e,t="asc"){this.field=e,this.dir=t}}function wy(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function RA(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const c=e[a],h=n.position[a];if(r=c.field.isKeyField()?Rt.comparator(Rt.fromName(h.referenceValue),t.key):$f(h,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function LA(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Il(n.position[t],e.position[t]))return!1;return!0}class ed{constructor(e,t=null,r=[],a=[],c=null,h="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=v,this.V=null,this.S=null}}function FA(n,e,t,r,a,c,h,p){return new ed(n,e,t,r,a,c,h,p)}function Yf(n){return new ed(n)}function Ey(n){return!sh(n.limit)&&"F"===n.limitType}function Qf(n){return!sh(n.limit)&&"L"===n.limitType}function Ty(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Gg(n){for(const e of n.filters)if(e.v())return e.field;return null}function Ay(n){return null!==n.collectionGroup}function Jf(n){const e=pt(n);if(null===e.V){e.V=[];const t=Gg(e),r=Ty(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new $g(t)),e.V.push(new $g(bs.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.V.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new $g(bs.keyField(),c))}}}return e.V}function Dl(n){const e=pt(n);if(!e.S)if("F"===e.limitType)e.S=PA(e.path,e.collectionGroup,Jf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Jf(e))t.push(new $g(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new ea(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ea(e.startAt.position,!e.startAt.before):null;e.S=PA(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.S}function VA(n,e,t){return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zg(n,e){return Bg(Dl(n),Dl(e))&&n.limitType===e.limitType}function UA(n){return`${zf(Dl(n))}|lt:${n.limitType}`}function Iy(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${_y(r.value)}`;var r}).join(", ")}]`),sh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Hg(n.startAt)),n.endAt&&(e+=", endAt: "+Hg(n.endAt)),`Target(${e})`}(Dl(n))}; limitType=${n.limitType})`}function Xf(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Rt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!RA(t.startAt,Jf(t),r)||t.endAt&&RA(t.endAt,Jf(t),r)));var t,r}function wb(n){return(e,t)=>{let r=!1;for(const a of Jf(n)){const c=qO(a,e,t);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function qO(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),v=h.data.field(a);return null!==p&&null!==v?$f(p,v):Zt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Zt()}}function ZA(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function Eb(n){return{integerValue:""+n}}function Wg(n,e){return SA(e)?Eb(e):ZA(n,e)}class Dy{constructor(){this._=void 0}}function qA(n,e,t){return n instanceof wc?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof ah?jA(n,e):n instanceof ep?BA(n,e):function(r,a){const c=Kg(r,a),h=HA(c)+HA(r.C);return yb(c)&&yb(r.C)?Eb(h):ZA(r.N,h)}(n,e)}function xy(n,e,t){return n instanceof ah?jA(n,e):n instanceof ep?BA(n,e):t}function Kg(n,e){return n instanceof tp?yb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class wc extends Dy{}class ah extends Dy{constructor(e){super(),this.elements=e}}function jA(n,e){const t=$A(e);for(const r of n.elements)t.some(a=>Il(a,r))||t.push(r);return{arrayValue:{values:t}}}class ep extends Dy{constructor(e){super(),this.elements=e}}function BA(n,e){let t=$A(e);for(const r of n.elements)t=t.filter(a=>!Il(a,r));return{arrayValue:{values:t}}}class tp extends Dy{constructor(e,t){super(),this.N=e,this.C=t}}function HA(n){return ji(n.integerValue||n.doubleValue)}function $A(n){return qg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yg{constructor(e,t){this.field=e,this.transform=t}}class BO{constructor(e,t){this.version=e,this.transformResults=t}}class Bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tb{}function HO(n,e,t){n instanceof td?function(r,a,c){const h=r.value.clone(),p=WA(r.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ta?function(r,a,c){if(!Sy(r.precondition,a))return void a.convertToUnknownDocument(c.version);const h=WA(r.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(Ab(r)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lh(n,e,t){var a;n instanceof td?function(r,a,c){if(!Sy(r.precondition,a))return;const h=r.value.clone(),p=GO(r.fieldTransforms,c,a);h.setAll(p),a.convertToFoundDocument(zA(a),h).setHasLocalMutations()}(n,e,t):n instanceof ta?function(r,a,c){if(!Sy(r.precondition,a))return;const h=GO(r.fieldTransforms,c,a),p=a.data;p.setAll(Ab(r)),p.setAll(h),a.convertToFoundDocument(zA(a),p).setHasLocalMutations()}(n,e,t):Sy(n.precondition,a=e)&&a.convertToNoDocument(An.min())}function $O(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),c=Kg(r.transform,a||null);null!=c&&(null==t&&(t=lo.empty()),t.set(r.field,c))}return t||null}function GA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Al(t,r,(a,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ah&&r instanceof ah||t instanceof ep&&r instanceof ep?Al(t.elements,r.elements,Il):t instanceof tp&&r instanceof tp?Il(t.C,r.C):t instanceof wc&&r instanceof wc);var t,r}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function zA(n){return n.isFoundDocument()?n.version:An.min()}class td extends Tb{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class ta extends Tb{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}}function Ab(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function WA(n,e,t){const r=new Map;fn(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],h=c.transform,p=e.data.field(c.field);r.set(c.field,xy(h,p,t[a]))}return r}function GO(n,e,t){const r=new Map;for(const a of n){const c=a.transform,h=t.data.field(a.field);r.set(a.field,qA(c,h,e))}return r}class Qg extends Tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class np extends Tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class zO{constructor(e){this.count=e}}var Hi,ar;function Ib(n){switch(n){default:return Zt();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function Oy(n){if(void 0===n)return qi("GRPC error has no .code"),Le.UNKNOWN;switch(n){case Hi.OK:return Le.OK;case Hi.CANCELLED:return Le.CANCELLED;case Hi.UNKNOWN:return Le.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return Le.INTERNAL;case Hi.UNAVAILABLE:return Le.UNAVAILABLE;case Hi.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Hi.NOT_FOUND:return Le.NOT_FOUND;case Hi.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Hi.ABORTED:return Le.ABORTED;case Hi.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Hi.DATA_LOSS:return Le.DATA_LOSS;default:return Zt()}}(ar=Hi||(Hi={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";class $i{constructor(e,t){this.comparator=e,this.root=t||js.EMPTY}insert(e,t){return new $i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,js.BLACK,null,null))}remove(e){return new $i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jg(this.root,e,this.comparator,!0)}}class Jg{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class js{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=null!=r?r:js.RED,this.left=null!=a?a:js.EMPTY,this.right=null!=c?c:js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new js(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return js.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Zt();const e=this.left.check();if(e!==this.right.check())throw Zt();return e+(this.isRed()?0:1)}}js.EMPTY=null,js.RED=!0,js.BLACK=!1,js.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt()}get value(){throw Zt()}get color(){throw Zt()}get left(){throw Zt()}get right(){throw Zt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new js(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bi{constructor(e){this.comparator=e,this.data=new $i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(e){return new Db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bi(this.comparator);return t.data=e,t}}class Db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const WO=new $i(Rt.comparator);function Ia(){return WO}const My=new $i(Rt.comparator);function rp(){return My}const lR=new $i(Rt.comparator);function ip(){return lR}const br=new bi(Rt.comparator);function Yn(...n){let e=br;for(const t of n)e=e.add(t);return e}const sp=new bi(Kn);function nd(){return sp}class Py{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,an.createSynthesizedTargetChangeForCurrentChange(e,t)),new Py(An.min(),r,nd(),Ia(),Yn())}}class an{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new an(ws.EMPTY_BYTE_STRING,t,Yn(),Yn(),Yn())}}class So{constructor(e,t,r,a){this.k=e,this.removedTargetIds=t,this.key=r,this.$=a}}class Ny{constructor(e,t){this.targetId=e,this.O=t}}class rd{constructor(e,t,r=ws.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class KO{constructor(){this.F=0,this.M=YO(),this.L=ws.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Yn(),t=Yn(),r=Yn();return this.M.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Zt()}}),new an(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=YO()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class KA{constructor(e){this.tt=e,this.et=new Map,this.nt=Ia(),this.st=xb(),this.it=new bi(Kn)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:Zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,r=e.O.count,a=this.dt(t);if(a){const c=a.target;if(Cb(c))if(0===r){const h=new Rt(c.path);this.ct(t,h,ti.newNoDocument(h,An.min()))}else fn(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((c,h)=>{const p=this.dt(h);if(p){if(c.current&&Cb(p.target)){const v=new Rt(p.target.path);null!==this.nt.get(v)||this.gt(h,v)||this.ct(h,v,ti.newNoDocument(v,e))}c.K&&(t.set(h,c.W()),c.G())}});let r=Yn();this.st.forEach((c,h)=>{let p=!0;h.forEachWhile(v=>{const A=this.dt(v);return!A||2===A.purpose||(p=!1,!1)}),p&&(r=r.add(c))});const a=new Py(e,t,this.it,this.nt,r);return this.nt=Ia(),this.st=xb(),this.it=new bi(Kn),a}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new KO,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new bi(Kn),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||ut("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new KO),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function xb(){return new $i(Rt.comparator)}function YO(){return new $i(Rt.comparator)}const QO={asc:"ASCENDING",desc:"DESCENDING"},JO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class el{constructor(e,t){this.databaseId=e,this.D=t}}function Rr(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tl(n,e){return n.D?e.toBase64():e.toUint8Array()}function YA(n,e){return Rr(n,e.toTimestamp())}function Es(n){return fn(!!n),An.fromTimestamp(function(e){const t=bc(e);return new ss(t.seconds,t.nanos)}(n))}function ky(n,e){return(t=n,new pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ry(n){const e=pr.fromString(n);return fn(eI(e)),e}function Ec(n,e){return ky(n.databaseId,e.path)}function na(n,e){const t=Ry(e);if(t.get(1)!==n.databaseId.projectId)throw new rt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new rt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(Ob(t))}function Sb(n,e){return ky(n.databaseId,e)}function id(n){const e=Ry(n);return 4===e.length?pr.emptyPath():Ob(e)}function Xg(n){return new pr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ob(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ly(n,e,t){return{name:Ec(n,e),fields:t.value.mapValue.fields}}function op(n,e,t){const r=na(n,e.name),a=Es(e.updateTime),c=new lo({mapValue:{fields:e.fields}}),h=ti.newFoundDocument(r,a,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function ou(n,e){let t;if(e instanceof td)t={update:Ly(n,e.key,e.value)};else if(e instanceof Qg)t={delete:Ec(n,e.key)};else if(e instanceof ta)t={update:Ly(n,e.key,e.data),updateMask:eM(e.fieldMask)};else{if(!(e instanceof np))return Zt();t={verify:Ec(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const h=c.transform;if(h instanceof wc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ah)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ep)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tp)return{fieldPath:c.field.canonicalString(),increment:h.C};throw Zt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:YA(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Zt()),t;var a}function JA(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Bi.updateTime(Es(a.updateTime)):void 0!==a.exists?Bi.exists(a.exists):Bi.none():Bi.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,h){let p=null;"setToServerValue"in h?(fn("REQUEST_TIME"===h.setToServerValue),p=new wc):"appendMissingElements"in h?p=new ah(h.appendMissingElements.values||[]):"removeAllFromArray"in h?p=new ep(h.removeAllFromArray.values||[]):"increment"in h?p=new tp(c,h.increment):Zt();const v=bs.fromServerFormat(h.fieldPath);return new Yg(v,p)}(n,a)):[];var a;if(e.update){const a=na(n,e.update.name),c=new lo({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new rh((e.updateMask.fieldPaths||[]).map(A=>bs.fromServerFormat(A)));return new ta(a,c,h,t,r)}return new td(a,c,t,r)}if(e.delete){const a=na(n,e.delete);return new Qg(a,t)}if(e.verify){const a=na(n,e.verify);return new np(a,t)}return Zt()}function Pb(n,e){return{documents:[Sb(n,e.path)]}}function Nb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Sb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Sb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(p){if(0===p.length)return;const v=p.map(A=>function(M){if("=="===M.op){if(vb(M.value))return{unaryFilter:{field:tn(M.field),op:"IS_NAN"}};if(vy(M.value))return{unaryFilter:{field:tn(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(vb(M.value))return{unaryFilter:{field:tn(M.field),op:"IS_NOT_NAN"}};if(vy(M.value))return{unaryFilter:{field:tn(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tn(M.field),op:uR(M.op),value:M.value}}}(A));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(p){if(0!==p.length)return p.map(v=>{return{field:tn((A=v).field),direction:cR(A.dir)};var A})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(v=e.limit,n.D||sh(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=Uy(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Uy(e.endAt)),t}function kb(n){let e=id(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){fn(1===r);const M=t.from[0];M.allDescendants?a=M.collectionId:e=e.child(M.collectionId)}let c=[];t.where&&(c=XA(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(M=>{return new $g(em((N=M).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let p=null;t.limit&&(p=function(M){let N;return N="object"==typeof M?M.value:M,sh(N)?null:N}(t.limit));let v=null;t.startAt&&(v=Zy(t.startAt));let A=null;return t.endAt&&(A=Zy(t.endAt)),FA(e,a,h,c,p,"F",v,A)}function XA(n){return n?void 0!==n.unaryFilter?[XO(n)]:void 0!==n.fieldFilter?[tm(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>XA(e)).reduce((e,t)=>e.concat(t)):Zt():[]}function Uy(n){return{before:n.before,values:n.position}}function Zy(n){return new ea(n.values||[],!!n.before)}function cR(n){return QO[n]}function uR(n){return JO[n]}function tn(n){return{fieldPath:n.canonicalString()}}function em(n){return bs.fromServerFormat(n.fieldPath)}function tm(n){return xo.create(em(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zt()}}(n.fieldFilter.op),n.fieldFilter.value)}function XO(n){switch(n.unaryFilter.op){case"IS_NAN":const e=em(n.unaryFilter.field);return xo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=em(n.unaryFilter.field);return xo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=em(n.unaryFilter.field);return xo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=em(n.unaryFilter.field);return xo.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Zt()}}function eM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Tc(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tI(e)),e=dR(n.get(t),e);return tI(e)}function dR(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function tI(n){return n+"\x01\x01"}function ni(n){const e=n.length;if(fn(e>=2),2===e)return fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pr.emptyPath();const t=e-2,r=[];let a="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&Zt(),n.charAt(h+1)){case"\x01":const p=n.substring(c,h);let v;0===a.length?v=p:(a+=p,v=a,a=""),r.push(v);break;case"\x10":a+=n.substring(c,h),a+="\0";break;case"\x11":a+=n.substring(c,h+1);break;default:Zt()}c=h+2}return new pr(r)}class tM{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Da{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Da.store="owner",Da.key="owner";class Ac{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Ac.store="mutationQueues",Ac.keyPath="userId";class Wr{constructor(e,t,r,a,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=c}}Wr.store="mutations",Wr.keyPath="batchId",Wr.userMutationsIndex="userMutationsIndex",Wr.userMutationsKeyPath=["userId","batchId"];class co{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Tc(t)]}static key(e,t,r){return[e,Tc(t),r]}}co.store="documentMutations",co.PLACEHOLDER=new co;class nM{constructor(e,t){this.path=e,this.readTime=t}}class rM{constructor(e,t){this.path=e,this.version=t}}class wi{constructor(e,t,r,a,c,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=h}}wi.store="remoteDocuments",wi.readTimeIndex="readTimeIndex",wi.readTimeIndexPath="readTime",wi.collectionReadTimeIndex="collectionReadTimeIndex",wi.collectionReadTimeIndexPath=["parentPath","readTime"];class Ic{constructor(e){this.byteSize=e}}Ic.store="remoteDocumentGlobal",Ic.key="remoteDocumentGlobalKey";class uo{constructor(e,t,r,a,c,h,p){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=p}}uo.store="targets",uo.keyPath="targetId",uo.queryTargetsIndexName="queryTargetsIndex",uo.queryTargetsKeyPath=["canonicalId","targetId"];class Bs{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Bs.store="targetDocuments",Bs.keyPath=["targetId","path"],Bs.documentTargetsIndex="documentTargetsIndex",Bs.documentTargetsKeyPath=["path","targetId"];class xa{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}xa.key="targetGlobalKey",xa.store="targetGlobal";class sd{constructor(e,t){this.collectionId=e,this.parent=t}}sd.store="collectionParents",sd.keyPath=["collectionId","parent"];class xl{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}xl.store="clientMetadata",xl.keyPath="clientId";class ap{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}ap.store="bundles",ap.keyPath="bundleId";class nm{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}nm.store="namedQueries",nm.keyPath="name";const iM=[Ac.store,Wr.store,co.store,wi.store,uo.store,Da.store,xa.store,Bs.store,xl.store,Ic.store,sd.store,ap.store,nm.store],nI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,r)=>{t(e)})}static reject(e){return new tt((t,r)=>{r(e)})}static waitFor(e){return new tt((t,r)=>{let a=0,c=0,h=!1;e.forEach(p=>{++a,p.next(()=>{++c,h&&c===a&&t()},v=>r(v))}),h=!0,c===a&&t()})}static or(e){let t=tt.resolve(!1);for(const r of e)t=t.next(a=>a?tt.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,c)=>{r.push(t.call(this,a,c))}),this.waitFor(r)}}class qy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Cs,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new im(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const a=jy(r.target.error);this.Et.reject(new im(e,a))}}static open(e,t,r,a){try{return new qy(t,e.transaction(a,r))}catch(c){throw new im(t,c)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new iI(t)}}class Sl{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===Sl.Rt((0,$.z$)())&&qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ut("SimpleDb","Removing database:",e),Ol(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,$.hl)())return!1;if(Sl.Pt())return!0;const e=(0,$.z$)(),t=Sl.Rt(e),r=0<t&&t<10,a=Sl.vt(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,$e.Z)(function*(){return t.db||(ut("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{a(new im(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const p=h.target.error;a("VersionError"===p.name?new rt(Le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new rt(Le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new im(e,p))},c.onupgradeneeded=h=>{ut("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{ut("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var c=this;return(0,$e.Z)(function*(){const h="readonly"===t;let p=0;for(;;){++p;try{c.db=yield c.Dt(e);const v=qy.open(c.db,e,h?"readonly":"readwrite",r),A=a(v).catch(M=>(v.abort(M),tt.reject(M))).toPromise();return A.catch(()=>{}),yield v.It,A}catch(v){const A="FirebaseError"!==v.name&&p<3;if(ut("SimpleDb","Transaction failed with error:",v.message,"Retrying:",A),c.close(),!A)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rm{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Ol(this.kt.delete())}}class im extends rt{constructor(e,t){super(Le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ch(n){return"IndexedDbTransactionError"===n.name}class iI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ut("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ol(r)}add(e){return ut("SimpleDb","ADD",this.store.name,e,e),Ol(this.store.add(e))}get(e){return Ol(this.store.get(e)).next(t=>(void 0===t&&(t=null),ut("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ut("SimpleDb","DELETE",this.store.name,e),Ol(this.store.delete(e))}count(){return ut("SimpleDb","COUNT",this.store.name),Ol(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Bt(r,(c,h)=>{a.push(h)}).next(()=>a)}Ut(e,t){ut("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const a=this.cursor(r);return this.Bt(a,(c,h,p)=>p.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new tt((r,a)=>{t.onerror=c=>{const h=jy(c.target.error);a(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(p=>{p?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new tt((a,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const p=h.target.result;if(!p)return void a();const v=new rm(p),A=t(p.primaryKey,p.value,v);if(A instanceof tt){const M=A.catch(N=>(v.done(),tt.reject(N)));r.push(M)}v.isDone?a():null===v.Ft?p.continue():p.continue(v.Ft)}}).next(()=>tt.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ol(n){return new tt((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=jy(r.target.error);t(a)}})}let sM=!1;function jy(n){const e=Sl.Rt((0,$.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sM||(sM=!0,setTimeout(()=>{throw r},0)),r}}return n}class sI extends rI{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ra(n,e){const t=pt(n);return Sl.St(t.Qt,e)}class Rb{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&HO(c,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&lh(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&lh(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(An.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yn())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,(t,r)=>GA(t,r))&&Al(this.baseMutations,e.baseMutations,(t,r)=>GA(t,r))}}class Lb{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){fn(e.mutations.length===r.length);let a=ip();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,r[h].version);return new Lb(e,t,r,a)}}class od{constructor(e,t,r,a,c=An.min(),h=An.min(),p=ws.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p}withSequenceNumber(e){return new od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Fb{constructor(e){this.Wt=e}}function Vb(n,e){if(e.document)return op(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Rt.fromSegments(e.noDocument.path),r=ad(e.noDocument.readTime),a=ti.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Rt.fromSegments(e.unknownDocument.path),r=ad(e.unknownDocument.version);return ti.newUnknownDocument(t,r)}return Zt()}function oI(n,e,t){const r=aI(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:Ec(p=n.Wt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Rr(p,v.version.toTimestamp())};return new wi(null,null,c,e.hasCommittedMutations,r,a)}var p,v;if(e.isNoDocument()){const c=e.key.path.toArray(),h=sm(e.version),p=e.hasCommittedMutations;return new wi(null,new nM(c,h),null,p,r,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=sm(e.version);return new wi(new rM(c,h),null,null,!0,r,a)}return Zt()}function aI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function oM(n){const e=new ss(n[0],n[1]);return An.fromTimestamp(e)}function sm(n){const e=n.toTimestamp();return new tM(e.seconds,e.nanoseconds)}function ad(n){const e=new ss(n.seconds,n.nanoseconds);return An.fromTimestamp(e)}function lp(n,e){const t=(e.baseMutations||[]).map(c=>JA(n.Wt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>JA(n.Wt,c)),a=ss.fromMillis(e.localWriteTimeMs);return new Rb(e.batchId,a,t,r)}function om(n){const e=ad(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ad(n.lastLimboFreeSnapshotVersion):An.min();let r;var a;return void 0!==n.query.documents?(fn(1===(a=n.query).documents.length),r=Dl(Yf(id(a.documents[0])))):r=Dl(kb(n.query)),new od(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ws.fromBase64String(n.resumeToken))}function lI(n,e){const t=sm(e.snapshotVersion),r=sm(e.lastLimboFreeSnapshotVersion);let a;a=Cb(e.target)?Pb(n.Wt,e.target):Nb(n.Wt,e.target);const c=e.resumeToken.toBase64();return new uo(e.targetId,zf(e.target),t,c,e.sequenceNumber,r,a)}function Ub(n){const e=kb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?VA(e,e.limit,"L"):e}class aM{getBundleMetadata(e,t){return cI(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:ad(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return cI(e).put({bundleId:(r=t).id,createTime:sm(Es(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Zb(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:Ub(a.bundledQuery),readTime:ad(a.readTime)};var a})}saveNamedQuery(e,t){return Zb(e).put({name:(r=t).name,readTime:sm(Es(r.readTime)),bundledQuery:r.bundledQuery});var r}}function cI(n){return ra(n,ap.store)}function Zb(n){return ra(n,nm.store)}class qb{constructor(){this.Gt=new jb}addToCollectionParentIndex(e,t){return this.Gt.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.Gt.getEntries(t))}}class jb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new bi(pr.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new bi(pr.comparator)).toArray()}}class cp{constructor(){this.zt=new jb}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const c={collectionId:r,parent:Tc(a)};return Hs(e).put(c)}return tt.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[DA(t),""],!1,!0);return Hs(e).Lt(a).next(c=>{for(const h of c){if(h.collectionId!==t)break;r.push(ni(h.parent))}return r})}}function Hs(n){return ra(n,sd.store)}const Bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function By(n,e,t){const r=n.store(Wr.store),a=n.store(co.store),c=[],h=IDBKeyRange.only(t.batchId);let p=0;const v=r.Kt({range:h},(M,N,B)=>(p++,B.delete()));c.push(v.next(()=>{fn(1===p)}));const A=[];for(const M of t.mutations){const N=co.key(e,M.key.path,t.batchId);c.push(a.delete(N)),A.push(M.key)}return tt.waitFor(c).next(()=>A)}function Hy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Zt();e=n.noDocument}return JSON.stringify(e).length}ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(41943040,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);class $y{constructor(e,t,r,a){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,r,a){fn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new $y(c,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return au(e).Kt({index:Wr.userMutationsIndex,range:r},(a,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const c=up(e),h=au(e);return h.add({}).next(p=>{fn("number"==typeof p);const v=new Rb(p,t,r,a),A=function(B,Y,de){const je=de.baseMutations.map(vt=>ou(B.Wt,vt)),nt=de.mutations.map(vt=>ou(B.Wt,vt));return new Wr(Y,de.batchId,de.localWriteTime.toMillis(),je,nt)}(this.N,this.userId,v),M=[];let N=new bi((B,Y)=>Kn(B.canonicalString(),Y.canonicalString()));for(const B of a){const Y=co.key(this.userId,B.key.path,p);N=N.add(B.key.path.popLast()),M.push(h.put(A)),M.push(c.put(Y,co.PLACEHOLDER))}return N.forEach(B=>{M.push(this.Ht.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Jt[p]=v.keys()}),tt.waitFor(M).next(()=>v)})}lookupMutationBatch(e,t){return au(e).get(t).next(r=>r?(fn(r.userId===this.userId),lp(this.N,r)):null)}Xt(e,t){return this.Jt[t]?tt.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return au(e).Kt({index:Wr.userMutationsIndex,range:a},(h,p,v)=>{p.userId===this.userId&&(fn(p.batchId>=r),c=lp(this.N,p)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return au(e).Kt({index:Wr.userMutationsIndex,range:t,reverse:!0},(a,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return au(e).Lt(Wr.userMutationsIndex,t).next(r=>r.map(a=>lp(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=co.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),c=[];return up(e).Kt({range:a},(h,p,v)=>{const[A,M,N]=h,B=ni(M);if(A===this.userId&&t.path.isEqual(B))return au(e).get(N).next(Y=>{if(!Y)throw Zt();fn(Y.userId===this.userId),c.push(lp(this.N,Y))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bi(Kn);const a=[];return t.forEach(c=>{const h=co.prefixForPath(this.userId,c.path),p=IDBKeyRange.lowerBound(h),v=up(e).Kt({range:p},(A,M,N)=>{const[B,Y,de]=A,je=ni(Y);B===this.userId&&c.path.isEqual(je)?r=r.add(de):N.done()});a.push(v)}),tt.waitFor(a).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,c=co.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(c);let p=new bi(Kn);return up(e).Kt({range:h},(v,A,M)=>{const[N,B,Y]=v,de=ni(B);N===this.userId&&r.isPrefixOf(de)?de.length===a&&(p=p.add(Y)):M.done()}).next(()=>this.Zt(e,p))}Zt(e,t){const r=[],a=[];return t.forEach(c=>{a.push(au(e).get(c).next(h=>{if(null===h)throw Zt();fn(h.userId===this.userId),r.push(lp(this.N,h))}))}),tt.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return By(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),tt.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return tt.resolve();const r=IDBKeyRange.lowerBound(co.prefixForUser(this.userId)),a=[];return up(e).Kt({range:r},(c,h,p)=>{if(c[0]===this.userId){const v=ni(c[1]);a.push(v)}else p.done()}).next(()=>{fn(0===a.length)})})}containsKey(e,t){return Hb(e,this.userId,t)}ee(e){return uI(e).get(this.userId).next(t=>t||new Ac(this.userId,-1,""))}}function Hb(n,e,t){const r=co.prefixForPath(e,t.path),a=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return up(n).Kt({range:c,qt:!0},(p,v,A)=>{const[M,N,B]=p;M===e&&N===a&&(h=!0),A.done()}).next(()=>h)}function au(n){return ra(n,Wr.store)}function up(n){return ra(n,co.store)}function uI(n){return ra(n,Ac.store)}class uh{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new uh(0)}static ie(){return new uh(-1)}}class dI{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new uh(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>An.fromTimestamp(new ss(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dp(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(fn(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let a=0;const c=[];return dp(e).Kt((h,p)=>{const v=om(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(a++,c.push(this.removeTargetData(e,v)))}).next(()=>tt.waitFor(c)).next(()=>a)}forEachTarget(e,t){return dp(e).Kt((r,a)=>{const c=om(a);t(c)})}re(e){return lM(e).get(xa.key).next(t=>(fn(null!==t),t))}oe(e,t){return lM(e).put(xa.key,t)}ce(e,t){return dp(e).put(lI(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=zf(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return dp(e).Kt({range:a,index:uo.queryTargetsIndexName},(h,p,v)=>{const A=om(p);Bg(t,A.target)&&(c=A,v.done())}).next(()=>c)}addMatchingKeys(e,t,r){const a=[],c=ld(e);return t.forEach(h=>{const p=Tc(h.path);a.push(c.put(new Bs(r,p))),a.push(this.referenceDelegate.addReference(e,r,h))}),tt.waitFor(a)}removeMatchingKeys(e,t,r){const a=ld(e);return tt.forEach(t,c=>{const h=Tc(c.path);return tt.waitFor([a.delete([r,h]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=ld(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=ld(e);let c=Yn();return a.Kt({range:r,qt:!0},(h,p,v)=>{const A=ni(h[1]),M=new Rt(A);c=c.add(M)}).next(()=>c)}containsKey(e,t){const r=Tc(t.path),a=IDBKeyRange.bound([r],[DA(r)],!1,!0);let c=0;return ld(e).Kt({index:Bs.documentTargetsIndex,qt:!0,range:a},([h,p],v,A)=>{0!==h&&(c++,A.done())}).next(()=>c>0)}Tt(e,t){return dp(e).get(t).next(r=>r?om(r):null)}}function dp(n){return ra(n,uo.store)}function lM(n){return ra(n,xa.store)}function ld(n){return ra(n,Bs.store)}function dh(n){return cd.apply(this,arguments)}function cd(){return(cd=(0,$e.Z)(function*(n){if(n.code!==Le.FAILED_PRECONDITION||n.message!==nI)throw n;ut("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function cM([n,e],[t,r]){const a=Kn(n,t);return 0===a?Kn(e,r):a}class hI{constructor(e){this.ue=e,this.buffer=new bi(cM),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();cM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uM{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;ut("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,$e.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){ch(a)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield dh(a)}yield t._e(e)}))}}class hR{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return tt.resolve(Aa.T);const r=new hI(t);return this.me.forEachTarget(e,a=>r.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>r.fe(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Bb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bb):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,a,c,h,p,v,A;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),a=this.params.maximumSequenceNumbersToCollect):a=N,h=Date.now(),this.nthSequenceNumber(e,a))).next(N=>(r=N,p=Date.now(),this.removeTargets(e,r,t))).next(N=>(c=N,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(A=Date.now(),gy()<=Qa.in.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${a} in `+(p-h)+`ms\n\tRemoved ${c} targets in `+(v-p)+`ms\n\tRemoved ${N} documents in `+(A-v)+`ms\nTotal Duration: ${A-M}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:N})))}}class fI{constructor(e,t){this.db=e,this.garbageCollector=new hR(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,a)=>t(a))}addReference(e,t,r){return Gy(e,r)}removeReference(e,t,r){return Gy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Gy(e,t)}Ie(e,t){return function(r,a){let c=!1;return uI(r).jt(h=>Hb(r,h,a).next(p=>(p&&(c=!0),tt.resolve(!p)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Ee(e,(h,p)=>{if(p<=t){const v=this.Ie(e,h).next(A=>{if(!A)return c++,r.getEntry(e,h).next(()=>(r.removeEntry(h),ld(e).delete([0,Tc(h.path)])))});a.push(v)}}).next(()=>tt.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Gy(e,t)}Ee(e,t){const r=ld(e);let a,c=Aa.T;return r.Kt({index:Bs.documentTargetsIndex},([h,p],{path:v,sequenceNumber:A})=>{0===h?(c!==Aa.T&&t(new Rt(ni(a)),c),c=A,a=v):c=Aa.T}).next(()=>{c!==Aa.T&&t(new Rt(ni(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gy(n,e){return ld(n).put((r=n.currentSequenceNumber,new Bs(0,Tc(e.path),r)));var r}class ud{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){nh(this.inner,(t,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return gb(this.inner)}}class $b{constructor(){this.changes=new ud(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:An.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:ti.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?tt.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pI{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return dd(e).put(zy(t),r)}removeEntry(e,t){const r=dd(e),a=zy(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return dd(e).get(zy(t)).next(r=>this.Re(t,r))}be(e,t){return dd(e).get(zy(t)).next(r=>({document:this.Re(t,r),size:Hy(r)}))}getEntries(e,t){let r=Ia();return this.Pe(e,t,(a,c)=>{const h=this.Re(a,c);r=r.insert(a,h)}).next(()=>r)}ve(e,t){let r=Ia(),a=new $i(Rt.comparator);return this.Pe(e,t,(c,h)=>{const p=this.Re(c,h);r=r.insert(c,p),a=a.insert(c,Hy(h))}).next(()=>({documents:r,Ve:a}))}Pe(e,t,r){if(t.isEmpty())return tt.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return dd(e).Kt({range:a},(p,v,A)=>{const M=Rt.fromSegments(p);for(;h&&Rt.comparator(h,M)<0;)r(h,null),h=c.getNext();h&&h.isEqual(M)&&(r(h,v),h=c.hasNext()?c.getNext():null),h?A.Mt(h.path.toArray()):A.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=Ia();const c=t.path.length+1,h={};if(r.isEqual(An.min())){const p=t.path.toArray();h.range=IDBKeyRange.lowerBound(p)}else{const p=t.path.toArray(),v=aI(r);h.range=IDBKeyRange.lowerBound([p,v],!0),h.index=wi.collectionReadTimeIndex}return dd(e).Kt(h,(p,v,A)=>{if(p.length!==c)return;const M=Vb(this.N,v);t.path.isPrefixOf(M.key.path)?Xf(t,M)&&(a=a.insert(M.key,M)):A.done()}).next(()=>a)}newChangeBuffer(e){return new dM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gI(e).get(Ic.key).next(t=>(fn(!!t),t))}Ae(e,t){return gI(e).put(Ic.key,t)}Re(e,t){if(t){const r=Vb(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(An.min()))return r}return ti.newInvalidDocument(e)}}class dM extends $b{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new ud(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new bi((c,h)=>Kn(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const p=this.De.get(c);if(h.document.isValidDocument()){const v=oI(this.Se.N,h.document,this.getReadTime(c));a=a.add(c.path.popLast()),r+=Hy(v)-p,t.push(this.Se.addEntry(e,c,v))}else if(r-=p,this.trackRemovals){const v=oI(this.Se.N,ti.newNoDocument(c,An.min()),this.getReadTime(c));t.push(this.Se.addEntry(e,c,v))}else t.push(this.Se.removeEntry(e,c))}),a.forEach(c=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,c))}),t.push(this.Se.updateMetadata(e,r)),tt.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:a})=>(a.forEach((c,h)=>{this.De.set(c,h)}),r))}}function gI(n){return ra(n,Ic.store)}function dd(n){return ra(n,wi.store)}function zy(n){return n.path.toArray()}class hM{constructor(e){this.N=e}Ct(e,t,r,a){fn(r<a&&r>=0&&a<=11);const c=new qy("createOrUpgrade",t);var p;r<1&&a>=1&&(e.createObjectStore(Da.store),(p=e).createObjectStore(Ac.store,{keyPath:Ac.keyPath}),p.createObjectStore(Wr.store,{keyPath:Wr.keyPath,autoIncrement:!0}).createIndex(Wr.userMutationsIndex,Wr.userMutationsKeyPath,{unique:!0}),p.createObjectStore(co.store),mI(e),function(p){p.createObjectStore(wi.store)}(e));let h=tt.resolve();return r<3&&a>=3&&(0!==r&&(function(p){p.deleteObjectStore(Bs.store),p.deleteObjectStore(uo.store),p.deleteObjectStore(xa.store)}(e),mI(e)),h=h.next(()=>function(p){const v=p.store(xa.store),A=new xa(0,0,An.min().toTimestamp(),0);return v.put(xa.key,A)}(c))),r<4&&a>=4&&(0!==r&&(h=h.next(()=>function(p,v){return v.store(Wr.store).Lt().next(A=>{p.deleteObjectStore(Wr.store),p.createObjectStore(Wr.store,{keyPath:Wr.keyPath,autoIncrement:!0}).createIndex(Wr.userMutationsIndex,Wr.userMutationsKeyPath,{unique:!0});const M=v.store(Wr.store),N=A.map(B=>M.put(B));return tt.waitFor(N)})}(e,c))),h=h.next(()=>{!function(p){p.createObjectStore(xl.store,{keyPath:xl.keyPath})}(e)})),r<5&&a>=5&&(h=h.next(()=>this.Ce(c))),r<6&&a>=6&&(h=h.next(()=>(function(p){p.createObjectStore(Ic.store)}(e),this.Ne(c)))),r<7&&a>=7&&(h=h.next(()=>this.xe(c))),r<8&&a>=8&&(h=h.next(()=>this.ke(e,c))),r<9&&a>=9&&(h=h.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e),function(p){const v=p.objectStore(wi.store);v.createIndex(wi.readTimeIndex,wi.readTimeIndexPath,{unique:!1}),v.createIndex(wi.collectionReadTimeIndex,wi.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(h=h.next(()=>this.$e(c))),r<11&&a>=11&&(h=h.next(()=>{(function(p){p.createObjectStore(ap.store,{keyPath:ap.keyPath})})(e),function(p){p.createObjectStore(nm.store,{keyPath:nm.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(wi.store).Kt((r,a)=>{t+=Hy(a)}).next(()=>{const r=new Ic(t);return e.store(Ic.store).put(Ic.key,r)})}Ce(e){const t=e.store(Ac.store),r=e.store(Wr.store);return t.Lt().next(a=>tt.forEach(a,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt(Wr.userMutationsIndex,h).next(p=>tt.forEach(p,v=>{fn(v.userId===c.userId);const A=lp(this.N,v);return By(e,c.userId,A).next(()=>{})}))}))}xe(e){const t=e.store(Bs.store),r=e.store(wi.store);return e.store(xa.store).get(xa.key).next(a=>{const c=[];return r.Kt((h,p)=>{const v=new pr(h),A=[0,Tc(v)];c.push(t.get(A).next(M=>M?tt.resolve():t.put(new Bs(0,Tc(v),a.highestListenSequenceNumber))))}).next(()=>tt.waitFor(c))})}ke(e,t){e.createObjectStore(sd.store,{keyPath:sd.keyPath});const r=t.store(sd.store),a=new jb,c=h=>{if(a.add(h)){const p=h.lastSegment(),v=h.popLast();return r.put({collectionId:p,parent:Tc(v)})}};return t.store(wi.store).Kt({qt:!0},(h,p)=>{const v=new pr(h);return c(v.popLast())}).next(()=>t.store(co.store).Kt({qt:!0},([h,p,v],A)=>{const M=ni(p);return c(M.popLast())}))}$e(e){const t=e.store(uo.store);return t.Kt((r,a)=>{const c=om(a),h=lI(this.N,c);return t.put(h)})}}function mI(n){n.createObjectStore(Bs.store,{keyPath:Bs.keyPath}).createIndex(Bs.documentTargetsIndex,Bs.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(uo.store,{keyPath:uo.keyPath}).createIndex(uo.queryTargetsIndexName,uo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(xa.store)}const Gb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zb{constructor(e,t,r,a,c,h,p,v,A,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=h,this.document=p,this.Fe=A,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=N=>Promise.resolve(),!zb.bt())throw new rt(Le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fI(this,a),this.We=t+"main",this.N=new Fb(v),this.Ge=new Sl(this.We,11,new hM(this.N)),this.ze=new dI(this.referenceDelegate,this.N),this.Ht=new cp,this.He=new pI(this.N,this.Ht),this.Je=new aM,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(Le.FAILED_PRECONDITION,Gb);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Aa(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,$e.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,$e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,$e.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>am(e).put(new xl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(ch(e))return ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return lu(e).get(Da.key).next(t=>tt.resolve(this.an(t)))}un(e){return am(e).delete(this.clientId)}hn(){var e=this;return(0,$e.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=ra(r,xl.store);return a.Lt().next(c=>{const h=e.fn(c,18e5),p=c.filter(v=>-1===h.indexOf(v));return tt.forEach(p,v=>a.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?tt.resolve(!0):lu(e).get(Da.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new rt(Le.FAILED_PRECONDITION,Gb);return!1}}return!(!this.networkEnabled||!this.inForeground)||am(e).Lt().next(r=>void 0===this.fn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,p=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ut("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,$e.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Da.store,xl.store],t=>{const r=new sI(t,Aa.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>am(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return $y.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let c;return ut("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",iM,h=>(c=new sI(h,this.Le?this.Le.next():Aa.T),"readwrite-primary"===t?this.sn(c).next(p=>!!p||this.rn(c)).next(p=>{if(!p)throw qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new rt(Le.FAILED_PRECONDITION,nI);return r(c)}).next(p=>this.cn(c).next(()=>p)):this.Tn(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Tn(e){return lu(e).get(Da.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new rt(Le.FAILED_PRECONDITION,Gb)})}cn(e){const t=new Da(this.clientId,this.allowTabSynchronization,Date.now());return lu(e).put(Da.key,t)}static bt(){return Sl.bt()}on(e){const t=lu(e);return t.get(Da.key).next(r=>this.an(r)?(ut("IndexedDbPersistence","Releasing primary lease."),t.delete(Da.key)):tt.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(qi(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,$.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return ut("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){qi("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lu(n){return ra(n,Da.store)}function am(n){return ra(n,xl.store)}function Wy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _I{constructor(e,t){this.progress=e,this.En=t}}class Wb{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(a=>{for(const c of r)c.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const c of t)c.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Rt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Ay(t)?this.Sn(e,t,r):this.Dn(e,t,r);var a}Vn(e,t){return this.An(e,new Rt(t)).next(r=>{let a=rp();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Sn(e,t,r){const a=t.collectionGroup;let c=rp();return this.Ht.getCollectionParents(e,a).next(h=>tt.forEach(h,p=>{const v=(A=t,M=p.child(a),new ed(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,M;return this.Dn(e,v,r).next(A=>{A.forEach((M,N)=>{c=c.insert(M,N)})})}).next(()=>c))}Dn(e,t,r){let a,c;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(a=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Cn(e,c,a).next(p=>{a=p;for(const v of c)for(const A of v.mutations){const M=A.key;let N=a.get(M);null==N&&(N=ti.newInvalidDocument(M),a=a.insert(M,N)),lh(A,N,v.localWriteTime),N.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((h,p)=>{Xf(t,p)||(a=a.remove(h))}),a))}Cn(e,t,r){let a=Yn();for(const h of t)for(const p of h.mutations)p instanceof ta&&null===r.get(p.key)&&(a=a.add(p.key));let c=r;return this.He.getEntries(e,a).next(h=>(h.forEach((p,v)=>{v.isFoundDocument()&&(c=c.insert(p,v))}),c))}}class Ky{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=a}static kn(e,t){let r=Yn(),a=Yn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Ky(e,t.fromCache,r,a)}}class Kb{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(An.min())?this.Fn(e,t):this.On.Pn(e,a).next(c=>{const h=this.Mn(t,c);return(Ey(t)||Qf(t))&&this.Ln(t.limitType,h,a,r)?this.Fn(e,t):(gy()<=Qa.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Iy(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(p=>(h.forEach(v=>{p=p.insert(v.key,v)}),p)))});var c}Mn(e,t){let r=new bi(wb(e));return t.forEach((a,c)=>{Xf(e,c)&&(r=r.add(c))}),r}Ln(e,t,r,a){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fn(e,t){return gy()<=Qa.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Iy(t)),this.On.getDocumentsMatchingQuery(e,t,An.min())}}class fM{constructor(e,t,r,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new $i(Kn),this.qn=new ud(c=>zf(c),Bg),this.Kn=An.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Wb(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Yb(n,e,t,r){return new fM(n,e,t,r)}function Qb(n,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,$e.Z)(function*(n,e){const t=pt(n);let r=t.In,a=t.Qn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let p;return t.In.getAllMutationBatches(h).next(v=>(p=v,r=t.persistence.getMutationQueue(e),a=new Wb(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const A=[],M=[];let N=Yn();for(const B of p){A.push(B.batchId);for(const Y of B.mutations)N=N.add(Y.key)}for(const B of v){M.push(B.batchId);for(const Y of B.mutations)N=N.add(Y.key)}return a.Pn(h,N).next(B=>({Wn:B,removedBatchIds:A,addedBatchIds:M}))})});return t.In=r,t.Qn=a,t.Bn.$n(t.Qn),c})).apply(this,arguments)}function pM(n,e){const t=pt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,p,v,A){const M=v.batch,N=M.keys();let B=tt.resolve();return N.forEach(Y=>{B=B.next(()=>A.getEntry(p,Y)).next(de=>{const je=v.docVersions.get(Y);fn(null!==je),de.version.compareTo(je)<0&&(M.applyToRemoteDocument(de,v),de.isValidDocument()&&A.addEntry(de,v.commitVersion))})}),B.next(()=>h.In.removeMutationBatch(p,M))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,a))})}function yI(n){const e=pt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function lm(n,e){const t=pt(n),r=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const p=[];e.targetChanges.forEach((A,M)=>{const N=a.get(M);if(!N)return;p.push(t.ze.removeMatchingKeys(c,A.removedDocuments,M).next(()=>t.ze.addMatchingKeys(c,A.addedDocuments,M)));const B=A.resumeToken;if(B.approximateByteSize()>0){const Y=N.withResumeToken(B,r).withSequenceNumber(c.currentSequenceNumber);a=a.insert(M,Y),de=N,nt=A,fn((je=Y).resumeToken.approximateByteSize()>0),(0===de.resumeToken.approximateByteSize()||je.snapshotVersion.toMicroseconds()-de.snapshotVersion.toMicroseconds()>=3e8||nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0)&&p.push(t.ze.updateTargetData(c,Y))}var de,je,nt});let v=Ia();if(e.documentUpdates.forEach((A,M)=>{e.resolvedLimboDocuments.has(A)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,A))}),p.push(hp(c,h,e.documentUpdates,r,void 0).next(A=>{v=A})),!r.isEqual(An.min())){const A=t.ze.getLastRemoteSnapshotVersion(c).next(M=>t.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(A)}return tt.waitFor(p).next(()=>h.apply(c)).next(()=>t.Qn.vn(c,v)).next(()=>v)}).then(c=>(t.Un=a,c))}function hp(n,e,t,r,a){let c=Yn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let p=Ia();return t.forEach((v,A)=>{const M=h.get(v),N=(null==a?void 0:a.get(v))||r;A.isNoDocument()&&A.version.isEqual(An.min())?(e.removeEntry(v,N),p=p.insert(v,A)):!M.isValidDocument()||A.version.compareTo(M.version)>0||0===A.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(A,N),p=p.insert(v,A)):ut("LocalStore","Ignoring outdated watch update for ",v,". Current version:",M.version," Watch version:",A.version)}),p})}function gM(n,e){const t=pt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function hd(n,e){const t=pt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ze.getTargetData(r,e).next(c=>c?(a=c,tt.resolve(a)):t.ze.allocateTargetId(r).next(h=>(a=new od(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Un.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function Oo(n,e,t){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,$e.Z)(function*(n,e,t){const r=pt(n),a=r.Un.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!ch(h))throw h;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(a.target)})).apply(this,arguments)}function hh(n,e,t){const r=pt(n);let a=An.min(),c=Yn();return r.persistence.runTransaction("Execute query","readonly",h=>function(p,v,A){const M=pt(p),N=M.qn.get(A);return void 0!==N?tt.resolve(M.Un.get(N)):M.ze.getTargetData(v,A)}(r,h,Dl(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,p.targetId).next(v=>{c=v})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?a:An.min(),t?c:Yn())).next(p=>({documents:p,Gn:c})))}function vI(n,e){const t=pt(n),r=pt(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,e).next(h=>h?h.target:null))}function CI(n){const e=pt(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,c){const h=pt(r);let p=Ia(),v=aI(c);const A=dd(a),M=IDBKeyRange.lowerBound(v,!0);return A.Kt({index:wi.readTimeIndex,range:M},(N,B)=>{const Y=Vb(h.N,B);p=p.insert(Y.key,Y),v=B.readTime}).next(()=>({En:p,readTime:oM(v)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function cm(){return(cm=(0,$e.Z)(function*(n){const e=pt(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=dd(r);let c=An.min();return a.Kt({index:wi.readTimeIndex,reverse:!0},(h,p,v)=>{p.readTime&&(c=oM(p.readTime)),v.done()}).next(()=>c)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Yy(){return(Yy=(0,$e.Z)(function*(n,e,t,r){const a=pt(n);let c=Yn(),h=Ia(),p=ip();for(const M of t){const N=e.zn(M.metadata.name);M.document&&(c=c.add(N)),h=h.insert(N,e.Hn(M)),p=p.insert(N,e.Jn(M.metadata.readTime))}const v=a.jn.newChangeBuffer({trackRemovals:!0}),A=yield hd(a,(M=r,Dl(Yf(pr.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>hp(M,v,h,An.min(),p).next(N=>(v.apply(M),N)).next(N=>a.ze.removeMatchingKeysForTargetId(M,A.targetId).next(()=>a.ze.addMatchingKeys(M,c,A.targetId)).next(()=>a.Qn.vn(M,N)).next(()=>N)))})).apply(this,arguments)}function tw(n,e){return um.apply(this,arguments)}function um(){return(um=(0,$e.Z)(function*(n,e,t=Yn()){const r=yield hd(n,Dl(Ub(e.bundledQuery))),a=pt(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const h=Es(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return a.Je.saveNamedQuery(c,e);const p=r.withResumeToken(ws.EMPTY_BYTE_STRING,h);return a.Un=a.Un.insert(p.targetId,p),a.ze.updateTargetData(c,p).next(()=>a.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.ze.addMatchingKeys(c,t,r.targetId)).next(()=>a.Je.saveNamedQuery(c,e))})})).apply(this,arguments)}class mM{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return tt.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Es(r.createTime)}),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:Ub(r.bundledQuery),readTime:Es(r.readTime)}),tt.resolve();var r}}class nw{constructor(){this.Zn=new bi(Ts.ts),this.es=new bi(Ts.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Ts(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Ts(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Rt(new pr([])),r=new Ts(t,e),a=new Ts(t,e+1),c=[];return this.es.forEachInRange([r,a],h=>{this.rs(h),c.push(h.key)}),c}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Rt(new pr([])),r=new Ts(t,e),a=new Ts(t,e+1);let c=Yn();return this.es.forEachInRange([r,a],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Ts(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ts{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Rt.comparator(e.key,t.key)||Kn(e.ls,t.ls)}static ns(e,t){return Kn(e.ls,t.ls)||Rt.comparator(e.key,t.key)}}class _M{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new bi(Ts.ts)}checkEmpty(e){return tt.resolve(0===this.In.length)}addMutationBatch(e,t,r,a){const c=this.fs;this.fs++;const h=new Rb(c,t,r,a);this.In.push(h);for(const p of a)this.ds=this.ds.add(new Ts(p.key,c)),this.Ht.addToCollectionParentIndex(e,p.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(e,t){return tt.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),c=a<0?0:a;return tt.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return tt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ts(t,0),a=new Ts(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,a],h=>{const p=this.ws(h.ls);c.push(p)}),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bi(Kn);return t.forEach(a=>{const c=new Ts(a,0),h=new Ts(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,h],p=>{r=r.add(p.ls)})}),tt.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;Rt.isDocumentKey(c)||(c=c.child(""));const h=new Ts(new Rt(c),0);let p=new bi(Kn);return this.ds.forEachWhile(v=>{const A=v.key.path;return!!r.isPrefixOf(A)&&(A.length===a&&(p=p.add(v.ls)),!0)},h),tt.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(r=>{const a=this.ws(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){fn(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return tt.forEach(t.mutations,a=>{const c=new Ts(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Ts(t,0),a=this.ds.firstAfterOrEqual(r);return tt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return tt.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class bI{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new $i(Rt.comparator),this.size=0}addEntry(e,t,r){const a=t.key,c=this.docs.get(a),h=c?c.size:0,p=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:p,readTime:r}),this.size+=p-h,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return tt.resolve(r?r.document.clone():ti.newInvalidDocument(t))}getEntries(e,t){let r=Ia();return t.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.clone():ti.newInvalidDocument(a))}),tt.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=Ia();const c=new Rt(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:v,readTime:A}}=h.getNext();if(!t.path.isPrefixOf(p.path))break;A.compareTo(r)<=0||Xf(t,v)&&(a=a.insert(v.key,v.clone()))}return tt.resolve(a)}Ts(e,t){return tt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rw(this)}getSize(e){return tt.resolve(this.size)}}class rw extends $b{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(r))):this.Se.removeEntry(r)}),tt.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class wI{constructor(e){this.persistence=e,this.Es=new ud(t=>zf(t),Bg),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.Is=0,this.As=new nw,this.targetCount=0,this.Rs=uh.se()}forEachTarget(e,t){return this.Es.forEach((r,a)=>t(a)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),tt.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new uh(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.ce(t),tt.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.Es.forEach((h,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Es.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),tt.waitFor(c).next(()=>a)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return tt.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),tt.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),tt.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return tt.resolve(r)}containsKey(e,t){return tt.resolve(this.As.containsKey(t))}}class EI{constructor(e,t){this.bs={},this.Le=new Aa(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new wI(this),this.Ht=new qb,this.He=new bI(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new Fb(t),this.Je=new mM(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new _M(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){ut("MemoryPersistence","Starting transaction:",e);const a=new TI(this.Le.next());return this.referenceDelegate.vs(),r(a).next(c=>this.referenceDelegate.Vs(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ss(e,t){return tt.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class TI extends rI{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Ds=new nw,this.Cs=null}static Ns(e){return new Qy(e)}get xs(){if(this.Cs)return this.Cs;throw Zt()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),tt.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.xs,r=>{const a=Rt.fromPath(r);return this.ks(e,a).next(c=>{c||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return tt.or([()=>tt.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function AI(n,e){return`firestore_clients_${n}_${e}`}function iw(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Jy(n,e){return`firestore_targets_${n}_${e}`}class Xy{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let c,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(c=new rt(a.error.code,a.error.message))),h?new Xy(e,t,a.state,c):(qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new rt(r.error.code,r.error.message))),c?new fp(e,r.state,a):(qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ev{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=nd();for(let h=0;a&&h<r.activeTargetIds.length;++h)a=SA(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return a?new ev(e,c):(qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class II{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new II(t.clientId,t.onlineState):(qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $s{constructor(){this.activeTargetIds=nd()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fd{constructor(e,t,r,a,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new $i(Kn),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=AI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new $s),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(p){return`firestore_bundle_loaded_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,$e.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const c=e.getItem(AI(e.persistenceKey,a));if(c){const h=ev.$s(a,c);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const a=e.Xs(r);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Jy(this.persistenceKey,e));if(r){const a=fp.$s(e,r);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jy(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ni(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ut("SharedClientState","READ",e,t),t}setItem(e,t){ut("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ut("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,$e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const a=t.ci(r.key);return t.ai(a,null)}{const a=t.ui(r.key,r.newValue);if(a)return t.ai(a.clientId,a)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const a=t.hi(r.key,r.newValue);if(a)return t.li(a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.fi(r.key,r.newValue);if(a)return t.di(a)}}else if(r.key===t.Hs){if(null!==r.newValue){const a=t.Xs(r.newValue);if(a)return t.Zs(a)}}else if(r.key===t.Qs){const a=function(c){let h=Aa.T;if(null!=c)try{const p=JSON.parse(c);fn("number"==typeof p),h=p}catch(p){qi("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(r.newValue);a!==Aa.T&&t.sequenceNumberHandler(a)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const a=new Xy(this.currentUser,e,t,r),c=iw(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Os())}ni(e){const t=iw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const a=Jy(this.persistenceKey,e),c=new fp(e,t,r);this.setItem(a,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return ev.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),a=Number(r[1]);return Xy.$s(new qs(void 0!==r[2]?r[2]:null),a,t)}fi(e,t){const r=this.zs.exec(e),a=Number(r[1]);return fp.$s(a,t)}Xs(e){return II.$s(e)}li(e){var t=this;return(0,$e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),c=this.ti(r),h=[],p=[];return c.forEach(v=>{a.has(v)||h.push(v)}),a.forEach(v=>{c.has(v)||p.push(v)}),this.syncEngine.gi(h,p).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=nd();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class DI{constructor(){this.yi=new $s,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new $s,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class yM{Ti(e){}shutdown(){}}class vM{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class CM{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class sw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,a){const c=this.Bi(e,t);ut("RestConnection","Sending: ",c,r);const h={};return this.Ui(h,a),this.qi(e,c,h,r).then(p=>(ut("RestConnection","Received: ",p),p),p=>{throw Fg("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",r),p})}Ki(e,t,r,a){return this.Li(e,t,r,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+th,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${dm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,a){return new Promise((c,h)=>{const p=new OO;p.listenOnce(CA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case py.NO_ERROR:const A=p.getResponseJson();ut("Connection","XHR received:",JSON.stringify(A)),c(A);break;case py.TIMEOUT:ut("Connection",'RPC "'+e+'" timed out'),h(new rt(Le.DEADLINE_EXCEEDED,"Request time out"));break;case py.HTTP_ERROR:const M=p.getStatus();if(ut("Connection",'RPC "'+e+'" failed with status:',M,"response text:",p.getResponseText()),M>0){const N=p.getResponseJson().error;if(N&&N.status&&N.message){const B=function(Y){const de=Y.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(de)>=0?de:Le.UNKNOWN}(N.status);h(new rt(B,N.message))}else h(new rt(Le.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new rt(Le.UNAVAILABLE,"Connection failed."));break;default:Zt()}}finally{ut("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(a);p.send(t,"POST",v,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=SO(),c=fy(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Lg({})),this.Ui(h.initMessageHeaders,t),(0,$.uI)()||(0,$.b$)()||(0,$.d)()||(0,$.w1)()||(0,$.Mn)()||(0,$.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");ut("Connection","Creating WebChannel: "+p,h);const v=a.createWebChannel(p,h);let A=!1,M=!1;const N=new CM({vi:Y=>{M?ut("Connection","Not sending because WebChannel is closed:",Y):(A||(ut("Connection","Opening WebChannel transport."),v.open(),A=!0),ut("Connection","WebChannel sending:",Y),v.send(Y))},Vi:()=>v.close()}),B=(Y,de,je)=>{Y.listen(de,nt=>{try{je(nt)}catch(vt){setTimeout(()=>{throw vt},0)}})};return B(v,Xu.EventType.OPEN,()=>{M||ut("Connection","WebChannel transport opened.")}),B(v,Xu.EventType.CLOSE,()=>{M||(M=!0,ut("Connection","WebChannel transport closed"),N.$i())}),B(v,Xu.EventType.ERROR,Y=>{M||(M=!0,Fg("Connection","WebChannel transport errored:",Y),N.$i(new rt(Le.UNAVAILABLE,"The operation could not be completed")))}),B(v,Xu.EventType.MESSAGE,Y=>{var de;if(!M){const je=Y.data[0];fn(!!je);const nt=je,vt=nt.error||(null===(de=nt[0])||void 0===de?void 0:de.error);if(vt){ut("Connection","WebChannel received error:",vt);const Yt=vt.status;let xn=function(jr){const as=Hi[jr];if(void 0!==as)return Oy(as)}(Yt),ln=vt.message;void 0===xn&&(xn=Le.INTERNAL,ln="Unknown error status: "+Yt+" with message "+vt.message),M=!0,N.$i(new rt(xn,ln)),v.close()}else ut("Connection","WebChannel received:",je),N.Oi(je)}}),B(c,bA.STAT_EVENT,Y=>{Y.stat===wA.PROXY?ut("Connection","Detected buffering proxy"):Y.stat===wA.NOPROXY&&ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.ki()},0),N}}function xI(){return"undefined"!=typeof window?window:null}function hm(){return"undefined"!=typeof document?document:null}function fm(n){return new el(n,!0)}class ow{constructor(e,t,r=1e3,a=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=a,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-r);a>0&&ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class tv{constructor(e,t,r,a,c,h,p){this.Oe=e,this.er=r,this.nr=a,this.sr=c,this.credentialsProvider=h,this.listener=p,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new ow(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,$e.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,$e.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,$e.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===Le.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===Le.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const a=new rt(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(a)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,$e.Z)(function*(){e.state=0,e.start()}))}Ir(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SI extends tv{constructor(e,t,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,c),this.N=a}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Zt(),a=e.targetChange.targetIds||[],c=function(v,A){return v.D?(fn(void 0===A||"string"==typeof A),ws.fromBase64String(A||"")):(fn(void 0===A||A instanceof Uint8Array),ws.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(v){const A=void 0===v.code?Le.UNKNOWN:Oy(v.code);return new rt(A,v.message||"")}(h);t=new rd(r,a,c,p||null)}else if("documentChange"in e){const r=e.documentChange,a=na(n,r.document.name),c=Es(r.document.updateTime),h=new lo({mapValue:{fields:r.document.fields}}),p=ti.newFoundDocument(a,c,h);t=new So(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,a=na(n,r.document),c=r.readTime?Es(r.readTime):An.min(),h=ti.newNoDocument(a,c);t=new So([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,a=na(n,r.document);t=new So([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Zt();{const r=e.filter,c=new zO(r.count||0);t=new Ny(r.targetId,c)}}var v;return t}(this.N,e),r=function(a){if(!("targetChange"in a))return An.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?An.min():c.readTime?Es(c.readTime):An.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=Xg(this.N),t.addTarget=function(a,c){let h;const p=c.target;return h=Cb(p)?{documents:Pb(a,p)}:{query:Nb(a,p)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=tl(a,c.resumeToken):c.snapshotVersion.compareTo(An.min())>0&&(h.readTime=Rr(a,c.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=Xg(this.N),t.removeTarget=e,this.mr(t)}}class OI extends tv{constructor(e,t,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,c),this.N=a,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(fn(void 0!==e),n.map(t=>function(r,a){let c=Es(r.updateTime?r.updateTime:a);return c.isEqual(An.min())&&(c=Es(a)),new BO(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Es(e.commitTime);return this.listener.Dr(r,t)}return fn(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Xg(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ou(this.N,r))};this.mr(t)}}class nv extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new rt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Li(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Le.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new rt(Le.UNKNOWN,a.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Ki(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Le.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new rt(Le.UNKNOWN,a.toString())})}terminate(){this.kr=!0}}class aw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(qi(t),this.Mr=!1):ut("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class pR{constructor(e,t,r,a,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=c,this.zr.Ti(p=>{r.enqueueAndForget((0,$e.Z)(function*(){var v;cu(h)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,$e.Z)(function*(A){const M=pt(A);M.Wr.add(4),yield fh(M),M.Hr.set("Unknown"),M.Wr.delete(4),yield pp(M)}),function(A){return v.apply(this,arguments)})(h))}))}),this.Hr=new aw(r,a)}}function pp(n){return lw.apply(this,arguments)}function lw(){return(lw=(0,$e.Z)(function*(n){if(cu(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function fh(n){return gp.apply(this,arguments)}function gp(){return(gp=(0,$e.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function pm(n,e){const t=pt(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),uw(t)?cw(t):ym(t).hr()&&mm(t,e))}function gm(n,e){const t=pt(n),r=ym(t);t.Qr.delete(e),r.hr()&&rv(t,e),0===t.Qr.size&&(r.hr()?r.wr():cu(t)&&t.Hr.set("Unknown"))}function mm(n,e){n.Jr.Y(e.targetId),ym(n).br(e)}function rv(n,e){n.Jr.Y(e),ym(n).Pr(e)}function cw(n){n.Jr=new KA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),ym(n).start(),n.Hr.Lr()}function uw(n){return cu(n)&&!ym(n).ur()&&n.Qr.size>0}function cu(n){return 0===pt(n).Wr.size}function dw(n){n.Jr=void 0}function MI(n){return hw.apply(this,arguments)}function hw(){return(hw=(0,$e.Z)(function*(n){n.Qr.forEach((e,t)=>{mm(n,e)})})).apply(this,arguments)}function PI(n,e){return iv.apply(this,arguments)}function iv(){return(iv=(0,$e.Z)(function*(n,e){dw(n),uw(n)?(n.Hr.qr(e),cw(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function bM(n,e,t){return fw.apply(this,arguments)}function fw(){return(fw=(0,$e.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof rd&&2===e.state&&e.cause)try{yield(r=(0,$e.Z)(function*(a,c){const h=c.cause;for(const p of c.targetIds)a.Qr.has(p)&&(yield a.remoteSyncer.rejectListen(p,h),a.Qr.delete(p),a.Jr.removeTarget(p))}),function(a,c){return r.apply(this,arguments)})(n,e)}catch(r){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _m(n,r)}else if(e instanceof So?n.Jr.rt(e):e instanceof Ny?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(An.min()))try{const r=yield yI(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const h=a.Jr._t(c);return h.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=a.Qr.get(v);A&&a.Qr.set(v,A.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(p=>{const v=a.Qr.get(p);if(!v)return;a.Qr.set(p,v.withResumeToken(ws.EMPTY_BYTE_STRING,v.snapshotVersion)),rv(a,p);const A=new od(v.target,p,1,v.sequenceNumber);mm(a,A)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){ut("RemoteStore","Failed to raise snapshot:",r),yield _m(n,r)}var r})).apply(this,arguments)}function _m(n,e,t){return pw.apply(this,arguments)}function pw(){return(pw=(0,$e.Z)(function*(n,e,t){if(!ch(e))throw e;n.Wr.add(1),yield fh(n),n.Hr.set("Offline"),t||(t=()=>yI(n.localStore)),n.asyncQueue.enqueueRetryable((0,$e.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield pp(n)}))})).apply(this,arguments)}function gw(n,e){return e().catch(t=>_m(n,t,e))}function ph(n){return sv.apply(this,arguments)}function sv(){return(sv=(0,$e.Z)(function*(n){const e=pt(n),t=gh(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;NI(e);)try{const a=yield gM(e.localStore,r);if(null===a){0===e.jr.length&&t.wr();break}r=a.batchId,wM(e,a)}catch(a){yield _m(e,a)}kI(e)&&RI(e)})).apply(this,arguments)}function NI(n){return cu(n)&&n.jr.length<10}function wM(n,e){n.jr.push(e);const t=gh(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function kI(n){return cu(n)&&!gh(n).ur()&&n.jr.length>0}function RI(n){gh(n).start()}function LI(n){return FI.apply(this,arguments)}function FI(){return(FI=(0,$e.Z)(function*(n){gh(n).Nr()})).apply(this,arguments)}function gR(n){return VI.apply(this,arguments)}function VI(){return(VI=(0,$e.Z)(function*(n){const e=gh(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function mR(n,e,t){return UI.apply(this,arguments)}function UI(){return(UI=(0,$e.Z)(function*(n,e,t){const r=n.jr.shift(),a=Lb.from(r,e,t);yield gw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield ph(n)})).apply(this,arguments)}function _R(n,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,$e.Z)(function*(n,e){var t;e&&gh(n).Vr&&(yield(t=(0,$e.Z)(function*(r,a){if(Ib(c=a.code)&&c!==Le.ABORTED){const h=r.jr.shift();gh(r).dr(),yield gw(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield ph(r)}var c}),function(r,a){return t.apply(this,arguments)})(n,e)),kI(n)&&RI(n)})).apply(this,arguments)}function qI(n,e){return jI.apply(this,arguments)}function jI(){return(jI=(0,$e.Z)(function*(n,e){const t=pt(n);e?(t.Wr.delete(2),yield pp(t)):e||(t.Wr.add(2),yield fh(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function ym(n){return n.Yr||(n.Yr=function(e,t,r){const a=pt(e);return a.$r(),new SI(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:MI.bind(null,n),Ci:PI.bind(null,n),Rr:bM.bind(null,n)}),n.Gr.push(function(){var e=(0,$e.Z)(function*(t){t?(n.Yr.dr(),uw(n)?cw(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),dw(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function gh(n){return n.Xr||(n.Xr=function(e,t,r){const a=pt(e);return a.$r(),new OI(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:LI.bind(null,n),Ci:_R.bind(null,n),Cr:gR.bind(null,n),Dr:mR.bind(null,n)}),n.Gr.push(function(){var e=(0,$e.Z)(function*(t){t?(n.Xr.dr(),yield ph(n)):(yield n.Xr.stop(),n.jr.length>0&&(ut("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class BI{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,a,c){const h=Date.now()+r,p=new BI(e,t,h,a,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rt(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(n,e){if(qi("AsyncQueue",`${e}: ${n}`),ch(n))return new rt(Le.UNAVAILABLE,`${e}: ${n}`);throw n}class Cm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=rp(),this.sortedSet=new $i(this.comparator)}static emptySet(e){return new Cm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class EM{constructor(){this.Zr=new $i(Rt.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):Zt():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class bm{constructor(e,t,r,a,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new bm(e,t,Cm.emptySet(t),c,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class yR{constructor(){this.no=void 0,this.listeners=[]}}class TM{constructor(){this.queries=new ud(e=>UA(e),zg),this.onlineState="Unknown",this.so=new Set}}function mw(n,e){return _w.apply(this,arguments)}function _w(){return(_w=(0,$e.Z)(function*(n,e){const t=pt(n),r=e.query;let a=!1,c=t.queries.get(r);if(c||(a=!0,c=new yR),a)try{c.no=yield t.onListen(r)}catch(h){const p=vm(h,`Initialization of query '${Iy(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,c),c.listeners.push(e),e.io(t.onlineState),c.no&&e.ro(c.no)&&yw(t)})).apply(this,arguments)}function HI(n,e){return $I.apply(this,arguments)}function $I(){return($I=(0,$e.Z)(function*(n,e){const t=pt(n),r=e.query;let a=!1;const c=t.queries.get(r);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),a=0===c.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function vR(n,e){const t=pt(n);let r=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const p of h.listeners)p.ro(a)&&(r=!0);h.no=a}}r&&yw(t)}function AM(n,e,t){const r=pt(n),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);r.queries.delete(e)}function yw(n){n.so.forEach(e=>{e.next()})}class vw{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new bm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=bm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class CR{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class IM{constructor(e){this.N=e}zn(e){return na(this.N,e)}Hn(e){return e.metadata.exists?op(this.N,e.document,!1):ti.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Es(e)}}class bR{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=DM(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new IM(this.N);for(const a of e)if(a.metadata.queries){const c=r.zn(a.metadata.name);for(const h of a.metadata.queries){const p=(t.get(h)||Yn()).add(c);t.set(h,p)}}return t}complete(){var e=this;return(0,$e.Z)(function*(){const t=yield function(n,e,t,r){return Yy.apply(this,arguments)}(e.localStore,new IM(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const a of e.queries)yield tw(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new _I(Object.assign({},e.progress),t)})()}}function DM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GI{constructor(e){this.key=e}}class xM{constructor(e){this.key=e}}class zI{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=Yn(),this.mutatedKeys=Yn(),this.Io=wb(e),this.Ao=new Cm(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new EM,a=t?t.Ao:this.Ao;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,p=!1;const v=Ey(this.query)&&a.size===this.query.limit?a.last():null,A=Qf(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((M,N)=>{const B=a.get(M),Y=Xf(this.query,N)?N:null,de=!!B&&this.mutatedKeys.has(B.key),je=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let nt=!1;B&&Y?B.data.isEqual(Y.data)?de!==je&&(r.track({type:3,doc:Y}),nt=!0):this.vo(B,Y)||(r.track({type:2,doc:Y}),nt=!0,(v&&this.Io(Y,v)>0||A&&this.Io(Y,A)<0)&&(p=!0)):!B&&Y?(r.track({type:0,doc:Y}),nt=!0):B&&!Y&&(r.track({type:1,doc:B}),nt=!0,(v||A)&&(p=!0)),nt&&(Y?(h=h.add(Y),c=je?c.add(M):c.delete(M)):(h=h.delete(M),c=c.delete(M)))}),Ey(this.query)||Qf(this.query))for(;h.size>this.query.limit;){const M=Ey(this.query)?h.last():h.first();h=h.delete(M.key),c=c.delete(M.key),r.track({type:1,doc:M})}return{Ao:h,Po:r,Ln:p,mutatedKeys:c}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const c=e.Po.eo();c.sort((A,M)=>function(N,B){const Y=de=>{switch(de){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt()}};return Y(N)-Y(B)}(A.type,M.type)||this.Io(A.doc,M.doc)),this.Vo(r);const h=t?this.So():[],p=0===this.Eo.size&&this.current?1:0,v=p!==this.To;return this.To=p,0!==c.length||v?{snapshot:new bm(this.query,e.Ao,a,c,e.mutatedKeys,0===p,v,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new EM,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Yn(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new xM(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new GI(r))}),t}No(e){this.po=e.Gn,this.Eo=Yn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return bm.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Cw{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mp{constructor(e){this.key=e,this.ko=!1}}class WI{constructor(e,t,r,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new ud(p=>UA(p),zg),this.Fo=new Map,this.Mo=new Set,this.Lo=new $i(Rt.comparator),this.Bo=new Map,this.Uo=new nw,this.qo={},this.Ko=new Map,this.jo=uh.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function SM(n,e){return bw.apply(this,arguments)}function bw(){return(bw=(0,$e.Z)(function*(n,e){const t=Sw(n);let r,a;const c=t.Oo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),a=c.view.xo();else{const h=yield hd(t.localStore,Dl(e)),p=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield wm(t,e,r,"current"===p),t.isPrimaryClient&&pm(t.remoteStore,h)}return a})).apply(this,arguments)}function wm(n,e,t,r){return ov.apply(this,arguments)}function ov(){return(ov=(0,$e.Z)(function*(n,e,t,r){n.Wo=(M,N,B)=>{return(Y=(0,$e.Z)(function*(de,je,nt,vt){let Yt=je.view.bo(nt);Yt.Ln&&(Yt=yield hh(de.localStore,je.query,!1).then(({documents:jr})=>je.view.bo(jr,Yt)));const xn=vt&&vt.targetChanges.get(je.targetId),ln=je.view.applyChanges(Yt,de.isPrimaryClient,xn);return Tw(de,je.targetId,ln.Do),ln.snapshot}),function(de,je,nt,vt){return Y.apply(this,arguments)})(n,M,N,B);var Y};const a=yield hh(n.localStore,e,!0),c=new zI(e,a.Gn),h=c.bo(a.documents),p=an.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=c.applyChanges(h,n.isPrimaryClient,p);Tw(n,t,v.Do);const A=new Cw(e,t,c);return n.Oo.set(e,A),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot})).apply(this,arguments)}function KI(n,e){return av.apply(this,arguments)}function av(){return(av=(0,$e.Z)(function*(n,e){const t=pt(n),r=t.Oo.get(e),a=t.Fo.get(r.targetId);if(a.length>1)return t.Fo.set(r.targetId,a.filter(c=>!zg(c,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Oo(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),gm(t.remoteStore,r.targetId),Am(t,r.targetId)}).catch(dh))):(Am(t,r.targetId),yield Oo(t.localStore,r.targetId,!0))})).apply(this,arguments)}function lv(){return(lv=(0,$e.Z)(function*(n,e,t){const r=Ow(n);try{const a=yield function(c,h){const p=pt(c),v=ss.now(),A=h.reduce((N,B)=>N.add(B.key),Yn());let M;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>p.Qn.Pn(N,A).next(B=>{M=B;const Y=[];for(const de of h){const je=$O(de,M.get(de.key));null!=je&&Y.push(new ta(de.key,je,Cy(je.value.mapValue),Bi.exists(!0)))}return p.In.addMutationBatch(N,v,Y,h)})).then(N=>(N.applyToLocalDocumentSet(M),{batchId:N.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,h,p){let v=c.qo[c.currentUser.toKey()];v||(v=new $i(Kn)),v=v.insert(h,p),c.qo[c.currentUser.toKey()]=v}(r,a.batchId,t),yield uu(r,a.changes),yield ph(r.remoteStore)}catch(a){const c=vm(a,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function Em(n,e){return cv.apply(this,arguments)}function cv(){return(cv=(0,$e.Z)(function*(n,e){const t=pt(n);try{const r=yield lm(t.localStore,e);e.targetChanges.forEach((a,c)=>{const h=t.Bo.get(c);h&&(fn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.ko=!0:a.modifiedDocuments.size>0?fn(h.ko):a.removedDocuments.size>0&&(fn(h.ko),h.ko=!1))}),yield uu(t,r,e)}catch(r){yield dh(r)}})).apply(this,arguments)}function OM(n,e,t){const r=pt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Oo.forEach((c,h)=>{const p=h.view.io(e);p.snapshot&&a.push(p.snapshot)}),function(c,h){const p=pt(c);p.onlineState=h;let v=!1;p.queries.forEach((A,M)=>{for(const N of M.listeners)N.io(h)&&(v=!0)}),v&&yw(p)}(r.eventManager,e),a.length&&r.$o.Rr(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ER(n,e,t){return YI.apply(this,arguments)}function YI(){return(YI=(0,$e.Z)(function*(n,e,t){const r=pt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Bo.get(e),c=a&&a.key;if(c){let h=new $i(Rt.comparator);h=h.insert(c,ti.newNoDocument(c,An.min()));const p=Yn().add(c),v=new Py(An.min(),new Map,new bi(Kn),h,p);yield Em(r,v),r.Lo=r.Lo.remove(c),r.Bo.delete(e),dv(r)}else yield Oo(r.localStore,e,!1).then(()=>Am(r,e,t)).catch(dh)})).apply(this,arguments)}function MM(n,e){return QI.apply(this,arguments)}function QI(){return(QI=(0,$e.Z)(function*(n,e){const t=pt(n),r=e.batch.batchId;try{const a=yield pM(t.localStore,e);Ew(t,r,null),Tm(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield uu(t,a)}catch(a){yield dh(a)}})).apply(this,arguments)}function uv(n,e,t){return ww.apply(this,arguments)}function ww(){return(ww=(0,$e.Z)(function*(n,e,t){const r=pt(n);try{const a=yield function(c,h){const p=pt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.In.lookupMutationBatch(v,h).next(M=>(fn(null!==M),A=M.keys(),p.In.removeMutationBatch(v,M))).next(()=>p.In.performConsistencyCheck(v)).next(()=>p.Qn.Pn(v,A))})}(r.localStore,e);Ew(r,e,t),Tm(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield uu(r,a)}catch(a){yield dh(a)}})).apply(this,arguments)}function JI(){return(JI=(0,$e.Z)(function*(n,e){const t=pt(n);cu(t.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const h=pt(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>h.In.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Ko.get(r)||[];a.push(e),t.Ko.set(r,a)}catch(r){const a=vm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Tm(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function Ew(n,e,t){const r=pt(n);let a=r.qo[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.qo[r.currentUser.toKey()]=a}}function Am(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||PM(n,r)})}function PM(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(gm(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),dv(n))}function Tw(n,e,t){for(const r of t)r instanceof GI?(n.Uo.addReference(r.key,e),AR(n,r)):r instanceof xM?(ut("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||PM(n,r.key)):Zt()}function AR(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(ut("SyncEngine","New document in limbo: "+t),n.Mo.add(r),dv(n))}function dv(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new Rt(pr.fromString(e)),r=n.jo.next();n.Bo.set(r,new mp(t)),n.Lo=n.Lo.insert(t,r),pm(n.remoteStore,new od(Dl(Yf(t.path)),r,2,Aa.T))}}function uu(n,e,t){return XI.apply(this,arguments)}function XI(){return(XI=(0,$e.Z)(function*(n,e,t){const r=pt(n),a=[],c=[],h=[];var p;r.Oo.isEmpty()||(r.Oo.forEach((p,v)=>{h.push(r.Wo(v,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,A.fromCache?"not-current":"current"),a.push(A);const M=Ky.kn(v.targetId,A);c.push(M)}}))}),yield Promise.all(h),r.$o.Rr(a),yield(p=(0,$e.Z)(function*(v,A){const M=pt(v);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>tt.forEach(A,B=>tt.forEach(B.Nn,Y=>M.persistence.referenceDelegate.addReference(N,B.targetId,Y)).next(()=>tt.forEach(B.xn,Y=>M.persistence.referenceDelegate.removeReference(N,B.targetId,Y)))))}catch(N){if(!ch(N))throw N;ut("LocalStore","Failed to update sequence numbers: "+N)}for(const N of A){const B=N.targetId;if(!N.fromCache){const Y=M.Un.get(B),je=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);M.Un=M.Un.insert(B,je)}}}),function(v,A){return p.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function IR(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,$e.Z)(function*(n,e){const t=pt(n);if(!t.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const r=yield Qb(t.localStore,e);t.currentUser=e,(a=t).Ko.forEach(h=>{h.forEach(p=>{p.reject(new rt(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uu(t,r.Wn)}var a})).apply(this,arguments)}function Im(n,e){const t=pt(n),r=t.Bo.get(e);if(r&&r.ko)return Yn().add(r.key);{let a=Yn();const c=t.Fo.get(e);if(!c)return a;for(const h of c){const p=t.Oo.get(h);a=a.unionWith(p.view.Ro)}return a}}function NM(n,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,$e.Z)(function*(n,e){const t=pt(n),r=yield hh(t.localStore,e.query,!0),a=e.view.No(r);return t.isPrimaryClient&&Tw(t,e.targetId,a.Do),a})).apply(this,arguments)}function kM(n){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,$e.Z)(function*(n){const e=pt(n);return CI(e.localStore).then(t=>uu(e,t))})).apply(this,arguments)}function RM(n,e,t,r){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,$e.Z)(function*(n,e,t,r){const a=pt(n),c=yield function(h,p){const v=pt(h),A=pt(v.In);return v.persistence.runTransaction("Lookup mutation documents","readonly",M=>A.Xt(M,p).next(N=>N?v.Qn.Pn(M,N):tt.resolve(null)))}(a.localStore,e);var p;null!==c?("pending"===t?yield ph(a.remoteStore):"acknowledged"===t||"rejected"===t?(Ew(a,e,r||null),Tm(a,e),p=e,pt(pt(a.localStore).In).te(p)):Zt(),yield uu(a,c)):ut("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function xm(){return(xm=(0,$e.Z)(function*(n,e){const t=pt(n);if(Sw(t),Ow(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield eD(t,r.toArray());t.Qo=!0,yield qI(t.remoteStore,!0);for(const c of a)pm(t.remoteStore,c)}else if(!1===e&&!1!==t.Qo){const r=[];let a=Promise.resolve();t.Fo.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):a=a.then(()=>(Am(t,h),Oo(t.localStore,h,!0))),gm(t.remoteStore,h)}),yield a,yield eD(t,r),function(c){const h=pt(c);h.Bo.forEach((p,v)=>{gm(h.remoteStore,v)}),h.Uo.us(),h.Bo=new Map,h.Lo=new $i(Rt.comparator)}(t),t.Qo=!1,yield qI(t.remoteStore,!1)}})).apply(this,arguments)}function eD(n,e,t){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,$e.Z)(function*(n,e,t){const r=pt(n),a=[],c=[];for(const h of e){let p;const v=r.Fo.get(h);if(v&&0!==v.length){p=yield hd(r.localStore,Dl(v[0]));for(const A of v){const M=r.Oo.get(A),N=yield NM(r,M);N.snapshot&&c.push(N.snapshot)}}else{const A=yield vI(r.localStore,h);p=yield hd(r.localStore,A),yield wm(r,hv(A),h,!1)}a.push(p)}return r.$o.Rr(c),a})).apply(this,arguments)}function hv(n){return FA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tD(n){const e=pt(n);return pt(pt(e.localStore).persistence).pn()}function nD(n,e,t,r){return xw.apply(this,arguments)}function xw(){return(xw=(0,$e.Z)(function*(n,e,t,r){const a=pt(n);if(a.Qo)ut("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const c=yield CI(a.localStore),h=Py.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield uu(a,c,h);break}case"rejected":yield Oo(a.localStore,e,!0),Am(a,e,r);break;default:Zt()}})).apply(this,arguments)}function rD(n,e,t){return fv.apply(this,arguments)}function fv(){return(fv=(0,$e.Z)(function*(n,e,t){const r=Sw(n);if(r.Qo){for(const a of e){if(r.Fo.has(a)){ut("SyncEngine","Adding an already active target "+a);continue}const c=yield vI(r.localStore,a),h=yield hd(r.localStore,c);yield wm(r,hv(c),h.targetId,!1),pm(r.remoteStore,h)}for(const a of t)r.Fo.has(a)&&(yield Oo(r.localStore,a,!1).then(()=>{gm(r.remoteStore,a),Am(r,a)}).catch(dh))}})).apply(this,arguments)}function Sw(n){const e=pt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Em.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Im.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ER.bind(null,e),e.$o.Rr=vR.bind(null,e.eventManager),e.$o.Go=AM.bind(null,e.eventManager),e}function Ow(n){const e=pt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uv.bind(null,e),e}class Pw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$e.Z)(function*(){t.N=fm(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return Yb(this.persistence,new Kb,e.initialUser,this.N)}Jo(e){return new EI(Qy.Ns,this.N)}Ho(e){return new DI}terminate(){var e=this;return(0,$e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nw extends Pw{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,$e.Z)(function*(){yield t().call(r,e),yield function(n){return cm.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield Ow(r.Zo.syncEngine),yield ph(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return Yb(this.persistence,new Kb,e.initialUser,this.N)}Yo(e){return new uM(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=Wy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new zb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,xI(),hm(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new DI}}class kw extends Nw{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,$e.Z)(function*(){yield t().call(r,e);const a=r.Zo.syncEngine;r.sharedClientState instanceof fd&&(r.sharedClientState.syncEngine={_i:RM.bind(null,a),mi:nD.bind(null,a),gi:rD.bind(null,a),pn:tD.bind(null,a),wi:kM.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,$e.Z)(function*(h){yield function(n,e){return xm.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Ho(e){const t=xI();if(!fd.bt(t))throw new rt(Le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Wy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fd(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Rw{initialize(e,t){var r=this;return(0,$e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>OM(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=IR.bind(null,r.syncEngine),yield qI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TM}createDatastore(e){const t=fm(e.databaseInfo.databaseId),r=new sw(e.databaseInfo);return new nv(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,c=p=>OM(this.syncEngine,p,0),h=vM.bt()?new vM:new yM,new pR(t,r,a,c,h);var t,r,a,c,h}createSyncEngine(e,t){return function(r,a,c,h,p,v,A){const M=new WI(r,a,c,h,p,v);return A&&(M.Qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$e.Z)(function*(t){const r=pt(t);ut("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield fh(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nl(n,e=10240){let t=0;return{read:()=>(0,$e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,$e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class DR{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Cs,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,$e.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,$e.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,$e.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),a=Number(r);isNaN(a)&&e.oc(`length string (${r}) is not valid number`);const c=yield e.cc(a);return new CR(JSON.parse(c),t.length+a)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,$e.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,$e.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,$e.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class FM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,$e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new rt(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,$e.Z)(function*(c,h){const p=pt(c),v=Xg(p.N)+"/documents",A={documents:h.map(Y=>Ec(p.N,Y))},M=yield p.Ki("BatchGetDocuments",v,A),N=new Map;M.forEach(Y=>{const de=function(n,e){return"found"in e?function(t,r){fn(!!r.found);const a=na(t,r.found.name),c=Es(r.found.updateTime),h=new lo({mapValue:{fields:r.found.fields}});return ti.newFoundDocument(a,c,h)}(n,e):"missing"in e?function(t,r){fn(!!r.missing),fn(!!r.readTime);const a=na(t,r.missing),c=Es(r.readTime);return ti.newNoDocument(a,c)}(n,e):Zt()}(p.N,Y);N.set(de.key.toString(),de)});const B=[];return h.forEach(Y=>{const de=N.get(Y.toString());fn(!!de),B.push(de)}),B}),function(c,h){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,$e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const c=Rt.fromPath(a);e.mutations.push(new np(c,e.precondition(c)))}),yield(r=(0,$e.Z)(function*(a,c){const h=pt(a),p=Xg(h.N)+"/documents",v={writes:c.map(A=>ou(h.N,A))};yield h.Li("Commit",p,v)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zt();t=An.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new rt(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bi.updateTime(t):Bi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(An.min()))throw new rt(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bi.updateTime(t)}return Bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xR{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.hc=5,this.ar=new ow(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,$e.Z)(function*(){const t=new FM(e.datastore),r=e.fc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.dc(c)}))}).catch(a=>{e.dc(a)})}))}fc(e){try{const t=this.updateFunction(e);return!sh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ib(t)}return!1}}class VM{constructor(e,t,r){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=qs.UNAUTHENTICATED,this.clientId=IA.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var c=(0,$e.Z)(function*(h){ut("FirestoreClient","Received user=",h.uid),yield a.credentialListener(h),a.user=h});return function(h){return c.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,$e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const a=vm(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function iD(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=(0,$e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,$e.Z)(function*(c){r.isEqual(c)||(yield Qb(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function UM(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=(0,$e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gv(n);ut("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(c=(0,$e.Z)(function*(h,p){const v=pt(h);v.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const A=cu(v);v.Wr.add(3),yield fh(v),A&&v.Hr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(p),v.Wr.delete(3),yield pp(v)}),function(h,p){return c.apply(this,arguments)})(e.remoteStore,a);var c}),n.onlineComponents=e})).apply(this,arguments)}function gv(n){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,$e.Z)(function*(n){return n.offlineComponents||(ut("FirestoreClient","Using default OfflineComponentProvider"),yield iD(n,new Pw)),n.offlineComponents})).apply(this,arguments)}function mv(n){return _v.apply(this,arguments)}function _v(){return(_v=(0,$e.Z)(function*(n){return n.onlineComponents||(ut("FirestoreClient","Using default OnlineComponentProvider"),yield UM(n,new Rw)),n.onlineComponents})).apply(this,arguments)}function sD(n){return gv(n).then(e=>e.persistence)}function oD(n){return gv(n).then(e=>e.localStore)}function Uw(n){return mv(n).then(e=>e.remoteStore)}function yv(n){return mv(n).then(e=>e.syncEngine)}function _p(n){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,$e.Z)(function*(n){const e=yield mv(n),t=e.eventManager;return t.onListen=SM.bind(null,e.syncEngine),t.onUnlisten=KI.bind(null,e.syncEngine),t})).apply(this,arguments)}function jw(n,e,t={}){const r=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(a,c,h,p,v){const A=new pv({next:N=>{c.enqueueAndForget(()=>HI(a,M));const B=N.docs.has(h);!B&&N.fromCache?v.reject(new rt(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&N.fromCache&&p&&"server"===p.source?v.reject(new rt(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),M=new vw(Yf(h.path),A,{includeMetadataChanges:!0,fo:!0});return mw(a,M)}(yield _p(n),n.asyncQueue,e,t,r)})),r.promise}function lD(n,e,t={}){const r=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(a,c,h,p,v){const A=new pv({next:N=>{c.enqueueAndForget(()=>HI(a,M)),N.fromCache&&"server"===p.source?v.reject(new rt(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),M=new vw(h,A,{includeMetadataChanges:!0,fo:!0});return mw(a,M)}(yield _p(n),n.asyncQueue,e,t,r)})),r.promise}class uD{constructor(e,t,r,a,c,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class yp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yp&&e.projectId===this.projectId&&e.database===this.database}}const dD=new Map;function Bw(n,e,t){if(!t)throw new rt(Le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hD(n,e,t,r){if(!0===e&&!0===r)throw new rt(Le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hw(n){if(!Rt.isDocumentKey(n))throw new rt(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qM(n){if(Rt.isDocumentKey(n))throw new rt(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $w(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Zt()}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new rt(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$w(n);throw new rt(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vv(n,e){if(e<=0)throw new rt(Le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class os{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new rt(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rt(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cv{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new os({}),this._settingsFrozen=!1,e instanceof yp?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new rt(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yp(r.options.projectId)}(e))}get app(){if(!this._app)throw new rt(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rt(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new os(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Vg;switch(t.type){case"gapi":const r=t.client;return fn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new RO(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new rt(Le.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dD.get(e);t&&(ut("ComponentProvider","Removing Datastore"),dD.delete(e),t.terminate())}(this),Promise.resolve()}}class qr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qr(this.firestore,e,this._key)}}class ho{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Sa extends ho{constructor(e,t,r){super(e,t,Yf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new Rt(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function pD(n,e,...t){if(n=(0,$.m9)(n),Bw("collection","path",e),n instanceof Cv){const r=pr.fromString(e,...t);return qM(r),new Sa(n,null,r)}{if(!(n instanceof qr||n instanceof Sa))throw new rt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return qM(r),new Sa(n.firestore,null,r)}}function Om(n,e,...t){if(n=(0,$.m9)(n),1===arguments.length&&(e=IA.I()),Bw("doc","path",e),n instanceof Cv){const r=pr.fromString(e,...t);return Hw(r),new qr(n,null,new Rt(r))}{if(!(n instanceof qr||n instanceof Sa))throw new rt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return Hw(r),new qr(n.firestore,n instanceof Sa?n.converter:null,new Rt(r))}}function pd(n,e){return n=(0,$.m9)(n),e=(0,$.m9)(e),(n instanceof qr||n instanceof Sa)&&(e instanceof qr||e instanceof Sa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Gw(n,e){return n=(0,$.m9)(n),e=(0,$.m9)(e),n instanceof ho&&e instanceof ho&&n.firestore===e.firestore&&zg(n._query,e._query)&&n.converter===e.converter}class zw{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new ow(this,"async_queue_retry"),this.Rc=()=>{const t=hm();t&&ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=hm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=hm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Cs;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,$e.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!ch(t))throw t;ut("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,qi("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const a=BI.createAndSchedule(this,e,t,r,c=>this.Vc(c));return this.yc.push(a),a}bc(){this.Tc&&Zt()}verifyOperationInProgress(){}Sc(){var e=this;return(0,$e.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function Mm(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class BM{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ui extends Cv{constructor(e,t){super(e,t),this.type="firestore",this._queue=new zw,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$M(this),this._firestoreClient.terminate()}}function Qn(n){return n._firestoreClient||$M(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $M(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uD(n._databaseId,c,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var c,p;n._firestoreClient=new VM(n._credentials,n._queue,r)}function WM(n,e,t){const r=new Cs;return n.asyncQueue.enqueue((0,$e.Z)(function*(){try{yield iD(n,t),yield UM(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===Le.FAILED_PRECONDITION||c.code===Le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function mD(n){if(n._initialized||n._terminated)throw new rt(Le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class du{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new rt(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hu(ws.fromBase64String(e))}catch(t){throw new rt(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hu(ws.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mh{constructor(e){this._methodName=e}}class Ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rt(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rt(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const JM=/^__.*__$/;class RR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new td(e,this.data,t,this.fieldTransforms)}}class XM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _D(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt()}}class Tv{constructor(e,t,r,a,c,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=a,void 0===c&&this.xc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Tv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.Mc(e),a}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.xc(),a}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return vp(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(_D(this.kc)&&JM.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class eP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||fm(e)}jc(e,t,r,a=!1){return new Tv({kc:e,methodName:t,Kc:r,path:bs.emptyPath(),Fc:!1,qc:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function _h(n){const e=n._freezeSettings(),t=fm(n._databaseId);return new eP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Av(n,e,t,r,a,c={}){const h=n.jc(c.merge||c.mergeFields?2:0,e,t,a);Jw("Data must be an object, but it was:",h,r);const p=Qw(r,h);let v,A;if(c.merge)v=new rh(h.fieldMask),A=h.fieldTransforms;else if(c.mergeFields){const M=[];for(const N of c.mergeFields){const B=CD(e,N,t);if(!h.contains(B))throw new rt(Le.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);wD(M,B)||M.push(B)}v=new rh(M),A=h.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,A=h.fieldTransforms;return new RR(new lo(p),v,A)}class Po extends mh{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Po}}function yD(n,e,t){return new Tv({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Ww extends mh{_toFieldTransform(e){return new Yg(e.path,new wc)}isEqual(e){return e instanceof Ww}}class tP extends mh{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=yD(this,e,!0),r=this.Qc.map(c=>Ml(c,t)),a=new ah(r);return new Yg(e.path,a)}isEqual(e){return this===e}}class nP extends mh{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=yD(this,e,!0),r=this.Qc.map(c=>Ml(c,t)),a=new ep(r);return new Yg(e.path,a)}isEqual(e){return this===e}}class LR extends mh{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new tp(e.N,Wg(e.N,this.Wc));return new Yg(e.path,t)}isEqual(e){return this===e}}function Kw(n,e,t,r){const a=n.jc(1,e,t);Jw("Data must be an object, but it was:",a,r);const c=[],h=lo.empty();nh(r,(v,A)=>{const M=bD(e,v,t);A=(0,$.m9)(A);const N=a.Lc(M);if(A instanceof Po)c.push(M);else{const B=Ml(A,N);null!=B&&(c.push(M),h.set(M,B))}});const p=new rh(c);return new XM(h,p,a.fieldTransforms)}function Yw(n,e,t,r,a,c){const h=n.jc(1,e,t),p=[CD(e,r,t)],v=[a];if(c.length%2!=0)throw new rt(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<c.length;B+=2)p.push(CD(e,c[B])),v.push(c[B+1]);const A=[],M=lo.empty();for(let B=p.length-1;B>=0;--B)if(!wD(A,p[B])){const Y=p[B];let de=v[B];de=(0,$.m9)(de);const je=h.Lc(Y);if(de instanceof Po)A.push(Y);else{const nt=Ml(de,je);null!=nt&&(A.push(Y),M.set(Y,nt))}}const N=new rh(A);return new XM(M,N,h.fieldTransforms)}function vD(n,e,t,r=!1){return Ml(t,n.jc(r?4:3,e))}function Ml(n,e){if(rP(n=(0,$.m9)(n)))return Jw("Unsupported field value:",e,n),Qw(n,e);if(n instanceof mh)return function(t,r){if(!_D(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const a=[];let c=0;for(const h of t){let p=Ml(h,r.Bc(c));null==p&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,$.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wg(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=ss.fromDate(t);return{timestampValue:Rr(r.N,a)}}if(t instanceof ss){const a=new ss(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rr(r.N,a)}}if(t instanceof Ev)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hu)return{bytesValue:tl(r.N,t._byteString)};if(t instanceof qr){const a=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw r.Uc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ky(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${$w(t)}`)}(n,e)}function Qw(n,e){const t={};return gb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nh(n,(r,a)=>{const c=Ml(a,e.Oc(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function rP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ss||n instanceof Ev||n instanceof hu||n instanceof qr||n instanceof mh)}function Jw(n,e,t){if(!rP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=$w(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function CD(n,e,t){if((e=(0,$.m9)(e))instanceof du)return e._internalPath;if("string"==typeof e)return bD(n,e);throw vp("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const FR=new RegExp("[~\\*/\\[\\]]");function bD(n,e,t){if(e.search(FR)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new du(...e.split("."))._internalPath}catch(r){throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vp(n,e,t,r,a){const c=r&&!r.isEmpty(),h=void 0!==a;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||h)&&(v+=" (found",c&&(v+=` in field ${r}`),h&&(v+=` in document ${a}`),v+=")"),new rt(Le.INVALID_ARGUMENT,p+n+v)}function wD(n,e){return n.some(t=>t.isEqual(e))}class Pm{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iP extends Pm{data(){return super.data()}}function Xw(n,e){return"string"==typeof e?bD(n,e):e instanceof du?e._internalPath:e._delegate._internalPath}class yh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends Pm{constructor(e,t,r,a,c,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nm extends fu{data(e={}){return super.data(e)}}class As{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nm(this._firestore,this._userDataWriter,r.key,r,new yh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rt(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Nm(r._firestore,r._userDataWriter,h.doc.key,h.doc,new yh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const p=new Nm(r._firestore,r._userDataWriter,h.doc.key,h.doc,new yh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,A=-1;return 0!==h.type&&(v=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),A=c.indexOf(h.doc.key)),{type:VR(h.type),doc:p,oldIndex:v,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt()}}function eE(n,e){return n instanceof fu&&e instanceof fu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof As&&e instanceof As&&n._firestore===e._firestore&&Gw(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function ED(n){if(Qf(n)&&0===n.explicitOrderBy.length)throw new rt(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}function pu(n,...e){for(const t of e)n=t._apply(n);return n}class TD extends Cp{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=_h(e.firestore),r=function(a,c,h,p,v,A,M){let N;if(v.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new rt(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){DD(M,A);const Y=[];for(const de of M)Y.push(Dv(p,a,de));N={arrayValue:{values:Y}}}else N=Dv(p,a,M)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||DD(M,A),N=vD(h,"where",M,"in"===A||"not-in"===A);const B=xo.create(v,A,N);return function(Y,de){if(de.v()){const nt=Gg(Y);if(null!==nt&&!nt.isEqual(de.field))throw new rt(Le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${nt.toString()}' and '${de.field.toString()}'`);const vt=Ty(Y);null!==vt&&fo(0,de.field,vt)}const je=function(nt,vt){for(const Yt of nt.filters)if(vt.indexOf(Yt.op)>=0)return Yt.op;return null}(Y,function(nt){switch(nt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(de.op));if(null!==je)throw new rt(Le.INVALID_ARGUMENT,je===de.op?`Invalid query. You cannot use more than one '${de.op.toString()}' filter.`:`Invalid query. You cannot use '${de.op.toString()}' filters with '${je.toString()}' filters.`)}(a,B),B}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new ho(e.firestore,e.converter,function(a,c){const h=a.filters.concat([c]);return new ed(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class nE extends Cp{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,a,c){if(null!==r.startAt)throw new rt(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new rt(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new $g(a,c);return function(p,v){if(null===Ty(p)){const A=Gg(p);null!==A&&fo(0,A,v.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new ho(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new ed(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class km extends Cp{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new ho(e.firestore,e.converter,VA(e._query,this.Yc,this.Xc))}}class iE extends Cp{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=ID(e,this.type,this.Zc,this.ta);return new ho(e.firestore,e.converter,(a=t,new ed((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class sE extends Cp{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=ID(e,this.type,this.Zc,this.ta);return new ho(e.firestore,e.converter,(a=t,new ed((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function ID(n,e,t,r){if(t[0]=(0,$.m9)(t[0]),t[0]instanceof Pm)return function(a,c,h,p,v){if(!p)throw new rt(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const A=[];for(const M of Jf(a))if(M.field.isKeyField())A.push(yy(c,p.key));else{const N=p.data.field(M.field);if(mb(N))throw new rt(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const B=M.field.canonicalString();throw new rt(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}A.push(N)}return new ea(A,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=_h(n.firestore);return function(c,h,p,v,A,M){const N=c.explicitOrderBy;if(A.length>N.length)throw new rt(Le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let Y=0;Y<A.length;Y++){const de=A[Y];if(N[Y].field.isKeyField()){if("string"!=typeof de)throw new rt(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof de}`);if(!Ay(c)&&-1!==de.indexOf("/"))throw new rt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${v}() must be a plain document ID, but '${de}' contains a slash.`);const je=c.path.child(pr.fromString(de));if(!Rt.isDocumentKey(je))throw new rt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${v}() must result in a valid document path, but '${je}' is not because it contains an odd number of segments.`);const nt=new Rt(je);B.push(yy(h,nt))}else{const je=vD(p,v,de);B.push(je)}}return new ea(B,M)}(n._query,n.firestore._databaseId,a,e,t,r)}}function Dv(n,e,t){if("string"==typeof(t=(0,$.m9)(t))){if(""===t)throw new rt(Le.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ay(e)&&-1!==t.indexOf("/"))throw new rt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pr.fromString(t));if(!Rt.isDocumentKey(r))throw new rt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yy(n,new Rt(r))}if(t instanceof qr)return yy(n,t._key);throw new rt(Le.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${$w(t)}.`)}function DD(n,e){if(!Array.isArray(n)||0===n.length)throw new rt(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new rt(Le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fo(n,e,t){if(!t.isEqual(e))throw new rt(Le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vh{convertValue(e,t="none"){switch(oh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ih(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zt()}}convertObject(e,t){const r={};return nh(e.fields,(a,c)=>{r[a]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new Ev(ji(e.latitude),ji(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xA(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zg(e));default:return null}}convertTimestamp(e){const t=bc(e);return new ss(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pr.fromString(e);fn(eI(r));const a=new yp(r.get(1),r.get(3)),c=new Rt(r.popFirst(5));return a.isEqual(t)||qi(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Ch(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class xD extends vh{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,t)}}class Rm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_h(e)}set(e,t,r){this._verifyNotCommitted();const a=Dc(e,this._firestore),c=Ch(a.converter,t,r),h=Av(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(h.toMutation(a._key,Bi.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const c=Dc(e,this._firestore);let h;return h="string"==typeof(t=(0,$.m9)(t))||t instanceof du?Yw(this._dataReader,"WriteBatch.update",c._key,t,r,a):Kw(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,Bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dc(e,this._firestore);return this._mutations=this._mutations.concat(new Qg(t._key,Bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dc(n,e){if((n=(0,$.m9)(n)).firestore!==e)throw new rt(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xc extends vh{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,t)}}function MD(n,e,t){n=cr(n,qr);const r=cr(n.firestore,ui),a=Ch(n.converter,e,t);return wp(r,[Av(_h(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Bi.none())])}function PD(n,e,t,...r){n=cr(n,qr);const a=cr(n.firestore,ui),c=_h(a);let h;return h="string"==typeof(e=(0,$.m9)(e))||e instanceof du?Yw(c,"updateDoc",n._key,e,t,r):Kw(c,"updateDoc",n._key,e),wp(a,[h.toMutation(n._key,Bi.exists(!0))])}function bp(n,...e){var t,r,a;n=(0,$.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Mm(e[h])||(c=e[h],h++);const p={includeMetadataChanges:c.includeMetadataChanges};if(Mm(e[h])){const N=e[h];e[h]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[h+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[h+2]=null===(a=N.complete)||void 0===a?void 0:a.bind(N)}let v,A,M;if(n instanceof qr)A=cr(n.firestore,ui),M=Yf(n._key.path),v={next:N=>{e[h]&&e[h](aE(A,n,N))},error:e[h+1],complete:e[h+2]};else{const N=cr(n,ho);A=cr(N.firestore,ui),M=N._query;const B=new xc(A);v={next:Y=>{e[h]&&e[h](new As(A,B,N,Y))},error:e[h+1],complete:e[h+2]},ED(n._query)}return function(N,B,Y,de){const je=new pv(de),nt=new vw(B,je,Y);return N.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return mw(yield _p(N),nt)})),()=>{je.ec(),N.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return HI(yield _p(N),nt)}))}}(Qn(A),M,p,v)}function wp(n,e){return function(t,r){const a=new Cs;return t.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(n,e,t){return lv.apply(this,arguments)}(yield yv(t),r,a)})),a.promise}(Qn(n),e)}function aE(n,e,t){const r=t.docs.get(e._key),a=new xc(n);return new fu(n,a,e._key,r,new yh(t.hasPendingWrites,t.fromCache),e.converter)}class pP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_h(e)}get(e){const t=Dc(e,this._firestore),r=new xD(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Zt();const c=a[0];if(c.isFoundDocument())return new Pm(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Pm(this._firestore,r,t._key,null,t.converter);throw Zt()})}set(e,t,r){const a=Dc(e,this._firestore),c=Ch(a.converter,t,r),h=Av(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,h),this}update(e,t,r,...a){const c=Dc(e,this._firestore);let h;return h="string"==typeof(t=(0,$.m9)(t))||t instanceof du?Yw(this._dataReader,"Transaction.update",c._key,t,r,a):Kw(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=Dc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Dc(e,this._firestore),r=new xc(this._firestore);return super.get(e).then(a=>new fu(this._firestore,r,t._key,a._document,new yh(!1,!1),t.converter))}}function md(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fm(){if("undefined"==typeof Uint8Array)throw new rt("unimplemented","Uint8Arrays are not available in this environment.")}function bh(){if("undefined"==typeof atob)throw new rt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){th=Qo.SDK_VERSION,(0,Qo._registerComponent)(new Jo.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),c=new ui(a,new NO(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Qo.registerVersion)(EA,"3.3.1",n),(0,Qo.registerVersion)(EA,"3.3.1","esm2017")}();class Vm{constructor(e){this._delegate=e}static fromBase64String(e){return bh(),new Vm(hu.fromBase64String(e))}static fromUint8Array(e){return Fm(),new Vm(hu.fromUint8Array(e))}toBase64(){return bh(),this._delegate.toBase64()}toUint8Array(){return Fm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cE(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class RD{enableIndexedDbPersistence(e,t){return function(n,e){mD(n=cr(n,ui));const t=Qn(n),r=n._freezeSettings(),a=new Rw;return WM(t,a,new Nw(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){mD(n=cr(n,ui));const e=Qn(n),t=n._freezeSettings(),r=new Rw;return WM(e,r,new kw(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new rt(Le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{yield(t=(0,$e.Z)(function*(r){if(!Sl.bt())return Promise.resolve();const a=r+"main";yield Sl.delete(a)}),function(r){return t.apply(this,arguments)})(Wy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uE{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof yp||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const c=(n=cr(n,Cv))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Fg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=qs.MOCK_USER;else{h=(0,$.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new rt(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qs(v)}n._credentials=new PO(new fb(h,p))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield sD(n),t=yield Uw(n);return e.setNetworkEnabled(!0),function(r){const a=pt(r);return a.Wr.delete(0),pp(a)}(t)}))}(Qn(n=cr(n,ui)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield sD(n),t=yield Uw(n);return e.setNetworkEnabled(!1),(r=(0,$e.Z)(function*(a){const c=pt(a);c.Wr.add(0),yield fh(c),c.Hr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(Qn(n=cr(n,ui)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Cs;return e.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(n,e){return JI.apply(this,arguments)}(yield yv(e),t)})),t.promise}(Qn(n=cr(n,ui)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new pv(e);return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield _p(n),a=t,pt(r).so.add(a),void a.next();var r,a})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield _p(n),a=t,void pt(r).so.delete(a);var r,a}))}}(Qn(n=cr(n,ui)),Mm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new rt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ep(this,pD(this._delegate,e))}catch(t){throw Oi(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oa(this,Om(this._delegate,e))}catch(t){throw Oi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ia(this,function(n,e){if(n=cr(n,Cv),Bw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rt(Le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ho(n,null,(t=e,new ed(pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Oi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){const r=yield(a=n,mv(a).then(c=>c.datastore));var a;new xR(n.asyncQueue,r,e,t).run()})),t.promise}(Qn(n=cr(n,ui)),t=>e(new pP(n,t)))}(this._delegate,t=>e(new xv(this,t)))}batch(){return Qn(this._delegate),new FD(new Rm(this._delegate,e=>wp(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Qn(n=cr(n,ui)),r=new BM;return function(n,e,t,r){const a=function(c,h){let p;return p="string"==typeof c?(new TextEncoder).encode(c):c,v=function(v,A){if(v instanceof Uint8Array)return nl(v,A);if(v instanceof ArrayBuffer)return nl(new Uint8Array(v),A);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new DR(v,h);var v}(t,fm(e));n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){!function(n,e,t){const r=pt(n);var a;(a=(0,$e.Z)(function*(c,h,p){try{const v=yield h.getMetadata();if(yield function(B,Y){const de=pt(B),je=Es(Y.createTime);return de.persistence.runTransaction("hasNewerBundle","readonly",nt=>de.Je.getBundleMetadata(nt,Y.id)).then(nt=>!!nt&&nt.createTime.compareTo(je)>=0)}(c.localStore,v))return yield h.close(),void p._completeWith((B=v,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));p._updateProgress(DM(v));const A=new bR(v,c.localStore,h.N);let M=yield h.zo();for(;M;){const B=yield A.mo(M);B&&p._updateProgress(B),M=yield h.zo()}const N=yield A.complete();yield uu(c,N.En,void 0),yield function(B,Y){const de=pt(B);return de.persistence.runTransaction("Save bundle","readwrite",je=>de.Je.saveBundleMetadata(je,Y))}(c.localStore,v),p._completeWith(N.progress)}catch(v){Fg("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v)}var B}),function(c,h,p){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield yv(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,$e.Z)(function*(){return function(t,r){const a=pt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Je.getNamedQuery(c,r))}(yield oD(n),e)}))}(Qn(n=cr(n,ui)),e).then(t=>t?new ho(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ia(this,t):null)}}class Um extends vh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vm(new hu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oa.forKey(t,this.firestore,null)}}class xv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Um(e)}get(e){const t=Eh(e);return this._delegate.get(t).then(r=>new Zm(this._firestore,new fu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=Eh(e);return r?(md("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=Eh(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=Eh(e);return this._delegate.delete(t),this}}class FD{constructor(e){this._delegate=e}set(e,t,r){const a=Eh(e);return r?(md("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=Eh(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=Eh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Nm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ov(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wh.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(t);return c||(c=new wh(e,new Um(e),t),a.set(t,c)),c}}wh.INSTANCES=new WeakMap;class Oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Um(e)}static forPath(e,t,r){if(e.length%2!=0)throw new rt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oa(t,new qr(t._delegate,r,new Rt(e)))}static forKey(e,t,r){return new Oa(t,new qr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ep(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ep(this.firestore,pD(this._delegate,e))}catch(t){throw Oi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$.m9)(e))instanceof qr&&pd(this._delegate,e)}set(e,t){t=md("DocumentReference.set",t);try{return t?MD(this._delegate,e,t):MD(this._delegate,e)}catch(r){throw Oi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?PD(this._delegate,e):PD(this._delegate,e,t,...r)}catch(a){throw Oi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return wp(cr(n.firestore,ui),[new Qg(n._key,Bi.none())])}(this._delegate)}onSnapshot(...e){const t=Sv(e),r=VD(e,a=>new Zm(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return bp(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=cr(n,qr);const e=cr(n.firestore,ui),t=Qn(e),r=new xc(e);return function(n,e){const t=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(r=(0,$e.Z)(function*(a,c,h){try{const p=yield function(v,A){const M=pt(v);return M.persistence.runTransaction("read document","readonly",N=>M.Qn.An(N,A))}(a,c);p.isFoundDocument()?h.resolve(p):p.isNoDocument()?h.resolve(null):h.reject(new rt(Le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=vm(p,`Failed to get document '${c} from cache`);h.reject(v)}}),function(a,c,h){return r.apply(this,arguments)})(yield oD(n),e,t);var r})),t.promise}(t,n._key).then(a=>new fu(e,r,n._key,a,new yh(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=cr(n,qr);const e=cr(n.firestore,ui);return jw(Qn(e),n._key,{source:"server"}).then(t=>aE(e,n,t))}(this._delegate):function(n){n=cr(n,qr);const e=cr(n.firestore,ui);return jw(Qn(e),n._key).then(t=>aE(e,n,t))}(this._delegate),t.then(r=>new Zm(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Oa(this.firestore,this._delegate.withConverter(e?wh.getInstance(this.firestore,e):null))}}function Oi(n,e,t){return n.message=n.message.replace(e,t),n}function Sv(n){for(const e of n)if("object"==typeof e&&!cE(e))return e;return{}}function VD(n,e){var t,r;let a;return a=cE(n[0])?n[0]:cE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class Zm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eE(this._delegate,e._delegate)}}class Ov extends Zm{data(e){const t=this._delegate.data(e);return function(n,e){n||Zt()}(void 0!==t),t}}class ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Um(e)}where(e,t,r){try{return new ia(this.firestore,pu(this._delegate,function(n,e,t){const r=e,a=Xw("where",n);return new TD(a,r,t)}(e,t,r)))}catch(a){throw Oi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ia(this.firestore,pu(this._delegate,function(n,e="asc"){const t=e,r=Xw("orderBy",n);return new nE(r,t)}(e,t)))}catch(r){throw Oi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ia(this.firestore,pu(this._delegate,function(n){return vv("limit",n),new km("limit",n,"F")}(e)))}catch(t){throw Oi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ia(this.firestore,pu(this._delegate,function(n){return vv("limitToLast",n),new km("limitToLast",n,"L")}(e)))}catch(t){throw Oi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ia(this.firestore,pu(this._delegate,function(...n){return new iE("startAt",n,!0)}(...e)))}catch(t){throw Oi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ia(this.firestore,pu(this._delegate,function(...n){return new iE("startAfter",n,!1)}(...e)))}catch(t){throw Oi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ia(this.firestore,pu(this._delegate,function(...n){return new sE("endBefore",n,!0)}(...e)))}catch(t){throw Oi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ia(this.firestore,pu(this._delegate,function(...n){return new sE("endAt",n,!1)}(...e)))}catch(t){throw Oi(t,"endAt()","Query.endAt()")}}isEqual(e){return Gw(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=cr(n,ho);const e=cr(n.firestore,ui),t=Qn(e),r=new xc(e);return function(n,e){const t=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(r=(0,$e.Z)(function*(a,c,h){try{const p=yield hh(a,c,!0),v=new zI(c,p.Gn),A=v.bo(p.documents),M=v.applyChanges(A,!1);h.resolve(M.snapshot)}catch(p){const v=vm(p,`Failed to execute query '${c} against cache`);h.reject(v)}}),function(a,c,h){return r.apply(this,arguments)})(yield oD(n),e,t);var r})),t.promise}(t,n._query).then(a=>new As(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=cr(n,ho);const e=cr(n.firestore,ui),t=Qn(e),r=new xc(e);return lD(t,n._query,{source:"server"}).then(a=>new As(e,r,n,a))}(this._delegate):function(n){n=cr(n,ho);const e=cr(n.firestore,ui),t=Qn(e),r=new xc(e);return ED(n._query),lD(t,n._query).then(a=>new As(e,r,n,a))}(this._delegate),t.then(r=>new UD(this.firestore,new As(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Sv(e),r=VD(e,a=>new UD(this.firestore,new As(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return bp(this._delegate,t,r)}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?wh.getInstance(this.firestore,e):null))}}class ZR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ov(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ia(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ov(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ZR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ov(this._firestore,r))})}isEqual(e){return eE(this._delegate,e._delegate)}}class Ep extends ia{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oa(this.firestore,e):null}doc(e){try{return new Oa(this.firestore,void 0===e?Om(this._delegate):Om(this._delegate,e))}catch(t){throw Oi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=cr(n.firestore,ui),r=Om(n),a=Ch(n.converter,e);return wp(t,[Av(_h(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Bi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Oa(this.firestore,t))}isEqual(e){return pd(this._delegate,e._delegate)}withConverter(e){return new Ep(this.firestore,this._delegate.withConverter(e?wh.getInstance(this.firestore,e):null))}}function Eh(n){return cr(n,qr)}class ZD{constructor(...e){this._delegate=new du(...e)}static documentId(){return new ZD(bs.keyField().canonicalString())}isEqual(e){return(e=(0,$.m9)(e))instanceof du&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ww("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Tp(e)}static delete(){const e=new Po("deleteField");return e._methodName="FieldValue.delete",new Tp(e)}static arrayUnion(...e){const t=function(...n){return new tP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tp(t)}static arrayRemove(...e){const t=function(...n){return new nP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tp(t)}static increment(e){const t=function(n){return new LR("increment",n)}(e);return t._methodName="FieldValue.increment",new Tp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const qR={Firestore:uE,GeoPoint:Ev,Timestamp:ss,Blob:Vm,Transaction:xv,WriteBatch:FD,DocumentReference:Oa,DocumentSnapshot:Zm,Query:ia,QueryDocumentSnapshot:Ov,QuerySnapshot:UD,CollectionReference:Ep,FieldPath:ZD,FieldValue:Tp,setLogLevel:function(n){!function(n){su.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Jo.wA("firestore-compat",t=>((e,t)=>new uE(e,t,new RD))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},qR)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.8")}(S1.Z);var qD=z(6682);function CP(n,e){return e?_i(()=>n,e):_i(()=>n)}var jD=z(3101);z(2329);const it=new Map,ze={activated:!1,tokenObservers:[]},Lt={initialized:!1,enabled:!1};function Dt(n){return it.get(n)||ze}function pn(n,e){it.set(n,e)}function Ei(){return Lt}class hE{constructor(e,t,r,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,$e.Z)(function*(){t.stop();try{t.pending=new $.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gs=new $.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function BR(n){if(!Dt(n).activated)throw Gs.create("use-before-activation",{appName:n.name})}function EP(n,e){return TP.apply(this,arguments)}function TP(){return(TP=(0,$e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let h,p;try{h=yield fetch(n,c)}catch(N){throw Gs.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==h.status)throw Gs.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(N){throw Gs.create("fetch-parse-error",{originalErrorMessage:N.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const A=1e3*Number(v[1]),M=Date.now();return{token:p.attestationToken,expireTimeMillis:M+A,issuedAtTimeMillis:M}})).apply(this,arguments)}function tU(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const gE="firebase-app-check-store";let $D=null;function $R(){return $D||($D=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(Gs.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(gE,{keyPath:"compositeKey"})}}}catch(t){e(Gs.create("storage-open",{originalErrorMessage:t.message}))}}),$D)}function AP(){return(AP=(0,$e.Z)(function*(n,e){const r=(yield $R()).transaction(gE,"readwrite"),c=r.objectStore(gE).put({compositeKey:n,value:e});return new Promise((h,p)=>{c.onsuccess=v=>{h()},r.onerror=v=>{var A;p(Gs.create("storage-set",{originalErrorMessage:null===(A=v.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const mE=new Qa.Yd("@firebase/app-check");function KR(n,e){return(0,$.hl)()?function(n,e){return function(n,e){return AP.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{mE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YR(){return Ei().enabled}function QR(){return SP.apply(this,arguments)}function SP(){return(SP=(0,$e.Z)(function*(){const n=Ei();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dU={error:"UNKNOWN_ERROR"};function hU(n){return $.US.encodeString(JSON.stringify(n),!1)}function GD(n){return OP.apply(this,arguments)}function OP(){return(OP=(0,$e.Z)(function*(n,e=!1){const t=n.app;BR(t);const r=Dt(t);let c,a=r.token;if(!a){const v=yield r.cachedTokenPromise;v&&zD(v)&&(a=v)}if(!e&&a&&zD(a))return{token:a.token};let p,h=!1;if(YR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=EP(tU(t,yield QR()),n.platformLoggerProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),h=!0);const v=yield r.exchangeTokenPromise;return yield KR(t,v),pn(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),a=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?mE.warn(v.message):mE.error(v),c=v}return a?(p={token:a.token},pn(t,Object.assign(Object.assign({},r),{token:a})),yield KR(t,a)):p=pU(c),h&&XR(t,p),p})).apply(this,arguments)}function PP(n,e){const t=Dt(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),pn(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function JR(n){const{app:e}=n,t=Dt(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new hE((0,$e.Z)(function*(){let r;if(r=Dt(e).token?yield GD(n,!0):yield GD(n),r.error)throw r.error}),()=>!0,()=>{const t=Dt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),pn(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function XR(n,e){const t=Dt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function zD(n){return n.expireTimeMillis-Date.now()>0}function pU(n){return{token:hU(dU),error:n}}class gU{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Dt(this.app);for(const t of e)PP(this.app,t.next);return Promise.resolve()}}const aL="app-check-internal";(0,Qo._registerComponent)(new Jo.wA("app-check",n=>function(n,e){return new gU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aL).initialize()})),(0,Qo._registerComponent)(new Jo.wA(aL,n=>function(n){return{getToken:e=>GD(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,c=Dt(a),h={next:t,error:r,type:e};if(pn(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&zD(c.token)){const p=c.token;Promise.resolve().then(()=>{t({token:p.token}),JR(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>JR(n))}(n,"INTERNAL",e),removeTokenListener:e=>PP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qo.registerVersion)("@firebase/app-check","0.5.2");class KD{constructor(){return(0,zr.vb)("app-check")}}"undefined"!=typeof window&&window;var FP=z(7841);const VP=new o.OlP("angularfire2.auth.use-emulator"),UP=new o.OlP("angularfire2.auth.settings"),ZP=new o.OlP("angularfire2.auth.tenant-id"),qP=new o.OlP("angularfire2.auth.langugage-code"),jP=new o.OlP("angularfire2.auth.use-device-language"),BP=new o.OlP("angularfire.auth.persistence"),HP=(n,e,t,r,a,c,h,p)=>(0,Do.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=a,c&&v.useDeviceLanguage(),h)for(const[A,M]of Object.entries(h))v.settings[A]=M;return p&&v.setPersistence(p),v},[t,r,a,c,h,p]);let _E=(()=>{class n{constructor(t,r,a,c,h,p,v,A,M,N,B,Y){const de=new hs.xQ,je=(0,Et.of)(void 0).pipe((0,Wl.QV)(h.outsideAngular),_i(()=>c.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,4828)))),(0,Ut.U)(()=>(0,Do.on)(t,c,r)),(0,Ut.U)(nt=>HP(nt,c,p,A,M,N,v,B)),Kl({bufferSize:1,refCount:!1}));if(Ra(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Et.of)(null);else{je.pipe(Vu()).subscribe();const vt=je.pipe(_i(ln=>ln.getRedirectResult().then(jr=>jr,()=>null)),zr.iC,Kl({bufferSize:1,refCount:!1})),Yt=je.pipe(_i(ln=>new Ji.y(jr=>({unsubscribe:c.runOutsideAngular(()=>ln.onAuthStateChanged(as=>jr.next(as),as=>jr.error(as),()=>jr.complete()))})))),xn=je.pipe(_i(ln=>new Ji.y(jr=>({unsubscribe:c.runOutsideAngular(()=>ln.onIdTokenChanged(as=>jr.next(as),as=>jr.error(as),()=>jr.complete()))}))));this.authState=vt.pipe(CP(Yt),(0,jD.R)(h.outsideAngular),(0,Wl.QV)(h.insideAngular)),this.user=vt.pipe(CP(xn),(0,jD.R)(h.outsideAngular),(0,Wl.QV)(h.insideAngular)),this.idToken=this.user.pipe(_i(ln=>ln?(0,Dr.D)(ln.getIdToken()):(0,Et.of)(null))),this.idTokenResult=this.user.pipe(_i(ln=>ln?(0,Dr.D)(ln.getIdTokenResult()):(0,Et.of)(null))),this.credential=(0,qD.T)(vt,de,this.authState.pipe(dc(ln=>!ln))).pipe((0,Ut.U)(ln=>(null==ln?void 0:ln.user)?ln:null),(0,jD.R)(h.outsideAngular),(0,Wl.QV)(h.insideAngular))}return(0,Do.pX)(this,je,c,{spy:{apply:(nt,vt,Yt)=>{(nt.startsWith("signIn")||nt.startsWith("createUser"))&&Yt.then(xn=>de.next(xn))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Do.Dh),o.LFG(Do.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(zr.HU),o.LFG(VP,8),o.LFG(UP,8),o.LFG(ZP,8),o.LFG(qP,8),o.LFG(jP,8),o.LFG(BP,8),o.LFG(KD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RU=(()=>{class n{constructor(){FP.Z.registerVersion("angularfire",zr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_E]}),n})();function cL(n,e){return function(n,e=x1.z){return new Ji.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function $P(n,e){return cL(n,e).pipe((0,Ut.U)(t=>({payload:t,type:"query"})))}function YD(n,e){return $P(n,e).pipe(m0(void 0),L_(),(0,Ut.U)(([t,r])=>{const a=r.payload.docChanges(),c=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,p)=>{const v=a.find(M=>M.doc.ref.isEqual(h.ref)),A=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&A&&JSON.stringify(A.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:h}})}),c}))}function uL(n,e,t){return YD(n,t).pipe(Ya((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(c=>c.payload),e),[]),F_(),(0,Ut.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function GP(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function dL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class hL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=YD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ut.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(m0(void 0),L_(),dc(([r,a])=>a.length>0||!r),(0,Ut.U)(([r,a])=>a),zr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ya((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dL(e);return uL(this.query,t,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(e={}){return $P(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),zr.iC)}get(e){return(0,Dr.D)(this.query.get(e)).pipe(zr.iC)}add(e){return this.ref.add(e)}doc(e){return new fL(this.ref.doc(e),this.afs)}}class fL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:c}=mL(r,t);return new hL(a,c,this.afs)}snapshotChanges(){return function(n,e){return cL(n,e).pipe(m0(void 0),L_(),(0,Ut.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Dr.D)(this.ref.get(e)).pipe(zr.iC)}}class ZU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?YD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),dc(t=>t.length>0),zr.iC):YD(this.query,this.afs.schedulers.outsideAngular).pipe(zr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ya((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dL(e);return uL(this.query,t,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(e={}){return $P(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ut.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),zr.iC)}get(e){return(0,Dr.D)(this.query.get(e)).pipe(zr.iC)}}const pL=new o.OlP("angularfire2.enableFirestorePersistence"),gL=new o.OlP("angularfire2.firestore.persistenceSettings"),qU=new o.OlP("angularfire2.firestore.settings"),jU=new o.OlP("angularfire2.firestore.use-emulator");function mL(n,e=(t=>t)){return{query:e(n),ref:n}}let yE=(()=>{class n{constructor(t,r,a,c,h,p,v,A,M,N,B,Y,de,je,nt,vt,Yt){this.schedulers=v;const xn=(0,Do.on)(t,p,r),ln=M;N&&HP(xn,p,B,de,je,nt,Y,vt),[this.firestore,this.persistenceEnabled$]=(0,Do.cc)(`${xn.name}.firestore`,"AngularFirestore",xn.name,()=>{const jr=p.runOutsideAngular(()=>xn.firestore());if(c&&jr.settings(c),ln&&jr.useEmulator(...ln),a&&!Ra(h)){const as=()=>{try{return(0,Dr.D)(jr.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch($x){return"undefined"!=typeof console&&console.warn($x),(0,Et.of)(!1)}};return[jr,p.runOutsideAngular(as)]}return[jr,(0,Et.of)(!1)]},[c,ln,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=mL(a,r),p=this.schedulers.ngZone.run(()=>c);return new hL(p,h,this)}collectionGroup(t,r){const a=r||(h=>h),c=this.firestore.collectionGroup(t);return new ZU(a(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new fL(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Do.Dh),o.LFG(Do.xv,8),o.LFG(pL,8),o.LFG(qU,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(zr.HU),o.LFG(gL,8),o.LFG(jU,8),o.LFG(_E,8),o.LFG(VP,8),o.LFG(UP,8),o.LFG(ZP,8),o.LFG(qP,8),o.LFG(jP,8),o.LFG(BP,8),o.LFG(KD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BU=(()=>{class n{constructor(){FP.Z.registerVersion("angularfire",zr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:pL,useValue:!0},{provide:gL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[yE]}),n})(),vE=(()=>{class n{constructor(t){this.AngularFireStore=t,this.dbPath="/Doctor"}getAllDoctor(){return this.AngularFireStore.collection(this.dbPath).snapshotChanges()}AddNewDoctor(t){return this.AngularFireStore.collection(this.dbPath).add(t)}getDoctorById(t){return this.AngularFireStore.collection(this.dbPath).doc(t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_L=(()=>{class n{constructor(t){this.translate=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(va))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-card"]],inputs:{doctor:"doctor"},decls:55,vars:36,consts:[[1,"card","mb-2"],["alt","Card image cap",1,"card-img-top",3,"src","routerLink"],[1,"card-title","ps-3",3,"routerLink"],[1,"mb-1","ps-3"],[1,"text-muted","ps-3",3,"routerLink"],[1,"d-flex"],[1,"col-md-6","icon"],["aria-hidden","true",1,"fa","fa-star","text-warning"],["aria-hidden","true",1,"fa","fa-eye"],[1,"ps-3","pt-1"],[1,"ps-3"],[1,"col-md-4","d-flex","flex-column"],[1,"fas","fa-history","fees"],[1,"text-muted"],[1,"desc"],[1,"fas","fa-dollar-sign","fees"],[1,"fas","fa-phone-alt","fees"],[1,"ps-3","pt-1","text-muted"],[1,"btn","text-white","text-center",3,"routerLink"],[1,"mt-1","text-center"],[1,"fas","fa-sort-down"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"div"),o.TgZ(3,"h4",2),o._uU(4),o.qZA(),o.TgZ(5,"p",3),o._uU(6),o.qZA(),o.TgZ(7,"p",4),o._uU(8),o.qZA(),o.TgZ(9,"div",5),o.TgZ(10,"div",6),o._UZ(11,"i",7),o.TgZ(12,"span"),o._uU(13,"5"),o.qZA(),o.qZA(),o.TgZ(14,"div",6),o._UZ(15,"i",8),o.TgZ(16,"span"),o._uU(17,"5442"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"h6",9),o._uU(19),o.qZA(),o.TgZ(20,"p",10),o._uU(21),o.qZA(),o.TgZ(22,"div",5),o.TgZ(23,"div",11),o._UZ(24,"i",12),o.TgZ(25,"span",13),o._uU(26),o.ALo(27,"translate"),o.qZA(),o.TgZ(28,"span",14),o._uU(29),o.ALo(30,"translate"),o.qZA(),o.qZA(),o.TgZ(31,"div",11),o._UZ(32,"i",15),o.TgZ(33,"span",13),o._uU(34),o.ALo(35,"translate"),o.qZA(),o.TgZ(36,"span",14),o._uU(37),o.ALo(38,"translate"),o.qZA(),o.qZA(),o.TgZ(39,"div",11),o._UZ(40,"i",16),o.TgZ(41,"span",13),o._uU(42),o.ALo(43,"translate"),o.qZA(),o.TgZ(44,"span",14),o._uU(45),o.qZA(),o.qZA(),o.qZA(),o.TgZ(46,"p",17),o._uU(47),o.qZA(),o.TgZ(48,"button",18),o._uU(49),o.ALo(50,"translate"),o.qZA(),o.TgZ(51,"p",19),o._uU(52),o.ALo(53,"translate"),o._UZ(54,"i",20),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.s9C("src",r.doctor.url,o.LSH),o.MGl("routerLink","../doctorDetails/",r.doctor.id,""),o.xp6(2),o.MGl("routerLink","doctorDetails/",r.doctor.id,""),o.xp6(1),o.hij(" ",r.doctor.firstName," "),o.xp6(2),o.Oqu(r.doctor.drCategory),o.xp6(1),o.MGl("routerLink","doctorDetails/",r.doctor.id,""),o.xp6(1),o.hij(" ",r.doctor.mobile," "),o.xp6(11),o.AsE("",r.doctor.firstName," ",r.doctor.lastName,""),o.xp6(2),o.Oqu(r.doctor.drCity),o.xp6(5),o.Oqu(o.lcZ(27,22,"Waiting")),o.xp6(3),o.AsE("",r.doctor.time," ",o.lcZ(30,24,"minute"),""),o.xp6(5),o.Oqu(o.lcZ(35,26,"Fees")),o.xp6(3),o.AsE("",r.doctor.fees," ",o.lcZ(38,28,"EGP"),""),o.xp6(5),o.Oqu(o.lcZ(43,30,"Call us")),o.xp6(3),o.Oqu(r.doctor.mobile),o.xp6(2),o.Oqu(r.doctor.drArea),o.xp6(1),o.MGl("routerLink","../booking/",r.doctor.id,""),o.xp6(1),o.hij(" ",o.lcZ(50,32,"Book 14/102021 (5:00 PM - 8:00 PM)")," "),o.xp6(3),o.hij(" ",o.lcZ(53,34,"Show other available dates")," "))},directives:[yc],pipes:[ns],styles:[".card[_ngcontent-%COMP%]{padding:10px 20px}.d-flex[_ngcontent-%COMP%]{justify-content:space-around;text-align:center}img[_ngcontent-%COMP%]{border-radius:50%;width:120px;padding:.5em .5em .1em}h4[_ngcontent-%COMP%]{color:#38b9db}.icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px}.fees[_ngcontent-%COMP%]{color:#38b9db;font-size:1.8em}.desc[_ngcontent-%COMP%]{font-size:.8em}.btn[_ngcontent-%COMP%]{width:90%;margin-left:4%;background-color:#30c34b}.card-img-top[_ngcontent-%COMP%]{width:100px;height:100px}"]}),n})();const HU=function(n){return{active:n}};function $U(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){const c=o.CHM(t).index;return o.oxw().onpagintion(c)}),o.qZA()}if(2&n){const t=e.index,r=o.oxw();o.Q6J("ngClass",o.VKq(1,HU,r.currentPage==t))}}function GU(n,e){1&n&&o._UZ(0,"app-card",12),2&n&&o.Q6J("doctor",e.$implicit)}let yL=(()=>{class n{constructor(t){this.CrudService=t,this.doctorCarouselArr=[],this.numberOfPagesArray=[],this.pagesSize=3,this.currentPage=0,this.currentLang=localStorage.getItem("currentLang")}ngOnInit(){this.CrudService.getAllDoctor().subscribe(t=>{this.doctors=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,Object.assign({},a)}),console.log(this.doctors),this.sliceArray(),this.calculatePageNumbers()})}calculatePageNumbers(){const t=Math.ceil(this.doctors.length/this.pagesSize);for(let r=0;r<t;r++)this.numberOfPagesArray.push(r+1)}sliceArray(){this.doctorCarouselArr=this.doctors.slice(this.currentPage*this.pagesSize,this.currentPage*this.pagesSize+this.pagesSize)}onpagintion(t){t>-1&&t<this.numberOfPagesArray.length&&(this.currentPage=t,this.sliceArray())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vE))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-carousel"]],decls:11,vars:2,consts:[["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"d-flex","caro_cont"],["class","cl1 ","id","caro",3,"doctor",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev",3,"click"],["src","../../../assets/images/btn-arrow-right-normal.svg","alt",""],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next",3,"click"],["src","../../../assets/images/btn-arrow-left-normal.svg","alt",""],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",3,"ngClass","click"],["id","caro",1,"cl1",3,"doctor"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,$U,1,3,"button",2),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.YNc(6,GU,1,1,"app-card",6),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"button",7),o.NdJ("click",function(){return r.onpagintion(r.currentPage-1)}),o._UZ(8,"img",8),o.qZA(),o.TgZ(9,"button",9),o.NdJ("click",function(){return r.onpagintion(r.currentPage+1)}),o._UZ(10,"img",10),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.Q6J("ngForOf",r.numberOfPagesArray),o.xp6(4),o.Q6J("ngForOf",r.doctorCarouselArr))},directives:[Mn,Gi,_L],styles:["*[_ngcontent-%COMP%]{padding:0;border:0;box-sizing:border-box;outline:none;margin:0}#carouselExampleIndicators[_ngcontent-%COMP%]{background-color:#efeff4}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]{padding:3em}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{justify-content:space-evenly}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .cl1[_ngcontent-%COMP%]{width:30%}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]{justify-content:start;width:5%}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{justify-content:end;padding:1px;width:5%}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#38b9db}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:100%}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%2338B9DB' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E\")!important}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%2338B9DB' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E\")!important}@media screen and (max-width: 700px){#caro[_ngcontent-%COMP%]{width:100%!important}.caro_cont[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})(),vL=(()=>{class n{constructor(t){this.translate=t}setLanguage(t){this.translate.setDefaultLang(t),this.translate.use(t),localStorage.setItem("lang",t.toLowerCase())}hasLanguage(){let r,t=localStorage.getItem("lang");return t&&(r=t.length),!!r}getLanguage(){let t=localStorage.getItem("lang");return console.log(t),"ar"==t?t:this.getDefaultLanguage()}getDefaultLanguage(){return"en"}changeCssFile(t){document.getElementsByTagName("head");let a=document.getElementById("langCss");if("ar"===t){let c="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.rtl.min.css";a.type="text/css",a.crossOrigin="anonymous",a.integrity="sha384-+qdLaIRZfNu4cVPK/PxJJEy0B0f3Ugv8i482AKY7gwXwhaCroABd086ybrVKTa0q",a.href=c,console.log("integrity changed")}else{let c="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css";a.rel="stylesheet",a.type="text/css",a.crossOrigin="anonymous",a.integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3",a.href=c,console.log("integrity changed")}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(va))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zU=(()=>{class n{constructor(t,r){this.translate=t,this.lang=r,this.currentLang=localStorage.getItem("currentLang")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(va),o.Y36(vL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-static-content"]],decls:95,vars:42,consts:[[1,"container-fluid",2,"margin-top","70px"],[1,"row","c1"],[1,"col-lg-7","col-md-10","col-sm-12","col-xm-12"],["id","one"],[1,"why-img"],[1,"col-lg-2","col-md-2","col-sm-1","col-xs-2"],["src","https://clinido.com/public/images/icons-01.svg",1,"img-responsive"],[1,"col-lg-10","col-md-10","col-sm-11","col-xs-10"],[1,"why-h4"],["src","https://clinido.com/public/images/icons-02.svg",1,"img-responsive"],["src","https://clinido.com/public/images/icons-03.svg",1,"img-responsive"],["src","https://clinido.com/public/images/icons-04.svg",1,"img-responsive"],[1,"col-lg-5","col-md-5"],[1,"center"],[1,"doctor"],["src","https://clinido.com/public/images/img-1.svg",1,"img-responsive","xb"],[1,"wrapper"],["id","warpper",1,"wrapper"],[1,"container-fluid"],[1,"row"],[1,"col-md-4","col-sm-12","col-lg-4","my-3"],[1,"card","ca"],[1,"card-body","cb"],["src","https://clinido.com/public/images/img-features-03.svg","width","150","height","190","alt","loading..."],[1,"card-title","ctl"],[1,"card-text","ct"],["src","https://clinido.com/public/images/img-features-02.svg","width","150","height","190","alt","..."],["src","https://clinido.com/public/images/img-features-01.svg","width","150","height","190","alt","..."],["id","get"],[1,"col-lg-7","col-md-12","col-sm-12","col-xs-12"],[1,"get-content"],[1,"get-h1"],[1,"get-h3"],[1,"app-download","nav"],[1,"appel"],["href"," https://apps.apple.com/app/id1494684476","target","_blank"],["src","https://clinido.com/public/images/btn-apple-store-dark.svg",1,"img-responsive","web-img"],[1,"android"],["href","https://play.google.com/store/apps/details?id=com.patient.CliniDo.patientandroid","target","_blank"],["src","https://clinido.com/public/images/btn-google-play-dark-2.svg",1,"img-responsive","web-img"],[1,"col-lg-5","download-img"],[1,"get-img","mb-4"],["src","https://clinido.com/public/images/download-app-en.png",1,"img-responsive"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o._UZ(8,"img",6),o.qZA(),o.TgZ(9,"div",7),o.TgZ(10,"h4",8),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.TgZ(14,"div",5),o._UZ(15,"img",9),o.qZA(),o.TgZ(16,"div",7),o.TgZ(17,"h4",8),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",4),o.TgZ(21,"div",5),o._UZ(22,"img",10),o.qZA(),o.TgZ(23,"div",7),o.TgZ(24,"h4",8),o._uU(25),o.ALo(26,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",4),o.TgZ(28,"div",5),o._UZ(29,"img",11),o.qZA(),o.TgZ(30,"div",7),o.TgZ(31,"h4",8),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(34,"div",12),o.TgZ(35,"div",13),o.TgZ(36,"div",14),o._UZ(37,"img",15),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(38,"h1",16),o._uU(39),o.ALo(40,"translate"),o.qZA(),o.TgZ(41,"div",17),o.TgZ(42,"div",18),o.TgZ(43,"div",19),o.TgZ(44,"div",20),o.TgZ(45,"div",21),o.TgZ(46,"div",22),o._UZ(47,"img",23),o.TgZ(48,"h5",24),o._uU(49),o.ALo(50,"translate"),o.qZA(),o.TgZ(51,"p",25),o._uU(52),o.ALo(53,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(54,"div",20),o.TgZ(55,"div",21),o.TgZ(56,"div",22),o._UZ(57,"img",26),o.TgZ(58,"h5",24),o._uU(59),o.ALo(60,"translate"),o.qZA(),o.TgZ(61,"p",25),o._uU(62),o.ALo(63,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(64,"div",20),o.TgZ(65,"div",21),o.TgZ(66,"div",22),o._UZ(67,"img",27),o.TgZ(68,"h5",24),o._uU(69),o.ALo(70,"translate"),o.qZA(),o.TgZ(71,"p",25),o._uU(72),o.ALo(73,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(74,"section",28),o.TgZ(75,"div",18),o.TgZ(76,"div",19),o.TgZ(77,"div",29),o.TgZ(78,"div",30),o.TgZ(79,"h2",31),o._uU(80),o.ALo(81,"translate"),o.qZA(),o.TgZ(82,"h3",32),o._uU(83),o.ALo(84,"translate"),o.qZA(),o.TgZ(85,"div",33),o.TgZ(86,"div",34),o.TgZ(87,"a",35),o._UZ(88,"img",36),o.qZA(),o.qZA(),o.TgZ(89,"div",37),o.TgZ(90,"a",38),o._UZ(91,"img",39),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(92,"div",40),o.TgZ(93,"div",41),o._UZ(94,"img",42),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(4),o.Oqu(o.lcZ(5,14,"What is CliniDo?")),o.xp6(7),o.Oqu(o.lcZ(12,16,"CliniDo is a platform for fast and easy way to Book a Doctor.")),o.xp6(7),o.Oqu(o.lcZ(19,18,"CliniDo connecting you with Best Doctors in all specialties.")),o.xp6(7),o.Oqu(o.lcZ(26,20,"Book A Doctor at any time any where")),o.xp6(7),o.Oqu(o.lcZ(33,22,"It\u2019s a free service, just pay at the clinic No Extra fees")),o.xp6(7),o.Oqu(o.lcZ(40,24,"Why CliniDo is the best choice for you?")),o.xp6(10),o.Oqu(o.lcZ(50,26,"Search by specialty and area where you are please!")),o.xp6(3),o.hij(" ",o.lcZ(53,28,"Select the needed specialty and the nearest area then click search you will find group of the best doctors."),""),o.xp6(7),o.hij(" ",o.lcZ(60,30,"Book the Best Doctor then pay later in the clinic")," "),o.xp6(3),o.hij(" ",o.lcZ(63,32,"Compare between doctors\u2019 reviews and book your appointment for free then pay later at the clinic."),""),o.xp6(7),o.hij(" ",o.lcZ(70,34,"Receive and archive your online Prescription!"),""),o.xp6(3),o.hij(" ",o.lcZ(73,36,"No more lost prescription because you can archive it in your account and share it with your doctors."),""),o.xp6(8),o.Oqu(o.lcZ(81,38,"Book on our site or download the app Now!")),o.xp6(3),o.Oqu(o.lcZ(84,40,"CliniDo connecting you with Best Doctors in all specialties.")))},pipes:[ns],styles:[".c1[_ngcontent-%COMP%]{background-color:#004f71}#one[_ngcontent-%COMP%]{margin-top:5%;margin-left:5%;margin-bottom:40px;font-size:40px;font-weight:bold;text-align:left;color:#fff}.why-img[_ngcontent-%COMP%]{float:right;display:flex;margin-top:2%;margin-left:5%;width:90%;margin-bottom:18px}.why-h4[_ngcontent-%COMP%]{font-size:20px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#fff;display:inline-block;margin-top:0}.xb[_ngcontent-%COMP%]{margin-top:-10%;width:70%}@media (max-width: 991px){.xb[_ngcontent-%COMP%]{display:none}}.wrapper[_ngcontent-%COMP%]{padding-top:50px;color:#38b9db;font-weight:bold;width:90%;margin-left:5%}.ca[_ngcontent-%COMP%]{border-radius:16px!important;height:550px;border:none!important;width:90%}.cb[_ngcontent-%COMP%]{text-align:center;box-shadow:0 9px 30px #bdbdbd;border-radius:16px}.cb[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;color:#38b9db}.ctl[_ngcontent-%COMP%]{text-transform:none;font-weight:bold;font-size:20px;color:#004f6c}.ct[_ngcontent-%COMP%]{font-size:18px;color:#0e0e0e;margin:10% 0%}#get[_ngcontent-%COMP%]{border-radius:16px;background-color:#38b9db;margin:10% 7% 5%}.get-content[_ngcontent-%COMP%]{margin-top:10%;margin-left:10%}.get-h1[_ngcontent-%COMP%]{width:100%;height:auto;font-size:24px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#fff;margin:0}.get-h3[_ngcontent-%COMP%]{width:100%;font-size:18px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:2;letter-spacing:normal;text-align:left;color:#fff;margin:0}.app-download[_ngcontent-%COMP%]{display:flex;margin-top:50px!important;margin-bottom:50px!important}.appel[_ngcontent-%COMP%]{margin-right:10%}@media (max-width: 992px){.download-img[_ngcontent-%COMP%]{display:none}}@media (max-width: 555px){.app-download[_ngcontent-%COMP%]{display:none!important}}"]}),n})();const WU=["doctorForm"];function KU(n,e){if(1&n&&(o.TgZ(0,"option",41),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.name),o.xp6(1),o.Oqu(t.name)}}function YU(n,e){if(1&n&&(o.TgZ(0,"option",41),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.Oqu(t.name)}}function QU(n,e){if(1&n&&(o.TgZ(0,"option",42),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.Oqu(t.name)}}const JU=function(){return["./search"]},XU=function(n){return{value:n}},e3=function(n){return{"margin-right":n}};let t3=(()=>{class n{constructor(t,r,a){this.DoctorCatService=t,this.AreaService=r,this.translate=a,this.DoctorForm={},this.selectedCity=new fr(1,"Alexandria"),this.DoctorForm={firstName:"",lastName:"",mobile:0,drCategory:[],drArea:[],drCity:[]},this.currentLang=localStorage.getItem("currentLang")}ngOnInit(){this.DoctorCategory=this.DoctorCatService.AllDoctorCategory(),this.cities=this.AreaService.getCities(),this.onSelect(this.selectedCity.id)}onSelect(t){this.areas=this.AreaService.getAreas().filter(r=>r.cityId==t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qi),o.Y36(Ad),o.Y36(va))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-find-doctor"]],viewQuery:function(t,r){if(1&t&&o.Gf(WU,7),2&t){let a;o.iGM(a=o.CRH())&&(r.doctorForm=a.first)}},decls:73,vars:49,consts:[["id","cont1",1,"container-fluid",2,"background-color","white"],["id","row1",1,"row",2,"padding-bottom","5px"],["id","left",1,"col-md-5","col-sm-12","col-xs-12"],["id","hh1",1,"fs-1","fw-bold"],["id","calluscol"],["id","pp1",1,"fs-5","fw-bold","mt-3"],["href","tel:00201201111344","type","button","id","CallUs",1,"btn","ms-3","mt-3","d-flex","flex-row","justify-content-between",2,"color","white","height","45px"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-telephone","mt-2"],["d","M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"],[1,"fw-bold","fs-5"],[2,"max-width","240px"],[1,"col-md-5","col-sm-12","col-xs-12"],["doctorForm","ngForm"],["routerLink","online",1,"btn","d-flex","align-items-center","w-100",2,"background-color","#efeff4"],["src","\thttps://clinido.com/public/images/online-consultation.svg",2,"height","40px","transform","scaleX(-1)"],[1,"mt-2",2,"margin-left","20px"],["id","svgg","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","#004f71","viewBox","0 0 16 16",1,"bi","bi-chevron-right"],["fill-rule","evenodd","d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"],[1,"mt-2"],[1,"form-group"],[1,"row"],[1,"col-md-12","col-sm-12","col-xs-12"],["name","drCategory","aria-label",".form-select-lg",1,"form-select","form-select-lg","mb-3",2,"background-color","#efeff4"],["selected","","name","drCity"],[3,"value",4,"ngFor","ngForOf"],[1,"row","justify-content-between"],[1,"col-md-6","col-sm-6","col-xs-12"],["name","drCity","aria-label",".form-select-lg",1,"form-select","form-select-lg","mb-3",2,"background-color","#efeff4",3,"ngModel","change","ngModelChange"],["value","0"],["name","drArea","aria-label",".form-select-lg ",1,"form-select","form-select-lg","mb-3",2,"background-color","#efeff4"],["selected","","name","drArea","value","0"],["name","drArea",3,"value",4,"ngFor","ngForOf"],[1,"col-md-8","col-sm-12","col-xs-12"],[1,"input-container",2,"background-color","#efeff4","border-radius","8px","height","50px"],[1,"icon"],["src","https://clinido.com/public/images/ic-type.svg",2,"margin","4%"],["type","text","name","searchBox",1,"input","doctor-name",3,"placeholder","ngModel","ngModelChange"],["inputval",""],[1,"col-md-4","col-sm-12","col-xs-12"],["type","button",1,"btn","w-100","h-100","fs-4","fw-bold",2,"background-color","#30c34a","color","white",3,"routerLink","queryParams"],[1,"feach","fs-4","fw-bold",3,"ngStyle"],[3,"value"],["name","drArea",3,"value"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h1",3),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"p",5),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"a",6),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",8),o.qZA(),o.kcU(),o.TgZ(13,"p",9),o._uU(14),o.ALo(15,"translate"),o.qZA(),o._UZ(16,"p"),o.qZA(),o.qZA(),o.TgZ(17,"div"),o.TgZ(18,"p",10),o._uU(19),o.ALo(20,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"div",11),o.TgZ(22,"form",null,12),o.TgZ(24,"button",13),o._UZ(25,"img",14),o.TgZ(26,"p",15),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.O4$(),o.TgZ(29,"svg",16),o._UZ(30,"path",17),o.qZA(),o.qZA(),o.kcU(),o.TgZ(31,"p",18),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.TgZ(34,"div",19),o.TgZ(35,"div",20),o.TgZ(36,"div",21),o.TgZ(37,"select",22),o.TgZ(38,"option",23),o._uU(39),o.ALo(40,"translate"),o.qZA(),o.YNc(41,KU,2,2,"option",24),o.qZA(),o.qZA(),o.qZA(),o.TgZ(42,"div",25),o.TgZ(43,"div",26),o.TgZ(44,"select",27),o.NdJ("change",function(){return r.onSelect(r.selectedCity.id)})("ngModelChange",function(c){return r.selectedCity.id=c}),o.TgZ(45,"option",28),o._uU(46),o.ALo(47,"translate"),o.qZA(),o.YNc(48,YU,2,2,"option",24),o.qZA(),o.qZA(),o.TgZ(49,"div",26),o.TgZ(50,"select",29),o.TgZ(51,"option",30),o._uU(52),o.ALo(53,"translate"),o.qZA(),o.YNc(54,QU,2,2,"option",31),o.qZA(),o.qZA(),o.qZA(),o.TgZ(55,"div",20),o.TgZ(56,"div",32),o.TgZ(57,"div",33),o.TgZ(58,"i",34),o._UZ(59,"img",35),o.qZA(),o.TgZ(60,"input",36,37),o.NdJ("ngModelChange",function(c){return r.filterItem=c}),o.ALo(62,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(63,"div",38),o.TgZ(64,"button",39),o._uU(65),o.ALo(66,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(67,"div",20),o.TgZ(68,"h2",40),o._uU(69),o.ALo(70,"translate"),o.qZA(),o.qZA(),o.qZA(),o._UZ(71,"app-carousel"),o._UZ(72,"app-static-content")),2&t){const a=o.MAs(61);o.xp6(4),o.Oqu(o.lcZ(5,20,"Find Your Doctor")),o.xp6(4),o.Oqu(o.lcZ(9,22,"BOOK_THE_BEST_DOCTOR_EASLY")),o.xp6(6),o.Oqu(o.lcZ(15,24,"CALL_US")),o.xp6(5),o.Oqu(o.lcZ(20,26,"then pay at the clinic without extra cost")),o.xp6(8),o.hij(" ",o.lcZ(28,28,"Book a medical teleconsultation"),""),o.xp6(5),o.Oqu(o.lcZ(33,30,"Or Book With Doctor in Clinic")),o.xp6(7),o.hij(" ",o.lcZ(40,32,"Choose a speciality")," "),o.xp6(2),o.Q6J("ngForOf",r.DoctorCategory),o.xp6(3),o.Q6J("ngModel",r.selectedCity.id),o.xp6(2),o.Oqu(o.lcZ(47,34,"Choose City")),o.xp6(2),o.Q6J("ngForOf",r.cities),o.xp6(4),o.hij(" ",o.lcZ(53,36,"Choose Area")," "),o.xp6(2),o.Q6J("ngForOf",r.areas),o.xp6(6),o.s9C("placeholder",o.lcZ(62,38,"Type doctor name")),o.Q6J("ngModel",r.filterItem),o.xp6(4),o.Q6J("routerLink",o.DdM(44,JU))("queryParams",o.VKq(45,XU,a.value)),o.xp6(1),o.Oqu(o.lcZ(66,40,"Search")),o.xp6(3),o.Q6J("ngStyle",o.VKq(47,e3,"ar"==r.currentLang?"10%":"")),o.xp6(1),o.hij("",o.lcZ(70,42,"Featured Doctors")," ")}},directives:[li,nc,g,yc,Qp,Zd,Mn,Lu,tc,Wn,me,Ms,yL,zU],pipes:[ns],styles:["#cont1[_ngcontent-%COMP%]{padding-top:8%}@media (max-width: 991px){#cont1[_ngcontent-%COMP%]{padding-top:20%}}@media (max-width: 400px){#cont1[_ngcontent-%COMP%]{padding-top:40%}}#row1[_ngcontent-%COMP%]{justify-content:space-evenly}#CallUs[_ngcontent-%COMP%]{background-color:#38b9db;width:120px;justify-content:center}#hh1[_ngcontent-%COMP%]{color:#004f71}#pp1[_ngcontent-%COMP%]{color:#004f71}#calluscol[_ngcontent-%COMP%]{display:flex}@media (max-width: 991px){#calluscol[_ngcontent-%COMP%]{display:block}}@media (max-width: 767px){#calluscol[_ngcontent-%COMP%]{display:flex}}#svgg[_ngcontent-%COMP%]{margin-left:40%}.form-select[_ngcontent-%COMP%]{height:60px}.doctor-name[_ngcontent-%COMP%]{border-radius:8px;padding-left:2%;background-color:#efeff4;border:none;width:80%;height:100%}.feach[_ngcontent-%COMP%]{border-bottom:#38b9db 3px solid;color:#38b9db;padding-bottom:20px;width:17%;margin-left:70px;margin-bottom:0}"]}),n})(),CL=(()=>{class n{constructor(){this.CityCategory=[{id:1,name:"Alexandria"},{id:2,name:"Cairo"},{id:3,name:"Assuit"},{id:4,name:"Beni Suef"},{id:5,name:"Damietta"},{id:6,name:"El Beheira"},{id:7,name:"El Dakahlia"},{id:8,name:"El Ismailia"},{id:9,name:"Minia"},{id:10,name:"El Sharqia"},{id:11,name:"Fayoum"},{id:12,name:"Gharbia"},{id:13,name:"Giza"},{id:14,name:" Hurghada"},{id:15,name:"Kafr El Sheikh"},{id:16,name:"Luxor"},{id:17,name:"Matrouh"},{id:18,name:"Menoufia"},{id:19,name:"North Coast"},{id:20,name:" Port Said"},{id:21,name:" Qena"},{id:22,name:" Sohag"},{id:23,name:" Suez"},{id:24,name:" Sharm El Sheikh"}]}AllDoctorCity(){return[...this.CityCategory]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n3(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.name),o.xp6(1),o.hij(" ",t.name," ")}}function r3(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function i3(n,e){if(1&n&&(o.TgZ(0,"option",46),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}let s3=(()=>{class n{constructor(t,r,a,c){this.DoctorCatService=t,this.CityCatService=r,this.CrudService=a,this.AreaService=c,this.DoctorForm={},this.selectedCity=new fr(1,"Alexandria"),this.DoctorForm={firstName:"",lastName:"",mobile:0,drCategory:[],drCity:[],drArea:[]},this.currentLang=localStorage.getItem("currentLang")}ngOnInit(){this.DoctorCategory=this.DoctorCatService.AllDoctorCategory(),this.CrudService.getAllDoctor().subscribe(t=>{this.doctors=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,Object.assign({},a)})}),this.cities=this.AreaService.getCities(),this.onSelect(this.selectedCity.id)}onSelect(t){this.areas=this.AreaService.getAreas().filter(r=>r.cityId==t)}onSubmit(t){this.CrudService.AddNewDoctor(t.value),console.log(this.doctors)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qi),o.Y36(CL),o.Y36(vE),o.Y36(Ad))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-doctor-form"]],decls:88,vars:50,consts:[["id","areYouDoctor"],[1,"container-fluid","content"],[1,"title"],[1,"areYouDoctorForm"],[1,"container-fluid"],[1,"sign"],["id","xyz","novalidate","novalidate",1,"global",3,"ngSubmit"],["form","ngForm"],["type","hidden","name","_token","value",""],[1,"row","formRow"],[1,"col-lg-6","col-md-6","col-sm-12","col-xs-12","formCol"],[1,"form-group"],["for","firstName"],["id","firstName","type","text","name","firstName","autocomplete","off","ngModel","","required","",1,"form-control","input-lg","formInputs",3,"placeholder"],["id","firstname1",2,"color","#ff0000"],["for","lastName"],["id","lastName","type","text","name","lastName","autocomplete","off","ngModel","",1,"form-control","input-lg","formInputs",3,"placeholder"],["id","lastname1",2,"color","#ff0000"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","formCol"],["for","phone"],["id","countryCode","type","hidden","name","countryCode","value","20",1,"form-control","input-lg","center","formInputs"],[1,"iti","iti--allow-dropdown"],["id","mobile","type","tel","name","mobile","maxlength","17","autocomplete","off","data-intl-tel-input-id","0","value","","placeholder"," ","ngModel","",1,"form-control","input-lg","center","formInputs"],["id","mobile1",1,"text-danger","text-center","show-msg",2,"color","#ff0000"],["for","speciality"],["id","mySelect","name","drCategory","ngModel","",1,"input-field","input-lg","formInputs"],["name","drCity"],[3,"value",4,"ngFor","ngForOf"],["for","city"],["id","selectCity","name","drCity",1,"input-field","input-lg","valid","formInputs",3,"ngModel","change","ngModelChange"],["for","area"],["id","selectArea","name","drArea",1,"input-field","input-lg","formInputs"],["value","0","id","drArea","name","drArea","selected",""],["id","drArea","name","drArea",3,"value",4,"ngFor","ngForOf"],["type","submit","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-lg","btn-block","btn-nav","fnt-25","btn-success",3,"disabled"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["id","model",1,"modal-body"],[1,"go-app"],["href","#"],["src","../../../assets/images/btn-google-play-dark-2-mobile.svg","alt",""],["src","../../../assets/images/btn-apple-store-dark-mobile.svg","alt",""],["id","modelfooter",1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-lg","btn-success"],[3,"value"],["id","drArea","name","drArea",3,"value"]],template:function(t,r){if(1&t){const a=o.EpF();o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h1"),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"div",5),o.TgZ(9,"form",6,7),o.NdJ("ngSubmit",function(){o.CHM(a);const h=o.MAs(10);return r.onSubmit(h)}),o._UZ(11,"input",8),o.TgZ(12,"div",9),o.TgZ(13,"div",10),o.TgZ(14,"div",11),o.TgZ(15,"label",12),o._uU(16),o.ALo(17,"translate"),o.qZA(),o._UZ(18,"input",13),o.ALo(19,"translate"),o._UZ(20,"span",14),o.qZA(),o.qZA(),o.TgZ(21,"div",10),o.TgZ(22,"div",11),o.TgZ(23,"label",15),o._uU(24),o.ALo(25,"translate"),o.qZA(),o._UZ(26,"input",16),o.ALo(27,"translate"),o._UZ(28,"span",17),o.qZA(),o.qZA(),o.TgZ(29,"div",18),o.TgZ(30,"div",11),o.TgZ(31,"label",19),o._uU(32),o.ALo(33,"translate"),o.qZA(),o._UZ(34,"input",20),o.TgZ(35,"div",21),o._UZ(36,"input",22),o.qZA(),o._UZ(37,"span",23),o.qZA(),o.qZA(),o.TgZ(38,"div",18),o.TgZ(39,"div",11),o.TgZ(40,"label",24),o._uU(41),o.ALo(42,"translate"),o.qZA(),o.TgZ(43,"select",25),o.TgZ(44,"option",26),o._uU(45),o.ALo(46,"translate"),o.qZA(),o.YNc(47,n3,2,2,"option",27),o.qZA(),o.qZA(),o.qZA(),o.TgZ(48,"div",18),o.TgZ(49,"div",11),o.TgZ(50,"label",28),o._uU(51),o.ALo(52,"translate"),o.qZA(),o.TgZ(53,"select",29),o.NdJ("change",function(){return r.onSelect(r.selectedCity.id)})("ngModelChange",function(h){return r.selectedCity.id=h}),o.TgZ(54,"option",26),o._uU(55),o.ALo(56,"translate"),o.qZA(),o.YNc(57,r3,2,2,"option",27),o.qZA(),o.qZA(),o.qZA(),o.TgZ(58,"div",18),o.TgZ(59,"div",11),o.TgZ(60,"label",30),o._uU(61),o.ALo(62,"translate"),o.qZA(),o.TgZ(63,"select",31),o.TgZ(64,"option",32),o._uU(65),o.ALo(66,"translate"),o.qZA(),o.YNc(67,i3,2,2,"option",33),o.qZA(),o.qZA(),o.qZA(),o.TgZ(68,"div",18),o.TgZ(69,"button",34),o._uU(70),o.ALo(71,"translate"),o.qZA(),o.TgZ(72,"div",35),o.TgZ(73,"div",36),o.TgZ(74,"div",37),o.TgZ(75,"div",38),o.TgZ(76,"h5"),o._uU(77),o.ALo(78,"translate"),o.qZA(),o.TgZ(79,"div",39),o.TgZ(80,"a",40),o._UZ(81,"img",41),o.qZA(),o.TgZ(82,"a",40),o._UZ(83,"img",42),o.qZA(),o.qZA(),o.qZA(),o.TgZ(84,"div",43),o.TgZ(85,"button",44),o._uU(86),o.ALo(87,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const a=o.MAs(10);o.xp6(4),o.Oqu(o.lcZ(5,20,"Are you a Doctor?")),o.xp6(12),o.Oqu(o.lcZ(17,22,"First name")),o.xp6(2),o.s9C("placeholder",o.lcZ(19,24,"Type Your First Name Here...")),o.xp6(6),o.Oqu(o.lcZ(25,26,"Last name")),o.xp6(2),o.s9C("placeholder",o.lcZ(27,28,"Type Your Last Name Here...")),o.xp6(6),o.Oqu(o.lcZ(33,30,"Phone number")),o.xp6(9),o.Oqu(o.lcZ(42,32,"Choose a speciality")),o.xp6(4),o.Oqu(o.lcZ(46,34,"Choose Category")),o.xp6(2),o.Q6J("ngForOf",r.DoctorCategory),o.xp6(4),o.Oqu(o.lcZ(52,36,"Choose City")),o.xp6(2),o.Q6J("ngModel",r.selectedCity.id),o.xp6(2),o.Oqu(o.lcZ(56,38,"Choose City")),o.xp6(2),o.Q6J("ngForOf",r.cities),o.xp6(4),o.Oqu(o.lcZ(62,40,"Choose Area")),o.xp6(4),o.hij(" ",o.lcZ(66,42,"Choose Area")," "),o.xp6(2),o.Q6J("ngForOf",r.areas),o.xp6(2),o.Q6J("disabled",a.invalid),o.xp6(1),o.hij(" ",o.lcZ(71,44,"Send")," "),o.xp6(7),o.Oqu(o.lcZ(78,46,"Thank You Doctor, please download CliniDo Dr. App. and we will contact you very soon.")),o.xp6(9),o.Oqu(o.lcZ(87,48,"Ok"))}},directives:[li,nc,g,me,tc,Wn,Jp,g_,Lu,Qp,Zd,Mn],pipes:[ns],styles:["#areYouDoctor[_ngcontent-%COMP%]{background-color:#efeff4;margin-top:50px;padding-bottom:1px;padding-top:5px}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;text-align:left;color:#004f6c;margin-left:10px;margin-top:20px;margin-bottom:10px;line-height:normal;font-weight:700}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]{margin-bottom:100px}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]{position:relative;min-height:1px;padding-left:15px;padding-right:15px}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#4a4a4a;margin-bottom:10px;font-size:20px;display:inline-block;max-width:100%;font-weight:700}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .formInputs[_ngcontent-%COMP%]{height:56px;border-radius:4px;background-color:#fff;width:100%;font-size:20px;color:#4a4a4a;padding:10px 16px;border:none}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .iti[_ngcontent-%COMP%]{position:relative;width:100%;display:block}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .iti[_ngcontent-%COMP%]   .iti__selected-flag[_ngcontent-%COMP%]{padding:6px;border-right:solid .5px #979797;background-color:#fff}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{text-indent:15px;background-color:#fff;width:50%;border-color:#fff}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .formRow[_ngcontent-%COMP%]   .formCol[_ngcontent-%COMP%]{width:100%}#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .areYouDoctorForm[_ngcontent-%COMP%]   .btn-lg[_ngcontent-%COMP%]{padding:15px 16px;font-size:25px;background-color:#30c34b;color:#fff;display:block;width:100%}#model[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#004f6c;text-align:left;font-weight:700}#model[_ngcontent-%COMP%]   .go-app[_ngcontent-%COMP%]{display:flex}#model[_ngcontent-%COMP%]   .go-app[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.modal-content[_ngcontent-%COMP%]{background-color:#efeff4}@media (min-width: 910px){#areYouDoctor[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:107px;padding-left:86px}}@media (min-width: 992px){.col-md-6[_ngcontent-%COMP%]{width:50%!important}.col-md-12[_ngcontent-%COMP%]{width:100%!important}}"]}),n})(),o3=(()=>{class n{transform(t,r){return r&&t?n.filter(t,r):t}static filter(t,r){const a=r.toLowerCase();function c(h,p){for(let v in h)if(null!==h[v]&&null!=h[v]&&("object"==typeof h[v]&&c(h[v],p)||h[v].toString().toLowerCase().includes(a)))return!0;return!1}return t.filter(function(h){return c(h,r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function l3(n,e){if(1&n&&(o.TgZ(0,"option",62),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.s9C("value",t.name),o.xp6(1),o.Oqu(t.name)}}function c3(n,e){if(1&n&&(o.TgZ(0,"option",63),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.Oqu(t.name)}}function u3(n,e){if(1&n&&(o.TgZ(0,"option",64),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.Oqu(t.name)}}function d3(n,e){1&n&&o._UZ(0,"app-card",65),2&n&&o.Q6J("doctor",e.$implicit)}let h3=(()=>{class n{constructor(t,r,a,c,h){this.city=t,this.docotrName=r,this.category=a,this.activat=c,this.AreaService=h,this.inputValue="",this.selectedCity=new fr(1,"Alexandria")}ngOnInit(){this.specialities=this.category.DoctorCategory,this.cityCat=this.city.CityCategory,this.docotrName.getAllDoctor().subscribe(t=>{this.doctors=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,Object.assign({},a)})}),this.activat.queryParams.subscribe(t=>{console.log(t.value),this.serchval=t.value,this.filterItem=this.serchval}),this.cities=this.AreaService.getCities(),this.onSelect(this.selectedCity.id)}clickme(t){this.doctors.map(r=>{t==r.firstName?this.doctorDisplay.push(r):console.log(!1)}),console.log(this.doctorDisplay)}onSelect(t){this.areas=this.AreaService.getAreas().filter(r=>r.cityId==t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(CL),o.Y36(vE),o.Y36(Qi),o.Y36(gc),o.Y36(Ad))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-search"]],decls:127,vars:83,consts:[[1,"container-fluid","search_box"],[1,"row","justify-content-center"],[1,"col-lg-2","col-md-2","col-sm-12"],["aria-label",".form-select-lg",1,"form-select","form-select-lg","mb-3",2,"background-color","#efeff4",3,"value","ngModel","ngModelChange"],["name","drcategory",3,"value",4,"ngFor","ngForOf"],["name","drCity","aria-label",".form-select-lg",1,"form-select","form-select-lg","mb-3",2,"background-color","#efeff4",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","drArea","aria-label",".form-select-lg ",1,"form-select","form-select-lg","mb-3",2,"background-color","#efeff4"],["selected","","name","drArea","value","0"],["name","drArea",3,"value",4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-5","col-sm-12"],[1,"row"],[1,"col-md-8","col-sm-12","col-xs-12"],[1,"input-container",2,"background-color","#efeff4","border-radius","8px","height","60px"],[1,"icon"],["src","https://clinido.com/public/images/ic-type.svg",2,"margin","4%"],["type","text","name","inputValue",1,"input","doctor-name",3,"placeholder","ngModel","ngModelChange"],["username",""],[1,"col-md-4","col-sm-12","col-xs-12"],["type","button",1,"btn","w-100","h-100","fs-4","fw-bold","bttn-search",2,"background-color","#30c34a","color","white",3,"click"],["id","search-body"],[1,"container","p-2"],[1,"col-md-12"],["id","filter-speciallities"],[1,"col-lg-3","col-md-3","col-sm-12","col-xs-12"],[1,"search-filter"],[1,"filter-title"],[1,"filter-body"],[1,"row","firstRow"],["for","gender"],["id","gender",1,"flex-gender-btn"],["aria-label","Default select example",1,"form-select"],["selected",""],["value","All"],["value","Male"],["value","Female"],[1,"row","secoundRow"],["for","day"],["id","day","data-toggle","buttons1",1,"flex-day-btn"],["value","Today"],["value","Tomorrow"],[1,"flex-btn"],["for","formControlRange"],["type","range","id","formControlRange","value","0",1,"form-control-range"],["for","type"],["for","checkbox1",1,"cont"],["type","checkbox","id","checkbox1",1,"input-checkbox"],["src","/src/assets/images/elavator.svg","alt",""],["for","checkbox2",1,"cont"],["type","checkbox","id","checkbox2",1,"input-checkbox"],["src","/src/assets/images/air-conditioner.svg","alt",""],["for","checkbox3",1,"cont"],["type","checkbox","id","checkbox3",1,"input-checkbox"],["src","/src/assets/images/visa-pay.svg","alt",""],["for","checkbox4",1,"cont"],["type","checkbox","id","checkbox4",1,"input-checkbox"],["src","/src/assets/images/tv.svg","alt",""],[1,"col-lg-9","col-md-9","col-sm-12","col-xs-12"],[1,"col-md-12","search-title"],["id","h4"],[1,"col-md-6"],[3,"doctor",4,"ngFor","ngForOf"],["name","drcategory",3,"value"],[3,"value"],["name","drArea",3,"value"],[3,"doctor"]],template:function(t,r){if(1&t){const a=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"select",3),o.NdJ("ngModelChange",function(h){return r.filterItem=h}),o.YNc(4,l3,2,2,"option",4),o.qZA(),o.qZA(),o.TgZ(5,"div",2),o.TgZ(6,"select",5),o.NdJ("change",function(){return r.onSelect(r.selectedCity.id)})("ngModelChange",function(h){return r.selectedCity.id=h}),o.TgZ(7,"option"),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.YNc(10,c3,2,2,"option",6),o.qZA(),o.qZA(),o.TgZ(11,"div",2),o.TgZ(12,"select",7),o.TgZ(13,"option",8),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.YNc(16,u3,2,2,"option",9),o.qZA(),o.qZA(),o.TgZ(17,"div",10),o.TgZ(18,"div",11),o.TgZ(19,"div",12),o.TgZ(20,"div",13),o.TgZ(21,"i",14),o._UZ(22,"img",15),o.qZA(),o.TgZ(23,"input",16,17),o.NdJ("ngModelChange",function(h){return r.filterItem=h}),o.ALo(25,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"div",18),o.TgZ(27,"button",19),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(24);return r.clickme(h.value)}),o._uU(28),o.ALo(29,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",20),o.TgZ(31,"div",21),o.TgZ(32,"div",22),o.TgZ(33,"ul",23),o.TgZ(34,"li"),o._uU(35),o.ALo(36,"translate"),o.qZA(),o.TgZ(37,"li"),o._uU(38),o.ALo(39,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(40,"div",11),o.TgZ(41,"div",24),o.TgZ(42,"div",25),o.TgZ(43,"div",26),o.TgZ(44,"h2"),o._uU(45),o.ALo(46,"translate"),o.qZA(),o.qZA(),o._UZ(47,"hr"),o.TgZ(48,"div",27),o.TgZ(49,"div",28),o.TgZ(50,"label",29),o._uU(51),o.ALo(52,"translate"),o.qZA(),o._UZ(53,"br"),o.TgZ(54,"div",30),o.TgZ(55,"select",31),o.TgZ(56,"option",32),o._uU(57),o.ALo(58,"translate"),o.qZA(),o.TgZ(59,"option",33),o._uU(60),o.ALo(61,"translate"),o.qZA(),o.TgZ(62,"option",34),o._uU(63),o.ALo(64,"translate"),o.qZA(),o.TgZ(65,"option",35),o._uU(66),o.ALo(67,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(68,"div",36),o.TgZ(69,"label",37),o._uU(70),o.ALo(71,"translate"),o.qZA(),o._UZ(72,"br"),o.TgZ(73,"div",38),o.TgZ(74,"select",31),o.TgZ(75,"option",32),o._uU(76),o.ALo(77,"translate"),o.qZA(),o.TgZ(78,"option",33),o._uU(79),o.ALo(80,"translate"),o.qZA(),o.TgZ(81,"option",39),o._uU(82),o.ALo(83,"translate"),o.qZA(),o.TgZ(84,"option",40),o._uU(85),o.ALo(86,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(87,"div",28),o.TgZ(88,"div",41),o.TgZ(89,"label",42),o._uU(90),o.ALo(91,"translate"),o.qZA(),o._UZ(92,"input",43),o.qZA(),o.qZA(),o.TgZ(93,"div",28),o.TgZ(94,"label",44),o._uU(95),o.ALo(96,"translate"),o.qZA(),o.TgZ(97,"label",45),o._UZ(98,"input",46),o._uU(99),o.ALo(100,"translate"),o._UZ(101,"img",47),o.qZA(),o.TgZ(102,"label",48),o._UZ(103,"input",49),o._uU(104),o.ALo(105,"translate"),o._UZ(106,"img",50),o.qZA(),o.TgZ(107,"label",51),o._UZ(108,"input",52),o._uU(109),o.ALo(110,"translate"),o._UZ(111,"img",53),o.qZA(),o.TgZ(112,"label",54),o._UZ(113,"input",55),o._uU(114),o.ALo(115,"translate"),o._UZ(116,"img",56),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(117,"div",57),o.TgZ(118,"div",58),o.TgZ(119,"h4",59),o._uU(120),o.ALo(121,"translate"),o.qZA(),o.qZA(),o.TgZ(122,"div",11),o.TgZ(123,"div",60),o.YNc(124,d3,1,1,"app-card",61),o.ALo(125,"filter"),o.qZA(),o._UZ(126,"div",60),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&t&&(o.xp6(3),o.Q6J("value",r.serchval)("ngModel",r.filterItem),o.xp6(1),o.Q6J("ngForOf",r.specialities),o.xp6(2),o.Q6J("ngModel",r.selectedCity.id),o.xp6(2),o.Oqu(o.lcZ(9,32,"Choose City")),o.xp6(2),o.Q6J("ngForOf",r.cities),o.xp6(4),o.hij(" ",o.lcZ(15,34,"Choose Area")," "),o.xp6(2),o.Q6J("ngForOf",r.areas),o.xp6(7),o.s9C("placeholder",o.lcZ(25,36,"Type doctor name")),o.Q6J("ngModel",r.filterItem),o.xp6(5),o.Oqu(o.lcZ(29,38,"Search")),o.xp6(7),o.hij("",o.lcZ(36,40,"Home page")," "),o.xp6(3),o.hij(" / ",o.lcZ(39,42,"all speciallities"),""),o.xp6(7),o.Oqu(o.lcZ(46,44,"filter")),o.xp6(6),o.Oqu(o.lcZ(52,46,"Type")),o.xp6(6),o.Oqu(o.lcZ(58,48,"please select gender")),o.xp6(3),o.Oqu(o.lcZ(61,50,"All")),o.xp6(3),o.Oqu(o.lcZ(64,52,"Male")),o.xp6(3),o.Oqu(o.lcZ(67,54,"Female")),o.xp6(4),o.Oqu(o.lcZ(71,56,"Availability")),o.xp6(6),o.Oqu(o.lcZ(77,58,"please select day")),o.xp6(3),o.Oqu(o.lcZ(80,60,"All")),o.xp6(3),o.Oqu(o.lcZ(83,62,"Today")),o.xp6(3),o.Oqu(o.lcZ(86,64,"Tomorrow")),o.xp6(5),o.Oqu(o.lcZ(91,66,"Clinic fees")),o.xp6(5),o.Oqu(o.lcZ(96,68,"Clinic features")),o.xp6(4),o.hij(" ",o.lcZ(100,70,"Elevator")," "),o.xp6(5),o.hij(" ",o.lcZ(105,72,"Conditioner")," "),o.xp6(5),o.hij(" ",o.lcZ(110,74,"E-payment")," "),o.xp6(5),o.hij(" ",o.lcZ(115,76,"TV")," "),o.xp6(6),o.Oqu(o.lcZ(121,78,"Book best doctor in Egypt")),o.xp6(4),o.Q6J("ngForOf",o.xi3(125,80,r.doctors,r.filterItem)))},directives:[Lu,tc,Wn,Mn,Qp,Zd,me,_L],pipes:[ns,o3],styles:["*[_ngcontent-%COMP%]{list-style-type:none;text-decoration:none;border:none;outline:none}.search_box[_ngcontent-%COMP%]{padding-top:100px;width:100%;background:#004f71;transition:top 1.3s}.form-select[_ngcontent-%COMP%]{height:60px}.doctor-name[_ngcontent-%COMP%]{border-radius:8px;padding-left:2%;background-color:#efeff4;border:none;width:80%;height:100%}#filter-speciallities[_ngcontent-%COMP%]{display:flex}#filter-speciallities[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{color:#38b9db}#filter-speciallities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:700;font-size:1em}#search-body[_ngcontent-%COMP%]{background-color:#efeff4}#search-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{justify-content:space-around;text-align:center}#search-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:120px;padding:.5em .5em .1em}#search-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#38b9db}#search-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px}#search-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   .fees[_ngcontent-%COMP%]{color:#38b9db;font-size:1.8em}#search-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:.8em}#search-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:90%;margin-left:4%;background-color:#30c34b}.search-filter[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5em;padding:1em 0}.search-filter[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#bdbdc0}.search-filter[_ngcontent-%COMP%]   .filter-title[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{text-transform:capitalize;color:#38b9db;font-size:2em;padding-left:.5em}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]{padding:0 .8em;margin-bottom:20px}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]   #gender[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]   #gender[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:.2em}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{margin-top:.5em}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .input-checkbox[_ngcontent-%COMP%]{height:1.2em;width:1.2em;border-radius:2px}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;color:#38b9db;font-size:1.2em}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]   .flex-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .firstRow[_ngcontent-%COMP%]   .flex-btn[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5em}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .secoundRow[_ngcontent-%COMP%]{padding:0 .8em;margin-bottom:20px}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .secoundRow[_ngcontent-%COMP%]   #day[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.search-filter[_ngcontent-%COMP%]   .filter-body[_ngcontent-%COMP%]   .secoundRow[_ngcontent-%COMP%]   #day[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:.2em}.search-title[_ngcontent-%COMP%]   #h4[_ngcontent-%COMP%]{font-weight:600;color:#120f55}"]}),n})();function f3(n,e){if(1&n&&(o.TgZ(0,"option",51),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.name),o.xp6(1),o.hij(" ",t.name," ")}}const p3=function(){return["../search"]},g3=function(n){return{value:n}};let m3=(()=>{class n{constructor(t){this.DoctorCatService=t,this.doctorCarouselArr=[],this.numberOfPagesArray=[],this.pagesSize=3,this.currentPage=0}ngOnInit(){this.DoctorCategory=this.DoctorCatService.AllDoctorCategory()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-online"]],decls:166,vars:100,consts:[[1,"container-fluid",2,"padding-top","8%","background-color","rgb(255, 255, 255)"],[1,"row","c1"],["id","hh",1,"col-lg-7","col-md-7","col-sm-12","col-xm-12"],["id","one"],[1,"why-img"],[1,"col-lg-10","col-md-10","col-sm-11","col-xs-10"],[1,"why-h4"],["id","img-cont",1,"col-lg-4","col-md-4"],[1,"center"],[1,"doctor"],["src","https://clinido.com/public/images/online-consult.png",1,"img-responsive","imb"],["id","fitcher",1,"row"],[1,"container-fluid","x"],[1,"row"],[1,"col-md-5","col-sm-12","col-xs-12"],["id","mySelect",1,"form-select","form-select-lg","mb-3",2,"background-color","#efeff4",3,"ngModel","ngModelChange"],["inputval",""],["name","drCity"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-11","col-xs-10",2,"padding-left","7%"],["type","button",1,"btn","w-100","h-100","fs-4","fw-bold",2,"background-color","#30c34a","color","white",3,"routerLink","queryParams"],["id","freqaskedquestions"],[1,"container-fluid"],["src","https://clinido.com/public/images/img-tips.svg",1,"col-lg-2","col-md-2","col-sm-0","col-xs-0","imo"],[1,"col-lg-9","col-md-9","col-sm-12","col-xs-12","repeated-questions","shadow-lg"],[1,"faq"],[1,"ques"],["id","accordion"],[2,"list-style-type","none"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal1",1,"btn","but"],["id","exampleModal1","tabindex","-1","aria-labelledby","exampleModalLabel1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel1",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal2",1,"btn","but"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel2","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel2",1,"modal-title"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal3",1,"btn","but"],["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel3","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel3",1,"modal-title"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal4",1,"btn","but"],["id","exampleModal4","tabindex","-1","aria-labelledby","exampleModalLabel4","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel4",1,"modal-title"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal5",1,"btn","but"],["id","exampleModal5","tabindex","-1","aria-labelledby","exampleModalLabel5","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel5",1,"modal-title"],[3,"value"]],template:function(t,r){if(1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.TgZ(7,"div",4),o.TgZ(8,"div",5),o.TgZ(9,"h4",6),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",7),o.TgZ(13,"div",8),o.TgZ(14,"div",9),o._UZ(15,"img",10),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"div",11),o.TgZ(17,"h6"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",12),o.TgZ(21,"div",13),o.TgZ(22,"div",14),o.TgZ(23,"select",15,16),o.NdJ("ngModelChange",function(c){return r.filterItem=c}),o.TgZ(25,"option",17),o._uU(26),o.ALo(27,"translate"),o.qZA(),o.YNc(28,f3,2,2,"option",18),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",19),o.TgZ(30,"button",20),o._uU(31,"Search"),o.qZA(),o.qZA(),o.qZA(),o._UZ(32,"app-carousel"),o.TgZ(33,"section",21),o.TgZ(34,"div",22),o.TgZ(35,"div",13),o._UZ(36,"img",23),o.TgZ(37,"div",24),o.TgZ(38,"h2",25),o._uU(39),o.ALo(40,"translate"),o.qZA(),o.TgZ(41,"div",26),o.TgZ(42,"div",27),o.TgZ(43,"ul",28),o.TgZ(44,"li"),o.TgZ(45,"button",29),o.TgZ(46,"h6"),o._uU(47),o.ALo(48,"translate"),o.qZA(),o.qZA(),o.TgZ(49,"div",30),o.TgZ(50,"div",31),o.TgZ(51,"div",32),o.TgZ(52,"div",33),o.TgZ(53,"h5",34),o._uU(54),o.ALo(55,"translate"),o.qZA(),o._UZ(56,"button",35),o.qZA(),o.TgZ(57,"div",36),o._uU(58),o.ALo(59,"translate"),o.qZA(),o.TgZ(60,"div",37),o.TgZ(61,"button",38),o._uU(62),o.ALo(63,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(64,"li"),o.TgZ(65,"button",39),o.TgZ(66,"h6"),o._uU(67),o.ALo(68,"translate"),o.qZA(),o.qZA(),o.TgZ(69,"div",40),o.TgZ(70,"div",31),o.TgZ(71,"div",32),o.TgZ(72,"div",33),o.TgZ(73,"h5",41),o._uU(74),o.ALo(75,"translate"),o.qZA(),o._UZ(76,"button",35),o.qZA(),o.TgZ(77,"div",36),o._uU(78),o.ALo(79,"translate"),o.qZA(),o.TgZ(80,"div",37),o.TgZ(81,"button",38),o._uU(82),o.ALo(83,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(84,"li"),o.TgZ(85,"button",42),o.TgZ(86,"h6"),o._uU(87),o.ALo(88,"translate"),o.qZA(),o.qZA(),o.TgZ(89,"div",43),o.TgZ(90,"div",31),o.TgZ(91,"div",32),o.TgZ(92,"div",33),o.TgZ(93,"h5",44),o._uU(94),o.ALo(95,"translate"),o.qZA(),o._UZ(96,"button",35),o.qZA(),o.TgZ(97,"div",36),o.TgZ(98,"ul"),o.TgZ(99,"li"),o._uU(100),o.ALo(101,"translate"),o.qZA(),o.TgZ(102,"li"),o._uU(103),o.ALo(104,"translate"),o.qZA(),o.TgZ(105,"li"),o._uU(106),o.ALo(107,"translate"),o.qZA(),o.TgZ(108,"li"),o._uU(109),o.ALo(110,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(111,"div",37),o.TgZ(112,"button",38),o._uU(113),o.ALo(114,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(115,"li"),o.TgZ(116,"button",45),o.TgZ(117,"h6"),o._uU(118),o.ALo(119,"translate"),o.qZA(),o.qZA(),o.TgZ(120,"div",46),o.TgZ(121,"div",31),o.TgZ(122,"div",32),o.TgZ(123,"div",33),o.TgZ(124,"h5",47),o._uU(125),o.ALo(126,"translate"),o.qZA(),o._UZ(127,"button",35),o.qZA(),o.TgZ(128,"div",36),o._uU(129),o.ALo(130,"translate"),o.qZA(),o.TgZ(131,"div",37),o.TgZ(132,"button",38),o._uU(133),o.ALo(134,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(135,"li"),o.TgZ(136,"button",48),o.TgZ(137,"h6"),o._uU(138),o.ALo(139,"translate"),o.qZA(),o.qZA(),o.TgZ(140,"div",49),o.TgZ(141,"div",31),o.TgZ(142,"div",32),o.TgZ(143,"div",33),o.TgZ(144,"h5",50),o._uU(145),o.ALo(146,"translate"),o.qZA(),o._UZ(147,"button",35),o.qZA(),o.TgZ(148,"div",36),o.TgZ(149,"ul"),o.TgZ(150,"li"),o._uU(151),o.ALo(152,"translate"),o.qZA(),o.TgZ(153,"li"),o._uU(154),o.ALo(155,"translate"),o.qZA(),o.TgZ(156,"li"),o._uU(157),o.ALo(158,"translate"),o.qZA(),o.TgZ(159,"li"),o._uU(160),o.ALo(161,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(162,"div",37),o.TgZ(163,"button",38),o._uU(164),o.ALo(165,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t){const a=o.MAs(24);o.xp6(5),o.Oqu(o.lcZ(6,35,"Online Consultation")),o.xp6(5),o.Oqu(o.lcZ(11,37,"Have a remote consultation with the best doctors through the audiovisual consultation service.")),o.xp6(8),o.Oqu(o.lcZ(19,39,"See a doctor online")),o.xp6(5),o.Q6J("ngModel",r.filterItem),o.xp6(3),o.Oqu(o.lcZ(27,41,"Choose Category")),o.xp6(2),o.Q6J("ngForOf",r.DoctorCategory),o.xp6(2),o.Q6J("routerLink",o.DdM(97,p3))("queryParams",o.VKq(98,g3,a.value)),o.xp6(9),o.Oqu(o.lcZ(40,43,"FAQs")),o.xp6(8),o.hij("",o.lcZ(48,45,"How to see a doctor while staying at home?")," "),o.xp6(7),o.hij("",o.lcZ(55,47,"How to see a doctor while staying at home?")," "),o.xp6(4),o.hij(" ",o.lcZ(59,49,"In light of COVID-19 outbreak and the importance of social distancing these days, CliniDo introduces telemedicine services either through audio/visual meeting with doctors or fast consultation service through SMS or phone call.")," "),o.xp6(4),o.Oqu(o.lcZ(63,51,"Close")),o.xp6(5),o.Oqu(o.lcZ(68,53,"When should I choose to see doctor online?")),o.xp6(7),o.hij("",o.lcZ(75,55,"When should I choose to see doctor online?")," "),o.xp6(4),o.hij(" ",o.lcZ(79,57,"If you are suffering from specific medical problem and need to see a doctor while staying at home so you can choose to see doctor online by choosing specialty, comparing and selecting the most suitable doctor in terms of title, fees, and appointment time, then you will be able to have an audiovisual meeting with this doctor.")," "),o.xp6(4),o.Oqu(o.lcZ(83,59,"Close")),o.xp6(5),o.hij("",o.lcZ(88,61,"How to book an online consultation?")," "),o.xp6(7),o.hij("",o.lcZ(95,63,"How to book an online consultation?")," "),o.xp6(6),o.hij(" ",o.lcZ(101,65,"Choose the needed specialty"),""),o.xp6(3),o.hij(" ",o.lcZ(104,67,"Choose the suitable doctor and select the suitable time."),""),o.xp6(3),o.hij(" ",o.lcZ(107,69,"Write your personal data (Name, mobile no. and e-mail)."),""),o.xp6(3),o.hij(" ",o.lcZ(110,71,"Choose the suitable payment method then click book."),""),o.xp6(4),o.Oqu(o.lcZ(114,73,"Close")),o.xp6(5),o.hij(" ",o.lcZ(119,75,"How to pay for the consultation?")," "),o.xp6(7),o.hij("",o.lcZ(126,77,"How to pay for the consultation?")," "),o.xp6(4),o.hij(" ",o.lcZ(130,79,"Choose the most convenient method of payment (Card, Fawry, Aman or Massary).")," "),o.xp6(4),o.Oqu(o.lcZ(134,81,"Close")),o.xp6(5),o.hij("",o.lcZ(139,83,"How do the online consultation take place? ")," "),o.xp6(7),o.hij("",o.lcZ(146,85,"How do the online consultation take place?")," "),o.xp6(6),o.hij(" ",o.lcZ(152,87,"A link for the consultation will be sent to you after booking"),""),o.xp6(3),o.hij(" ",o.lcZ(155,89,"If you will have the consultation through laptop click the consultation link directly."),""),o.xp6(3),o.hij(" ",o.lcZ(158,91,"If you will have the consultation through your mobile, you will need to download CliniDo app then click the consultation link."),""),o.xp6(3),o.hij(" ",o.lcZ(161,93,"The consultation link will be activated only in the date and time you have booked."),""),o.xp6(4),o.Oqu(o.lcZ(165,95,"Close"))}},directives:[Lu,tc,Wn,Qp,Zd,Mn,yc,yL],pipes:[ns],styles:[".imb[_ngcontent-%COMP%]{margin-bottom:-40%;width:60%}#hh[_ngcontent-%COMP%]{padding-left:10%;color:#004f71;font-weight:bold}#hh[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:3%;font-size:18px}#img-cont[_ngcontent-%COMP%]{margin-left:8%}@media (max-width: 767px){#img-cont[_ngcontent-%COMP%]{display:none}}#fitcher[_ngcontent-%COMP%]{border-bottom:#38b9db 3px solid;color:#38b9db;padding-bottom:10px;width:15%;margin-left:8%}@media (max-width: 767px){#fitcher[_ngcontent-%COMP%]{width:30%}}.x[_ngcontent-%COMP%]{margin-top:3%;padding-left:3%}#carouselExampleIndicators[_ngcontent-%COMP%]{background-color:#efeff4}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]{padding:3em}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{justify-content:space-evenly}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .cl1[_ngcontent-%COMP%]{width:30%}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]{justify-content:start}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{justify-content:end;padding:1px}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#38b9db}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:100%}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%2338B9DB' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E\")!important}#carouselExampleIndicators[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%2338B9DB' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E\")!important}.a[_ngcontent-%COMP%]{display:flex}@media screen and (max-width: 700px){.a[_ngcontent-%COMP%]{display:block!important}}.but[_ngcontent-%COMP%]{width:70%;margin-top:1%;background-color:#004f71;color:#efeff4}@media screen and (max-width: 767px){.imo[_ngcontent-%COMP%]{display:none}}.repeated-questions[_ngcontent-%COMP%]{border:white 3px solid;border-radius:30px}.faq[_ngcontent-%COMP%]{background-color:#fff;width:10%;padding-left:2%;margin-top:1%;border-radius:40px}.ques[_ngcontent-%COMP%]{margin-left:3%;margin-top:3%}"]}),n})();var Dp=z(1704);let _3=(()=>{class n{constructor(t,r){this.DoctorService=t,this.activatedRoute=r,this.currentLang=localStorage.getItem("currentLang")}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.DoctorService.getDoctorById(t.id).subscribe(r=>{this.doctor=r})}),console.log(this.doctor),this.ShowClinInfo()}ShowClinInfo(){Dp("#clinic-info").css("display","block"),Dp("#ratingReviews").css("display","none"),Dp("#ShowClinInfo").addClass("active"),Dp("#ShowRatingReviews").removeClass("active")}ShowRatingReviews(){Dp("#ratingReviews").css("display","block"),Dp("#clinic-info").css("display","none"),Dp("#ShowRatingReviews").addClass("active"),Dp("#ShowClinInfo").removeClass("active")}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vE),o.Y36(gc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-doctor-details"]],decls:233,vars:73,consts:[["id","drProfileHeader",1,"drProfileHeader"],[1,"container-fluid","bookContainer"],[1,"row","online"],[1,"col-lg-3","col-md-3","col-sm-4","col-xs-12","card"],[1,"d-flex"],[1,"col-lg-1","col-md-2","col-sm-2","col-xs-2"],[1,"img-circle","prof-img",3,"src"],["target","_blank","onclick","share(4791,890,'Dr.','Emad','Ismail')",1,"share_link"],["src","https://clinido.com/public/images/btn-share.svg",1,"share-img"],[1,"col-lg-8","col-md-8","col-sm-6","col-xs-6","doctorName"],[1,"doc-nmsp"],[1,"title"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","rate-box"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","ngma"],["src","https://clinido.com/public/images/ic-rate.svg",1,"top_mini_images"],["src","https://clinido.com/public/images/ic-views.svg",2,"width","24px"],[1,"col-lg-12","col-md-12","col-sm-12-col-xs-12"],[1,"clinics","clinicdots"],["id","drProfile",1,"drProfile"],[1,"row","drDetails"],[1,"col-lg-3","col-md-3","col-sm-4","col-xs-12","mobileCard",2,"padding","0"],[1,"card",2,"width","100%"],["id","activeClinic",1,"cardBody","active"],[1,"row","doc-cd"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","clinic-name","doc-cd"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","loc-box","doc-cd"],[1,"img-loc"],[1,"text-loc"],[1,"clin-loc"],[1,"details","doc-cd"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-4","col-xs-4"],["src","https://clinido.com/public/images/ic-time.svg",1,"mini_images"],[1,"text"],[1,"value"],["src","https://clinido.com/public/images/ic-money.svg",1,"mini_images"],["src","https://clinido.com/public/images/ic-call.svg",1,"mini_images"],["href","tel:00201201111344"],["action","https://clinido.com/en/saveappointmentdate","accept-charset","UTF-8","method","post","id","saveappointment",1,"global-nav","doc-cd"],["type","hidden","name","_token","value",""],["type","hidden","name","cid","value","0"],["type","hidden","name","clinic_id","value","890"],["type","hidden","name","doctor-id","value","4791"],["type","hidden","name","appointment_slot","value","(7:00 PM - 9:00 PM)"],["type","hidden","name","appointment_date","value","2021-10-23"],["type","hidden","name","availability_id","value","4206"],["type","submit","onclick","window.location=''",1,"btn","btn-nav","btn-block"],[1,"other-dates","doc-cd"],["data-cid","0","clinic_id","890","doctor-id","4791",1,"checkDate","choose_dates"],["id","drop-img","aria-hidden","true",1,"fas","fa-chevron-down"],[1,"col-lg-9","col-md-9","col-sm-8","col-xs-12","tabs-links"],[1,"container-fluid"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","tabs"],[1,"nav","nav-tabs"],["id","ShowClinInfo",1,"active"],[3,"click"],["id","ShowRatingReviews"],["id","clinic-info",1,"col-lg-9","col-md-9","col-sm-8","col-xs-12"],[1,"row","aboutSection"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","prf-abt","about"],[1,"abt-cnt"],["aria-hidden","true",1,"fas","fa-info","centerInfoIcon"],[1,"center_info"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","prf-abt","education"],["aria-hidden","true",1,"fas","fa-graduation-cap","centerInfoIcon"],["id","clinic-features",1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","prf-abt","clinic-features"],["aria-hidden","true",1,"fas","fa-clinic-medical","centerInfoIcon"],[1,"col-lg-6","col-md-6","col-sm-12","col-xs-12"],["src","https://clinido.com/public/images/tv.svg"],["src","https://clinido.com/public/images/air-conditioner.svg"],["id","ratingReviews",1,"col-lg-9","col-md-9","col-sm-8","col-xs-12"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","prf-abt"],[1,"col-lg-3","col-md-3","col-sm-12","col-xs-12"],[1,"general-rate"],[1,"general-rating"],[1,"fas","fa-star","checked"],[1,"fas","fa-star","not-checked"],[1,"rate-count"],[1,"col-lg-9","col-md-9","col-sm-12","col-xs-12"],[1,"progress"],["role","progressbar","aria-valuenow","99.5238","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","99.5238%"],["role","progressbar","aria-valuenow","97.858","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","97.858%"],["role","progressbar","aria-valuenow","98.096","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","98.096%"],[1,"pat-name"],[1,"rating"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o._UZ(6,"img",6),o.TgZ(7,"a",7),o._UZ(8,"img",8),o.qZA(),o.qZA(),o.TgZ(9,"div",9),o.TgZ(10,"div",10),o.TgZ(11,"h1"),o._uU(12),o.qZA(),o.TgZ(13,"p",11),o._uU(14),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",12),o.TgZ(16,"div",13),o.TgZ(17,"p"),o._uU(18,"5 "),o.qZA(),o._UZ(19,"img",14),o.qZA(),o.TgZ(20,"div",13),o.TgZ(21,"p"),o._uU(22,"7721 "),o.qZA(),o._UZ(23,"img",15),o.qZA(),o.qZA(),o.TgZ(24,"div",16),o.TgZ(25,"h2",17),o._uU(26),o.ALo(27,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(28,"section",18),o.TgZ(29,"div",1),o.TgZ(30,"div",19),o.TgZ(31,"div",20),o.TgZ(32,"div",21),o.TgZ(33,"div",22),o.TgZ(34,"div",23),o.TgZ(35,"div",24),o.TgZ(36,"h4"),o._uU(37),o.qZA(),o.qZA(),o.TgZ(38,"div",25),o.TgZ(39,"div",26),o.TgZ(40,"p",27),o._uU(41,"Heliopolis"),o.qZA(),o.TgZ(42,"p",28),o._uU(43,"77 Othman Ebn Afan St. Masr ElGedida"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(44,"div",29),o.TgZ(45,"div",30),o.TgZ(46,"div",31),o._UZ(47,"img",32),o.TgZ(48,"p",33),o._uU(49),o.ALo(50,"translate"),o.qZA(),o.TgZ(51,"p",34),o._uU(52),o.ALo(53,"translate"),o.qZA(),o.qZA(),o.TgZ(54,"div",31),o._UZ(55,"img",35),o.TgZ(56,"p",33),o._uU(57),o.ALo(58,"translate"),o.qZA(),o.TgZ(59,"p",34),o._uU(60),o.ALo(61,"translate"),o.qZA(),o.qZA(),o.TgZ(62,"div",31),o._UZ(63,"img",36),o.TgZ(64,"p",33),o._uU(65),o.ALo(66,"translate"),o.qZA(),o.TgZ(67,"p",34),o.TgZ(68,"a",37),o._uU(69,"01201111344"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(70,"form",38),o._UZ(71,"input",39),o._UZ(72,"input",40),o._UZ(73,"input",41),o._UZ(74,"input",42),o._UZ(75,"input",43),o._UZ(76,"input",44),o._UZ(77,"input",45),o.TgZ(78,"p"),o._uU(79),o.ALo(80,"translate"),o.qZA(),o.TgZ(81,"button",46),o._uU(82),o.ALo(83,"translate"),o.qZA(),o.qZA(),o.TgZ(84,"div",47),o.TgZ(85,"p",48),o._uU(86),o.ALo(87,"translate"),o.qZA(),o._UZ(88,"i",49),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(89,"div",50),o.TgZ(90,"div",30),o.TgZ(91,"div",51),o.TgZ(92,"div",52),o.TgZ(93,"ul",53),o.TgZ(94,"li",54),o.TgZ(95,"a",55),o.NdJ("click",function(){return r.ShowClinInfo()}),o._uU(96),o.ALo(97,"translate"),o.qZA(),o.qZA(),o.TgZ(98,"li",56),o.TgZ(99,"a",55),o.NdJ("click",function(){return r.ShowRatingReviews()}),o._uU(100),o.ALo(101,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(102,"div",57),o.TgZ(103,"div",58),o.TgZ(104,"div",51),o.TgZ(105,"div",59),o.TgZ(106,"div",60),o._UZ(107,"i",61),o.TgZ(108,"h4",62),o._uU(109),o.ALo(110,"translate"),o.qZA(),o.TgZ(111,"p"),o._uU(112),o.ALo(113,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(114,"div",63),o.TgZ(115,"div",60),o._UZ(116,"i",64),o.TgZ(117,"h4",62),o._uU(118),o.ALo(119,"translate"),o.qZA(),o.TgZ(120,"p"),o._uU(121),o.ALo(122,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(123,"div",65),o.TgZ(124,"div",60),o._UZ(125,"i",66),o.TgZ(126,"h4",62),o._uU(127),o.ALo(128,"translate"),o.qZA(),o.TgZ(129,"div"),o.TgZ(130,"div",67),o._UZ(131,"img",68),o.TgZ(132,"p"),o._uU(133),o.ALo(134,"translate"),o.qZA(),o.qZA(),o.TgZ(135,"div",67),o._UZ(136,"img",69),o.TgZ(137,"p"),o._uU(138),o.ALo(139,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(140,"div",70),o.TgZ(141,"div",30),o.TgZ(142,"div",51),o.TgZ(143,"div",71),o.TgZ(144,"div",60),o.TgZ(145,"div",72),o.TgZ(146,"h4",73),o._uU(147),o.ALo(148,"translate"),o.qZA(),o.TgZ(149,"div",74),o._UZ(150,"span",75),o._UZ(151,"span",75),o._UZ(152,"span",75),o._UZ(153,"span",75),o._UZ(154,"span",76),o.qZA(),o.TgZ(155,"p",77),o._uU(156),o.ALo(157,"translate"),o.qZA(),o.qZA(),o.TgZ(158,"div",78),o.TgZ(159,"p",11),o._uU(160),o.ALo(161,"translate"),o.qZA(),o.TgZ(162,"p",34),o._uU(163,"5"),o.qZA(),o.TgZ(164,"div",79),o._UZ(165,"div",80),o.qZA(),o.TgZ(166,"p",11),o._uU(167),o.ALo(168,"translate"),o.qZA(),o.TgZ(169,"p",34),o._uU(170,"4.9"),o.qZA(),o.TgZ(171,"div",79),o._UZ(172,"div",81),o.qZA(),o.TgZ(173,"p",11),o._uU(174),o.ALo(175,"translate"),o.qZA(),o.TgZ(176,"p",34),o._uU(177,"4.9"),o.qZA(),o.TgZ(178,"div",79),o._UZ(179,"div",82),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(180,"div",71),o.TgZ(181,"div",60),o.TgZ(182,"h4",83),o._uU(183,"\u0627\u0644\u062e\u0637\u064a\u0628 \u0635\u0644\u0627\u062d \u0645\u062d\u0645\u062f \u0627\u062d\u0645\u062f"),o.qZA(),o.TgZ(184,"p",34),o._uU(185,"2021-10-16"),o.qZA(),o.TgZ(186,"div",84),o._UZ(187,"span",75),o._UZ(188,"span",75),o._UZ(189,"span",75),o._UZ(190,"span",75),o._UZ(191,"span",75),o.qZA(),o._UZ(192,"p"),o.qZA(),o.qZA(),o.TgZ(193,"div",71),o.TgZ(194,"div",60),o.TgZ(195,"h4",83),o._uU(196,"\u0633\u0627\u0645\u064a\u0629 \u0646\u062c\u064a\u0628 \u0631\u0632\u0642"),o.qZA(),o.TgZ(197,"p",34),o._uU(198,"2021-10-16"),o.qZA(),o.TgZ(199,"div",84),o._UZ(200,"span",75),o._UZ(201,"span",75),o._UZ(202,"span",75),o._UZ(203,"span",75),o._UZ(204,"span",75),o.qZA(),o.TgZ(205,"p"),o._uU(206,"\u0643\u0644\u0647 \u062a\u0645\u0627\u0645"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(207,"div",71),o.TgZ(208,"div",60),o.TgZ(209,"h4",83),o._uU(210,"\u0631\u0648\u062c\u064a\u0646\u0627 \u0645\u062d\u0645\u062f \u064a\u0648\u0633\u0641"),o.qZA(),o.TgZ(211,"p",34),o._uU(212,"2021-10-09"),o.qZA(),o.TgZ(213,"div",84),o._UZ(214,"span",75),o._UZ(215,"span",75),o._UZ(216,"span",75),o._UZ(217,"span",75),o._UZ(218,"span",75),o.qZA(),o._UZ(219,"p"),o.qZA(),o.qZA(),o.TgZ(220,"div",71),o.TgZ(221,"div",60),o.TgZ(222,"h4",83),o._uU(223,"\u0646\u0648\u0627\u062f\u0631 \u0645\u062d\u0645\u062f \u0627\u062d\u0645\u062f"),o.qZA(),o.TgZ(224,"p",34),o._uU(225,"2021-09-27"),o.qZA(),o.TgZ(226,"div",84),o._UZ(227,"span",75),o._UZ(228,"span",75),o._UZ(229,"span",75),o._UZ(230,"span",75),o._UZ(231,"span",75),o.qZA(),o._UZ(232,"p"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(6),o.s9C("src",r.doctor.url,o.LSH),o.xp6(6),o.Oqu(r.doctor.firstName),o.xp6(2),o.Oqu(r.doctor.drCategory),o.xp6(12),o.Oqu(o.lcZ(27,27,"Clinincs")),o.xp6(11),o.hij("Clinic Dr ",r.doctor.firstName,""),o.xp6(12),o.Oqu(o.lcZ(50,29,"Waiting")),o.xp6(3),o.hij("15 ",o.lcZ(53,31,"minutes"),""),o.xp6(5),o.Oqu(o.lcZ(58,33,"Fees")),o.xp6(3),o.hij("300 ",o.lcZ(61,35,"EGP"),""),o.xp6(5),o.Oqu(o.lcZ(66,37,"Call Us")),o.xp6(14),o.Oqu(o.lcZ(80,39,"First In First Out")),o.xp6(3),o.Oqu(o.lcZ(83,41,"Book Tomorrow (7:00 PM - 9:00 PM)")),o.xp6(4),o.Oqu(o.lcZ(87,43,"Show other available dates")),o.xp6(10),o.Oqu(o.lcZ(97,45,"Clinic information")),o.xp6(4),o.Oqu(o.lcZ(101,47,"Ratings and reviews")),o.xp6(9),o.hij("",o.lcZ(110,49,"About doctor")," "),o.xp6(3),o.Oqu(o.lcZ(113,51,"Fellow of royal college of London")),o.xp6(6),o.Oqu(o.lcZ(119,53,"Education")),o.xp6(3),o.Oqu(o.lcZ(122,55,"\u0632\u0645\u064a\u0644 \u0627\u0644\u0643\u0644\u064a\u0629 \u0627\u0644\u0645\u0644\u0643\u064a\u0629 \u0628\u0644\u0646\u062f\u0646 \u0639\u0636\u0648 \u0627\u0644\u062c\u0645\u0639\u064a\u0629 \u0627\u0644\u0623\u0645\u0631\u064a\u0643\u064a\u0629 \u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0633\u0643\u0631")),o.xp6(6),o.Oqu(o.lcZ(128,57,"Clinic features")),o.xp6(6),o.Oqu(o.lcZ(134,59,"TV")),o.xp6(5),o.Oqu(o.lcZ(139,61,"Conditioner")),o.xp6(9),o.Oqu(o.lcZ(148,63,"General Rating")),o.xp6(9),o.Oqu(o.lcZ(157,65,"(4.9) rated from 84 visitors")),o.xp6(4),o.Oqu(o.lcZ(161,67,"Medical service")),o.xp6(7),o.Oqu(o.lcZ(168,69,"Waiting Area")),o.xp6(7),o.Oqu(o.lcZ(175,71,"Assistant")))},directives:[li,nc,g],pipes:[ns],styles:['html[_ngcontent-%COMP%]{font-family:"Helvetica ",Arial,sans-serif;font-size:15px}#drProfileHeader[_ngcontent-%COMP%]{background-color:#fff}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{margin-right:15px;margin-left:15px;padding-top:66px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding-left:0;padding-right:0;border:none}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .prof-img[_ngcontent-%COMP%]{width:76px;height:76px;border-radius:38px;border:solid 2.2px #026d95;float:left}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .share_link[_ngcontent-%COMP%]{display:block;margin-left:519px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .share_link[_ngcontent-%COMP%]   .share-img[_ngcontent-%COMP%]{float:right;transform:rotate(180deg);margin-top:2%}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .doc-nmsp[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:20px;font-size:16px;color:#38b9db;font-family:FFShamelFamily-SansOneBold;font-weight:bold;margin-top:20px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .doc-nmsp[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:20px;font-family:FFShamelFamily-SansOneBold;font-size:15px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .rate-box[_ngcontent-%COMP%]{padding:3%;display:flex;text-align:center;width:100%;margin-top:-24px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .rate-box[_ngcontent-%COMP%]   .ngma[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;font-size:12px;color:#888;margin-left:10px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .clinics[_ngcontent-%COMP%]{color:#004f6c;font-size:20px;font-weight:bold;margin-top:-26px}#drProfile[_ngcontent-%COMP%]{background-color:#efeff4}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]{padding-right:30px;padding-left:30px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]{justify-content:space-around}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;border-radius:12px;margin-bottom:20px;padding-right:0;padding-left:0;font-size:14px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .clinic-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;font-family:FFShamelFamily-SansOneBold;font-weight:bold;font-size:16px;color:#38b9db;margin-top:10px;margin-bottom:0}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .loc-box[_ngcontent-%COMP%]{height:auto;text-align:left}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .loc-box[_ngcontent-%COMP%]   .text-loc[_ngcontent-%COMP%]{font-weight:bold;font-size:12px;margin-bottom:5px;text-align:left;display:inline}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .loc-box[_ngcontent-%COMP%]   .clin-loc[_ngcontent-%COMP%]{display:inline}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .img-circle[_ngcontent-%COMP%]{width:76px;height:76px;border-radius:38px;border:solid 2px #026d95;float:left}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .doc-nmsp[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:FFShamelFamily-SansOneBold;font-size:20px;font-weight:bold;text-align:left;color:#38b9db;height:20px;margin-top:20px;margin-bottom:10px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .doc-nmsp[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:20px;text-align:left;color:#000}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .rate-box[_ngcontent-%COMP%]{padding:3%;background-color:#fbfbfb;text-align:center;display:flex}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .rate-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .doc-cd[_ngcontent-%COMP%]{padding:0 12px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .mini_images[_ngcontent-%COMP%]{width:40px;height:40px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:10px;color:#888;margin:0 0 10px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{height:25px;font-size:10px;color:#000}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .global-nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;margin:0 0 10px;font-size:12.5px;color:#888}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .global-nav[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]{width:100%;height:42px;border-radius:4px;background-color:#30c34b;font-weight:bold;color:#fff;overflow:hidden;text-overflow:ellipsis}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .other-dates[_ngcontent-%COMP%]{margin:10px;padding-bottom:0}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .other-dates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px 0 0 5px;display:inline;cursor:pointer}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]   .other-dates[_ngcontent-%COMP%]   #drop-img[_ngcontent-%COMP%]{display:inline;color:#d4d7d8;margin-top:5px;margin-left:8px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]{width:100%;cursor:pointer;z-index:1}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:none}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:13px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #38b9db;font-weight:bold;color:#38b9db;cursor:pointer}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]{margin-bottom:40px;width:100%;margin-left:auto}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]   .centerInfoIcon[_ngcontent-%COMP%]{color:#38b9db;margin:0 3px;display:inline-block}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]   .center_info[_ngcontent-%COMP%]{display:inline;font-size:14px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]   .abt-cnt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]   .abt-cnt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-of-type{margin-top:18px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]{margin-bottom:40px;width:100%;margin-left:auto}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .abt-cnt[_ngcontent-%COMP%]   .general-rate[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .general-rating[_ngcontent-%COMP%]{display:inline;margin-right:15px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .general-rating[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{color:#fc0}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .general-rating[_ngcontent-%COMP%]   .not-checked[_ngcontent-%COMP%]{color:#dddde1}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .rate-count[_ngcontent-%COMP%]{font-size:12px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;text-align:right;color:#888}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000;font-size:14px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{float:right;font-size:12px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:4px;clear:both;margin-bottom:20px;border-radius:4px;box-shadow:inset 0 1px 2px #0003}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#fc0}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .prf-abt[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;margin:10px 0;padding:25px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .prf-abt[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:bold;color:#0e0e0e;font-size:18px}#drProfile[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .drDetails[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{color:#fc0;font-size:18px}@media (min-width: 576px){#drProfileHeader[_ngcontent-%COMP%]{height:541px}#drProfileHeader[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%!important}#drProfile[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]{width:100%}#drProfile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-top:-337px}#drProfile[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]{margin-top:-45px}#drProfile[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-bottom:20px}#drProfile[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]{margin-top:10px}#drProfile[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]{margin-top:10px}#drProfile[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{width:105%}}@media (min-width: 768px){#drProfileHeader[_ngcontent-%COMP%]{height:212px}#drProfileHeader[_ngcontent-%COMP%]   .share-img[_ngcontent-%COMP%]{display:none}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]{padding-right:0;padding-left:20px;width:auto}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-left:0;margin-right:50px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .rate-box[_ngcontent-%COMP%]{width:50%!important}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .rate-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:25%}#drProfile[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]{width:33.33333333%}#drProfile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:20px}#drProfile[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]{width:61.67777%!important;margin-top:-47px}#drProfile[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:30px}#drProfile[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:40px!important}#drProfile[_ngcontent-%COMP%]   .tabs-links[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-bottom:27px}#drProfile[_ngcontent-%COMP%]   #clinic-info[_ngcontent-%COMP%]{width:60.67777%!important;margin-top:-318px}#drProfile[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]{width:60.67777%!important;margin-top:-318px}#drProfile[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .general-rating[_ngcontent-%COMP%]{font-size:13px}#drProfile[_ngcontent-%COMP%]   #ratingReviews[_ngcontent-%COMP%]   .rate-count[_ngcontent-%COMP%]{width:150%;display:inline-block!important}}@media (min-width: 992px){#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]{margin-right:87px;margin-left:66px}#drProfileHeader[_ngcontent-%COMP%]   .doctorName[_ngcontent-%COMP%]{margin-left:25px}#drProfile[_ngcontent-%COMP%]   .mobileCard[_ngcontent-%COMP%]{width:25%}#drProfile[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{margin-left:24px}}@media (min-width: 1024px){#drProfileHeader[_ngcontent-%COMP%]{height:230px}}@media (min-width: 1200px){#drProfileHeader[_ngcontent-%COMP%]{height:241px}}@media (min-width: 1336px){#drProfileHeader[_ngcontent-%COMP%]{height:237px}#clinic-info[_ngcontent-%COMP%]{margin-top:-302px!important}#ratingReviews[_ngcontent-%COMP%]{margin-top:-302px!important}}@media (min-width: 1440px){#drProfileHeader[_ngcontent-%COMP%]{height:244px}.tabs[_ngcontent-%COMP%]{margin-left:47px!important}}@media (min-width: 1600px){#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .clinics[_ngcontent-%COMP%]{margin-top:-22px}}@media (min-width: 2560px){.tabs[_ngcontent-%COMP%]{margin-left:86px!important}#drProfileHeader[_ngcontent-%COMP%]{height:298px}#drProfileHeader[_ngcontent-%COMP%]   .bookContainer[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .clinics[_ngcontent-%COMP%]{margin-top:-22px}#drProfile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-top:30px}}']}),n})(),y3=(()=>{class n{constructor(t){this.AngularFireStore=t,this.dbPath="/Booking"}AddNewBooking(t){return this.AngularFireStore.collection(this.dbPath).add(t)}getAllBooking(){return this.AngularFireStore.collection(this.dbPath).snapshotChanges()}getBookById(t){return this.AngularFireStore.collection(this.dbPath).doc(t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v3=(()=>{class n{constructor(t){this.AngularFireStore=t,this.dbPath="/users"}AddNewUser(t){return this.AngularFireStore.collection(this.dbPath).add(t)}getAllUser(){return this.AngularFireStore.collection(this.dbPath).snapshotChanges()}getUserById(t){return this.AngularFireStore.collection(this.dbPath).doc(t).valueChanges()}updateUserById(t,r){return this.AngularFireStore.collection(this.dbPath).doc(t).update({bookings:r})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C3=(()=>{class n{constructor(t,r,a,c,h,p){this.DoctorService=t,this.BookingService=r,this.userService=a,this.activatedRoute=c,this.formBuilder=h,this.router=p,this.booking=[],this.bookinglist=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.DoctorService.getDoctorById(t.id).subscribe(r=>{this.doctor=r})}),this.bookingForm=this.formBuilder.group({name:["",[kn.required]],phone:["",[kn.required]],email:["",[kn.required]]}),this.BookingService.getAllBooking().subscribe(t=>{this.booking=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,Object.assign({},a)})})}onSubmit(){const t=localStorage.getItem("user");this.bookingInfo={DoctorName:this.doctor.firstName,DoctorPhone:this.doctor.mobile,DoctorCategory:this.doctor.drCategory,name:this.bookingForm.value.name,phone:this.bookingForm.value.phone,email:this.bookingForm.value.email,resevationTime:(new Date).toString()},this.BookingService.AddNewBooking(this.bookingInfo),this.bookinglist=[...this.bookinglist,this.bookingInfo],this.userService.updateUserById(t,this.bookinglist)}onDetails(){this.router.navigate(["/bookingDetails"],{state:this.bookingInfo})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vE),o.Y36(y3),o.Y36(v3),o.Y36(gc),o.Y36(yl),o.Y36(_s))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking"]],decls:58,vars:40,consts:[["id","secOne",1,"container-fluid","py-3"],[1,"row","p-5","d-flex","justify-content-between"],[1,"col-lg-3","col-md-3","col-sm-12"],[1,"card","mb-2","doctor","shadow","p-3",2,"border-radius","1em"],["alt","image cap",1,"card-img-top","w-25","py-1",3,"src"],[1,"card-title"],[1,"mb-1"],[1,"text-muted"],[1,"col-lg-7","col-md-7","col-sm-12","secDiv"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],["for","phone"],["type","text","name","phone","formControlName","phone",1,"form-control",3,"placeholder"],["for","email"],["type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"d-flex","justify-content-between",2,"width","100%"],["type","submit","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary","btn-lg",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-lg","bg-white","text-dark"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["id","model",1,"modal-body","text-center"],["src","../../../../assets/images/ic-successfully-booked.svg",1,"py-2"],["id","modelfooter",1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-lg","btn-primary",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"div"),o.TgZ(6,"h5",5),o._uU(7),o.qZA(),o.TgZ(8,"p",6),o._uU(9),o.qZA(),o.TgZ(10,"p",7),o._uU(11),o.qZA(),o.TgZ(12,"span",7),o._uU(13,"Saturday | 23 Oct 2021 (5:00 PM - 8:00 PM)"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",8),o.TgZ(15,"h1"),o._uU(16),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"form",9),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(19,"div",10),o.TgZ(20,"label",11),o._uU(21),o.ALo(22,"translate"),o.qZA(),o._UZ(23,"input",12),o.ALo(24,"translate"),o.qZA(),o.TgZ(25,"div",10),o.TgZ(26,"label",13),o._uU(27),o.ALo(28,"translate"),o.qZA(),o._UZ(29,"input",14),o.ALo(30,"translate"),o.qZA(),o.TgZ(31,"div",10),o.TgZ(32,"label",15),o._uU(33),o.ALo(34,"translate"),o.qZA(),o._UZ(35,"input",16),o.ALo(36,"translate"),o.qZA(),o.TgZ(37,"div",17),o.TgZ(38,"button",18),o._uU(39),o.ALo(40,"translate"),o.qZA(),o.TgZ(41,"button",19),o._uU(42),o.ALo(43,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(44,"div",20),o.TgZ(45,"div",21),o.TgZ(46,"div",22),o.TgZ(47,"div",23),o._UZ(48,"img",24),o.TgZ(49,"h5"),o._uU(50),o.ALo(51,"translate"),o.qZA(),o.TgZ(52,"span"),o._uU(53),o.qZA(),o.qZA(),o.TgZ(54,"div",25),o.TgZ(55,"button",26),o.NdJ("click",function(){return r.onDetails()}),o._uU(56),o.ALo(57,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(4),o.s9C("src",r.doctor.url,o.LSH),o.xp6(3),o.Oqu(r.doctor.firstName),o.xp6(2),o.Oqu(r.doctor.drCategory),o.xp6(2),o.Oqu(r.doctor.firstName),o.xp6(5),o.Oqu(o.lcZ(17,18,"Complete your appointment")),o.xp6(2),o.Q6J("formGroup",r.bookingForm),o.xp6(3),o.Oqu(o.lcZ(22,20,"Name")),o.xp6(2),o.s9C("placeholder",o.lcZ(24,22,"Type Your Name")),o.xp6(4),o.Oqu(o.lcZ(28,24,"Phone number")),o.xp6(2),o.s9C("placeholder",o.lcZ(30,26,"Phone number")),o.xp6(4),o.Oqu(o.lcZ(34,28,"Email address")),o.xp6(2),o.s9C("placeholder",o.lcZ(36,30,"Type your Email address here..")),o.xp6(3),o.Q6J("disabled",r.bookingForm.invalid),o.xp6(1),o.Oqu(o.lcZ(40,32,"Book")),o.xp6(3),o.Oqu(o.lcZ(43,34,"Cancel")),o.xp6(8),o.Oqu(o.lcZ(51,36,"Your Booking is confirmed")),o.xp6(3),o.Oqu(r.doctor.firstName),o.xp6(3),o.Oqu(o.lcZ(57,38,"Your booking details")))},directives:[li,nc,rs,me,tc,h_],pipes:[ns],styles:["#secOne[_ngcontent-%COMP%]{background-color:#efeff4;margin-top:5%}#secOne[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#38b9db}#secOne[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}#secOne[_ngcontent-%COMP%]   .secDiv[_ngcontent-%COMP%]{margin-right:8%}#secOne[_ngcontent-%COMP%]   .secDiv[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#004f6c}#secOne[_ngcontent-%COMP%]   .secDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:15px 10px 15px 15px;margin-bottom:10px}#secOne[_ngcontent-%COMP%]   .secDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}#secOne[_ngcontent-%COMP%]   .secDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48.5%;background-color:#30c34b;border:none}#model[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#004f6c;text-align:center;font-weight:700}#model[_ngcontent-%COMP%]   .go-app[_ngcontent-%COMP%]{display:flex}#model[_ngcontent-%COMP%]   .go-app[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:10px}#modelfooter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]}),n})(),b3=(()=>{class n{constructor(){}ngOnInit(){this.bookingDetails=window.history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-booking-details"]],decls:19,vars:6,consts:[["id","details",1,"col-lg-3","col-md-3","col-sm-12","m-auto","w-50"],[1,"card","mb-2","doctor","shadow","p-3",2,"border-radius","1em"],[2,"width","20%"],["alt","image cap",1,"card-img","py-1",3,"src"],[2,"width","60%"],[1,"card-title"],[1,"text-muted"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"h3"),o._uU(2,"thank you for submitting your booking details"),o.qZA(),o.TgZ(3,"div",1),o.TgZ(4,"div",2),o._UZ(5,"img",3),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"h5",5),o._uU(8),o.qZA(),o.TgZ(9,"p",5),o._uU(10),o.qZA(),o.TgZ(11,"p",5),o._uU(12),o.qZA(),o.TgZ(13,"p",5),o._uU(14),o.qZA(),o.TgZ(15,"p",5),o._uU(16),o.qZA(),o.TgZ(17,"span",6),o._uU(18,"Date :Saturday | 23 Oct 2021 (5:00 PM - 8:00 PM)"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(5),o.s9C("src",r.doctor.url,o.LSH),o.xp6(3),o.hij("Name : ",r.bookingDetails.name,""),o.xp6(2),o.hij("Phone : ",r.bookingDetails.phone,""),o.xp6(2),o.hij("Email : ",r.bookingDetails.email,""),o.xp6(2),o.hij("Doctor : ",r.bookingDetails.DoctorName,""),o.xp6(2),o.hij("specialised in : ",r.bookingDetails.DoctorName,""))},styles:["#details[_ngcontent-%COMP%]{margin:10% auto!important;text-align:center;align-items:center}#details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], #details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#38b9db}.card[_ngcontent-%COMP%]{flex-direction:row!important;justify-content:space-evenly!important}"]}),n})();var zP=z(2476);let xp=(()=>{class n{constructor(t,r,a,c){this.firebaseAuth=t,this.ngZone=r,this.router=a,this.afs=c,this.firebaseAuth.authState.subscribe(h=>{h&&(this.userData=h,localStorage.setItem("user",this.userData.uid),localStorage.getItem("user"))})}SignIn(t,r){return this.firebaseAuth.signInWithEmailAndPassword(t,r).then(a=>{this.ngZone.run(()=>{this.router.navigate([""])})}).then(()=>{window.location.reload()}).catch(a=>{window.alert(a.message)})}SignUp(t){return this.firebaseAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{this.SendVerificationMail(),this.SetUserData(r.user,t.displayName)}).catch(r=>{window.alert(r.message)})}SetUserData(t,r){const a=this.afs.doc(`users/${t.uid}`);return console.log(t),this.userData={uid:t.uid,email:t.email,displayName:r,photoURL:t.photoURL,emailVerified:t.emailVerified},a.set(this.userData,{merge:!0})}GoogleAuth(){return this.AuthLogin(new zP.N)}FaceAuth(){return this.AuthLogin(new zP.M)}GitAuth(){return this.AuthLogin(new zP.Q)}AuthLogin(t){return this.firebaseAuth.signInWithPopup(t).then(r=>{this.ngZone.run(()=>{this.router.navigate([""])})}).then(()=>{window.location.reload()}).catch(r=>{window.alert(r)})}SendVerificationMail(){return this.firebaseAuth.authState.subscribe(t=>null==t?void 0:t.sendEmailVerification().then(()=>{this.router.navigate(["verify-email-address"])}))}ForgotPassword(t){return this.firebaseAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}SignOut(){return this.firebaseAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate([""])}).then(()=>{window.location.reload()})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_E),o.LFG(o.R0b),o.LFG(_s),o.LFG(yE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w3=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(xp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:49,vars:21,consts:[[1,"vh-100",2,"margin-bottom","60px"],[1,"container-fluid"],[1,"d-flex","justify-content-center"],[1,"col-sm-6","text-black"],[1,"px-5","ms-xl-4","mt-5"],["src","https://www.clinido.com/public/images/logo-menu-light.svg",1,"img-responsive","ms-3","mt-5"],[1,"row","${1|",",row-cols-2,row-cols-3,","auto,justify-content-md-center,|}"],[1,"d-flex","align-items-center","px-5","ms-xl-4","pt-xl-0","mt-xl-n5","mt-5"],["id","forma"],[1,"fw-bold","mb-3","pb-3",2,"letter-spacing","1px","color","#004f71","text-align","center"],[1,"form-outline","mb-4"],["for","form2Example18",1,"form-label"],["type","email","id","form2Example18","required","",1,"form-control","form-control-lg",2,"width","100%"],["userName",""],["for","form2Example28",1,"form-label"],["type","password","id","form2Example28","required","",1,"form-control","form-control-lg",2,"width","100%"],["userPassword",""],[1,"pt-1","mb-4","d-flex"],["type","button",1,"btn","btn-lg","btn-block",2,"background-color","#38b9db","color","white",3,"click"],[1,"small","mb-2","pb-lg-2"],["routerLink","/forgot-password",1,"text-muted"],["routerLink","/signup",1,"link-info"],[1,"ms-5"],["type","button",1,"btn","btn-floating","mx-1",2,"background-color","#38b9db","color","white",3,"click"],[1,"fab","fa-facebook-f"],[1,"fab","fa-google"],[1,"fab","fa-github"],[1,"col-md-5","px-0","d-none","d-md-block"],["src","https://clinido.com/public/images/img-1.svg","alt","Login image",1,"w-75",2,"object-fit","cover","object-position","left","margin-top","10%"]],template:function(t,r){if(1&t){const a=o.EpF();o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"form",8),o.TgZ(9,"h3",9),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"div",10),o.TgZ(13,"label",11),o._uU(14),o.ALo(15,"translate"),o.qZA(),o._UZ(16,"input",12,13),o.qZA(),o.TgZ(18,"div",10),o.TgZ(19,"label",14),o._uU(20),o.ALo(21,"translate"),o.qZA(),o._UZ(22,"input",15,16),o.qZA(),o.TgZ(24,"div",17),o.TgZ(25,"button",18),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(17),p=o.MAs(23);return r.authService.SignIn(h.value,p.value)}),o._uU(26),o.ALo(27,"translate"),o.qZA(),o.qZA(),o.TgZ(28,"p",19),o.TgZ(29,"a",20),o._uU(30),o.ALo(31,"translate"),o.qZA(),o.qZA(),o.TgZ(32,"p"),o._uU(33),o.ALo(34,"translate"),o.TgZ(35,"a",21),o._uU(36),o.ALo(37,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(38,"div",22),o.TgZ(39,"p"),o._uU(40," or sign in with:"),o.qZA(),o.TgZ(41,"button",23),o.NdJ("click",function(){return r.authService.FaceAuth()}),o._UZ(42,"i",24),o.qZA(),o.TgZ(43,"button",23),o.NdJ("click",function(){return r.authService.GoogleAuth()}),o._UZ(44,"i",25),o.qZA(),o.TgZ(45,"button",23),o.NdJ("click",function(){return r.authService.GitAuth()}),o._UZ(46,"i",26),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(47,"div",27),o._UZ(48,"img",28),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&t&&(o.xp6(10),o.Oqu(o.lcZ(11,7,"Login")),o.xp6(4),o.Oqu(o.lcZ(15,9,"Email address OR User name")),o.xp6(6),o.Oqu(o.lcZ(21,11,"Password")),o.xp6(6),o.Oqu(o.lcZ(27,13,"Login")),o.xp6(4),o.Oqu(o.lcZ(31,15,"Forgot password?")),o.xp6(3),o.Oqu(o.lcZ(34,17,"Don't have account ?")),o.xp6(3),o.Oqu(o.lcZ(37,19,"Register here")))},directives:[li,nc,g,hg],pipes:[ns],styles:[".bg-image-vertical[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-repeat:no-repeat;background-position:right center;background-size:auto 100%}#forma[_ngcontent-%COMP%]{width:27rem}@media (min-width: 1025px){.h-custom-2[_ngcontent-%COMP%]{height:100%}}"]}),n})(),E3=(()=>{class n{constructor(t,r){this.authService=t,this.formBuilder=r}ngOnInit(){this.signupForm=this.formBuilder.group({password:["",[kn.required]],displayName:["",[kn.required]],email:["",[kn.required,kn.email]]})}onSubmit(){this.authService.SignUp(this.signupForm.value)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(xp),o.Y36(yl))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:21,vars:4,consts:[[1,"forma","d-flex"],[2,"width","30%",3,"formGroup","ngSubmit"],[2,"font-weight","bold","color","#38b9db","margin-bottom","10%","text-align","center"],[1,"form-outline","mb-4"],["for","form3Example3",1,"form-label",2,"color","#004f71"],["type","text","id","form3Example3","formControlName","displayName","required","",1,"form-control"],["type","text","formControlName","email","required","",1,"form-control"],["for","form3Example4",1,"form-label",2,"color","#004f71"],["type","password","formControlName","password","required","",1,"form-control"],[1,"d-flex"],["type","button","type","submit",1,"btn","justify-content-center",2,"background-color","#004f71","color","white","margin-left","40%","margin-bottom","5%"],[1,"text-center"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(2,"h1",2),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"div",3),o.TgZ(6,"label",4),o._uU(7,"User name"),o.qZA(),o._UZ(8,"input",5),o.qZA(),o.TgZ(9,"div",3),o.TgZ(10,"label",4),o._uU(11,"Email address"),o.qZA(),o._UZ(12,"input",6),o.qZA(),o.TgZ(13,"div",3),o.TgZ(14,"label",7),o._uU(15,"Password"),o.qZA(),o._UZ(16,"input",8),o.qZA(),o.TgZ(17,"div",9),o.TgZ(18,"button",10),o._uU(19,"Sign up"),o.qZA(),o.qZA(),o._UZ(20,"div",11),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("formGroup",r.signupForm),o.xp6(2),o.Oqu(o.lcZ(4,2,"Sign UP")))},directives:[li,nc,rs,me,tc,h_,Jp],pipes:[ns],styles:[".forma[_ngcontent-%COMP%]{margin-top:8%;width:100%;justify-content:center;align-items:center;align-self:center}@media (max-width: 650px){.forma[_ngcontent-%COMP%]{margin-top:20%}}"]}),n})(),T3=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(xp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-forgot-password"]],decls:22,vars:15,consts:[[1,"displayTable",2,"margin-top","10%","display","flex","justify-content","center","align-items","center","padding-bottom","50px"],[1,"displayTableCell",2,"justify-content","center","align-items","center"],[1,"authBlock"],[2,"letter-spacing","1px","color","#004f71"],[1,"text-center"],[1,"formGroup"],["type","email","required","",1,"formControl","input-lg","formInputs",2,"height","56px","border-radius","4px","background-color","#fff","width","100%","font-size","20px","color","#4a4a4a","padding","10px 16px","border","none",3,"placeholder"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",2,"color","#004f71",3,"click"],[1,"redirectToLogin"],[2,"color","#004f71","display","block","margin-left","10px"],["routerLink","/login",1,"redirect",2,"cursor","pointer","color","#fff","background-color","#004f71","padding","3px"]],template:function(t,r){if(1&t){const a=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h3",3),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"p",4),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"div",5),o._UZ(10,"input",6,7),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"div",5),o.TgZ(14,"input",8),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(11);return r.authService.ForgotPassword(h.value)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",9),o.TgZ(16,"span",10),o._uU(17),o.ALo(18,"translate"),o.TgZ(19,"span",11),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&t&&(o.xp6(4),o.Oqu(o.lcZ(5,5,"Reset Password")),o.xp6(3),o.hij("",o.lcZ(8,7,"Please enter your email address to request a password reset"),"."),o.xp6(3),o.s9C("placeholder",o.lcZ(12,9,"Email Address")),o.xp6(7),o.Oqu(o.lcZ(18,11,"Go back to ")),o.xp6(3),o.Oqu(o.lcZ(21,13,"Login?")))},directives:[yc],pipes:[ns],styles:[""]}),n})();function A3(n,e){if(1&n&&(o.TgZ(0,"div",6),o.TgZ(1,"p",13),o._uU(2),o.ALo(3,"translate"),o.TgZ(4,"strong"),o._uU(5),o.qZA(),o._uU(6,"."),o.qZA(),o.TgZ(7,"p",13),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.qZA()),2&n){const t=e.ngIf;o.xp6(2),o.hij("",o.lcZ(3,3,"We have sent a confirmation email to")," "),o.xp6(3),o.Oqu(t.email),o.xp6(3),o.hij("",o.lcZ(9,5,"Please check your email and click on the link to verfiy your email address"),".")}}let I3=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(xp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-verify-email"]],decls:23,vars:13,consts:[[2,"display","flex","justify-content","center","text-align","center"],[1,"displayTable",2,"margin-top","10%","padding-bottom","30px"],[1,"displayTableCell"],[1,"authBlock"],[2,"color","#004f71"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",2,"background-color","#004f71","color","#fff","margin-bottom","15px",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect","btn",2,"background-color","#004f71","color","#fff"],[1,"col-md-5","px-0","d-none","d-md-block"],["src","https://clinido.com/public/images/img-tips.svg","alt","Login image",1,"w-75",2,"object-position","left","margin-top","10%","height","500px"],[1,"text-center"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"h3",4),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.YNc(7,A3,10,7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"button",7),o.NdJ("click",function(){return r.authService.SendVerificationMail()}),o._UZ(10,"i",8),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",9),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"translate"),o.TgZ(17,"Button",10),o._uU(18),o.ALo(19,"translate"),o.qZA(),o._uU(20," ?"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"div",11),o._UZ(22,"img",12),o.qZA(),o.qZA()),2&t&&(o.xp6(5),o.Oqu(o.lcZ(6,5,"Thank You for Registering")),o.xp6(2),o.Q6J("ngIf",r.authService.userData),o.xp6(4),o.hij(" ",o.lcZ(12,7,"Resend Verification Email")," "),o.xp6(4),o.hij("",o.lcZ(16,9,"Go back to")," "),o.xp6(3),o.hij(" ",o.lcZ(19,11,"Sign in")," "))},directives:[zi,yc],pipes:[ns],styles:[""]}),n})(),CE=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return null!=localStorage.getItem("user")||this.router.createUrlTree(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(xp),o.LFG(_s))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D3(n,e){1&n&&(o.TgZ(0,"div",19),o.TgZ(1,"h1",20),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.qZA()),2&n&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"User Profile")))}function x3(n,e){if(1&n&&(o.TgZ(0,"div",21),o.TgZ(1,"div",22),o.TgZ(2,"div",23),o.TgZ(3,"div",24),o.TgZ(4,"p"),o._uU(5,"User ID: "),o.TgZ(6,"strong"),o._uU(7),o.qZA(),o.qZA(),o.TgZ(8,"p"),o._uU(9,"Email: "),o.TgZ(10,"strong"),o._uU(11),o.qZA(),o.qZA(),o.TgZ(12,"p"),o._uU(13,"Email Verified: "),o.TgZ(14,"strong"),o._uU(15),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n){const t=e.ngIf;o.xp6(7),o.Oqu(t.uid),o.xp6(4),o.Oqu(t.email),o.xp6(4),o.Oqu(t.emailVerified)}}const S3=[{path:"",component:t3},{path:"newDoctor",component:s3,canActivate:[CE]},{path:"search",component:h3},{path:"online",component:m3},{path:"booking/:id",component:C3,canActivate:[CE]},{path:"bookingDetails",component:b3,canActivate:[CE]},{path:"doctorDetails/:id",component:_3,canActivate:[CE]},{path:"login",component:w3},{path:"signup",component:E3},{path:"forgot-password",component:T3},{path:"verify-email-address",component:I3},{path:"dashboard",component:(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(xp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:21,vars:5,consts:[[2,"margin-top","10%","margin-bottom","10%"],[1,"navbar","navbar-dark","fixed-top","bg-dark","flex-md-nowrap","p-0","shadow",2,"margin-top","50%"],[1,"navbar-brand","col-sm-3","col-md-2","mr-0"],["src","assets/logo-positronx-white.svg","alt","positronX.io Logo",1,"brand-logo"],[1,"container-fluid",2,"text-align","center"],[1,"d-flex",2,"flex-direction","row","justify-content","center"],[1,"row",2,"flex-direction","column","justify-content","center"],["role","main",1,"px-4"],[1,"inner-adjust"],["class","pt-3 pb-2 mb-3 border-bottom",4,"ngIf"],["class","row",4,"ngIf"],[1,"sidebar",2,"width","50%","margin-left","auto","margin-right","auto"],[1,"sidebar-sticky"],[1,"nav","flex-column"],[1,"nav-item"],["type","button",1,"nav-link","active","btn","btn-lg","btn-block",2,"background-color","#38b9db","border-radius","8%","color","white","margin-top","20px",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"col-md-5","px-0","d-none","d-md-block"],["src","https://clinido.com/public/images/img-1.svg","alt","Login image",1,"w-75",2,"object-fit","cover","object-position","left","margin-top","10%"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2",2,"color","#004f71"],[1,"row"],[1,"col-md-12"],[1,"media"],[1,"media-body"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"nav",1),o.TgZ(2,"a",2),o._UZ(3,"img",3),o.qZA(),o.qZA(),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o.TgZ(7,"main",7),o.TgZ(8,"div",8),o.YNc(9,D3,4,3,"div",9),o.YNc(10,x3,16,3,"div",10),o.qZA(),o.qZA(),o.TgZ(11,"nav",11),o.TgZ(12,"div",12),o.TgZ(13,"ul",13),o.TgZ(14,"li",14),o.TgZ(15,"a",15),o.NdJ("click",function(){return r.authService.SignOut()}),o._UZ(16,"i",16),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",17),o._UZ(20,"img",18),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(9),o.Q6J("ngIf",r.authService.userData),o.xp6(1),o.Q6J("ngIf",r.authService.userData),o.xp6(7),o.hij("",o.lcZ(18,3,"Log out")," "))},directives:[zi],pipes:[ns],styles:[""]}),n})(),canActivate:[CE]}];let O3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[eO.forRoot(S3,{scrollPositionRestoration:"enabled"})],eO]}),n})();function M3(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"img",2),o.NdJ("click",function(){return o.CHM(t),o.oxw().changeLang("en")}),o.qZA()}}function P3(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"img",3),o.NdJ("click",function(){return o.CHM(t),o.oxw().changeLang("ar")}),o.qZA()}}let N3=(()=>{class n{constructor(t,r){this.translate=t,this.langSer=r}changeLang(t){this.img=!this.img;const r=document.getElementsByTagName("html");"ar"==t?(r[0].setAttribute("dir","rtl"),r[0].classList.add("text-right"),this.translate.use(t),localStorage.setItem("currentLang","ar"),this.langSer.changeCssFile(t)):(this.translate.use(t),r[0].setAttribute("dir","ltr"),r[0].classList.add("text-left"),localStorage.setItem("currentLang","en"),this.langSer.changeCssFile(t))}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(va),o.Y36(vL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-language"]],decls:2,vars:2,consts:[["src","../../../assets/images/english.png","class","ms-3 mt-2","style","width: 30px;","value","en",3,"click",4,"ngIf"],["src","../../../assets/images/egypt.png","class","ms-3 mt-2","style","width: 30px;","value","ar",3,"click",4,"ngIf"],["src","../../../assets/images/english.png","value","en",1,"ms-3","mt-2",2,"width","30px",3,"click"],["src","../../../assets/images/egypt.png","value","ar",1,"ms-3","mt-2",2,"width","30px",3,"click"]],template:function(t,r){1&t&&(o.YNc(0,M3,1,0,"img",0),o.YNc(1,P3,1,0,"img",1)),2&t&&(o.Q6J("ngIf",r.img),o.xp6(1),o.Q6J("ngIf",!r.img))},directives:[zi],styles:[""]}),n})();function k3(n,e){1&n&&(o.TgZ(0,"button",14),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Login")))}function R3(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",15),o.NdJ("click",function(){return o.CHM(t),o.oxw().authService.SignOut()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&n&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Logout")))}let L3=(()=>{class n{constructor(t,r){this.translate=t,this.authService=r}ngOnInit(){this.isLocal()}isLocal(){this.local=!!localStorage.getItem("user")}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(va),o.Y36(xp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:22,vars:8,consts:[[1,"fixed-top"],["id","navbar1",1,"navbar","navbar-expand-lg","navbar-scroll","navbar-light","shadow","px-3","py-2","mb-2","bg-body","rounded"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","https://www.clinido.com/public/images/logo-menu-light.svg",1,"img-responsive","ms-3","mt-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["href","https://blog.clinido.com/",1,"nav-link","text","mx-3","fw-bold","mt-1","c"],["routerLink","newDoctor",1,"nav-link","text","mx-3","fw-bold","mt-1","c"],["type","button","id","btnLogin","class","btn ms-3 fw-bold","style","color: white ;","routerLink","/login",4,"ngIf"],["type","button","id","btnLogin","class","btn ms-3 fw-bold","style","color: white ;","routerLink","/login",3,"click",4,"ngIf"],["type","button","id","btnLogin","routerLink","/login",1,"btn","ms-3","fw-bold",2,"color","white"],["type","button","id","btnLogin","routerLink","/login",1,"btn","ms-3","fw-bold",2,"color","white",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"nav",1),o.TgZ(2,"div",2),o.TgZ(3,"a",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"button",5),o._UZ(6,"span",6),o.qZA(),o.TgZ(7,"div",7),o.TgZ(8,"ul",8),o.TgZ(9,"li",9),o.TgZ(10,"a",10),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.qZA(),o.TgZ(13,"li",9),o.TgZ(14,"a",11),o._uU(15),o.ALo(16,"translate"),o.qZA(),o.qZA(),o.YNc(17,k3,3,3,"button",12),o.YNc(18,R3,3,3,"button",13),o.TgZ(19,"li",9),o._UZ(20,"app-language"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(21,"br")),2&t&&(o.xp6(11),o.Oqu(o.lcZ(12,4,"CliniDO Blog")),o.xp6(4),o.Oqu(o.lcZ(16,6,"Are you a Doctor?")),o.xp6(2),o.Q6J("ngIf",!r.local),o.xp6(1),o.Q6J("ngIf",r.local))},directives:[hg,zi,N3,yc],pipes:[ns],styles:['body[_ngcontent-%COMP%]{background-color:#efeff4!important}#btnLogin[_ngcontent-%COMP%]{width:100px;height:50px;background-color:#004f71}@media (max-width: 991px){#btnLogin[_ngcontent-%COMP%]{width:100%}}#cont1[_ngcontent-%COMP%]{padding-top:8%}@media (max-width: 991px){#cont1[_ngcontent-%COMP%]{padding-top:20%}}@media (max-width: 400px){#cont1[_ngcontent-%COMP%]{padding-top:40%}}#row1[_ngcontent-%COMP%]{justify-content:space-evenly}#CallUs[_ngcontent-%COMP%]{background-color:#38b9db;width:120px;justify-content:center}#hh1[_ngcontent-%COMP%]{color:#004f71}#pp1[_ngcontent-%COMP%]{color:#004f71}#calluscol[_ngcontent-%COMP%]{display:flex}@media (max-width: 991px){#calluscol[_ngcontent-%COMP%]{display:block}}@media (max-width: 767px){#calluscol[_ngcontent-%COMP%]{display:flex}}#svgg[_ngcontent-%COMP%]{margin-left:40%}.feach[_ngcontent-%COMP%]{border-bottom:#38b9db 3px solid;color:#38b9db;padding-bottom:20px;width:15%!important;margin-left:70px}.doctor-name[_ngcontent-%COMP%]{border-radius:8px;padding-left:2%;background-color:#efeff4;border:none;width:80%;height:100%}#one[_ngcontent-%COMP%]{margin-top:5%;margin-left:5%;margin-bottom:40px;font-family:"FFShamelFamily-SansOneBold";font-size:40px;font-weight:bold;text-align:left;color:#fff}.why-img[_ngcontent-%COMP%]{float:right;display:flex;margin-top:2%;margin-left:5%;width:90%;margin-bottom:18px}.why-h4[_ngcontent-%COMP%]{font-family:"FFShamelFamily-SansOneBold";font-size:20px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#fff;display:inline-block;margin-top:0}.xb[_ngcontent-%COMP%]{margin-top:-10%;width:70%}@media (max-width: 991px){.xb[_ngcontent-%COMP%]{display:none}}.c[_ngcontent-%COMP%]{color:#004f71!important}.c1[_ngcontent-%COMP%]{background-color:#004f71}.search_box[_ngcontent-%COMP%]{padding-top:120px;width:100%;background:#004f71;transition:top 1.3s}.form-select[_ngcontent-%COMP%]{height:60px}.ser_input[_ngcontent-%COMP%]{width:90%;margin-left:5%}.ser_input[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{background-color:#efeff4;border-radius:6px;margin-bottom:25px;display:none}.ser_input[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#efeff4;border-radius:4px;width:100%;height:60px;border:none;outline:none}@media (max-width: 768px){.bttn-search[_ngcontent-%COMP%]{height:50px!important;margin-top:10px;margin-bottom:10px}}']}),n})(),F3=(()=>{class n{constructor(t){this.translate=t,this.arrowDir=!0,this.currentLang=localStorage.getItem("currentLang")}handleOpen(){this.arrowDir=!this.arrowDir}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(va))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:229,vars:152,consts:[[1,"footer"],[1,"container-fluid","content"],[1,"row","row1"],[1,"col-lg-3","col-md-3","col-sm-12","col-xs-12","footerCol"],["data-bs-toggle","collapse","href","#collapseExample","role","button","aria-expanded","true","aria-controls","collapseExample",1,"d-lg-none","d-block","mainHeader",3,"ngClass"],[1,"arrow",3,"click"],[1,"fa","fa-lg",3,"ngClass"],["id","collapseExample",1,"collapse","dropDownMenu","d-lg-none"],[1,"clinicList"],["href","#",1,"dropdown-item"],[1,"d-lg-block","d-none","dropdown-toggle","ms-3","mainHeader"],[1,"d-lg-block","d-none","clinicList"],["data-bs-toggle","collapse","href","#collapseExample1","role","button","aria-expanded","true","aria-controls","collapseExample1",1,"d-lg-none","d-block","mainHeader",3,"ngClass"],["id","collapseExample1",1,"collapse","dropDownMenu"],["data-bs-toggle","collapse","href","#collapseExample2","role","button","aria-expanded","true","aria-controls","collapseExample2",1,"d-lg-none","d-block","mainHeader",3,"ngClass"],["id","collapseExample2",1,"collapse","dropDownMenu"],[1,"d-lg-block","d-none","dropdown-toggle","ms-3","mainHeader","b4Last"],["data-bs-toggle","collapse","href","#collapseExample3","role","button","aria-expanded","true","aria-controls","collapseExample3",1,"d-lg-none","d-block","mainHeader",3,"ngClass"],["id","collapseExample3",1,"collapse","dropDownMenu"],["href","https://clinido.com/ar/about-us",1,"dropdown-item"],["href","https://blog.clinido.com/",1,"dropdown-item"],[1,"d-lg-block","d-none","dropdown-toggle","ms-3","mainHeader","last"],["id","footer"],[1,"row","social"],[1,"col-md-4","col-sm-12","col-xs-12","socialIcons"],[1,"row",2,"flex-direction","row","justify-content","center"],["href","#"],[1,"fab","fa-twitter"],[1,"fab","fa-facebook-f"],[1,"fab","fa-instagram"],[1,"col-md-4","col-sm-12","col-xs-12","logo"],["src","https://clinido.com/public/images/logo-menu-light.svg"],[1,"col-md-4","col-sm-12","col-xs-12","copyright"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"h1",4),o.TgZ(5,"button",5),o.NdJ("click",function(){return r.handleOpen()}),o._UZ(6,"i",6),o.qZA(),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"div",7),o.TgZ(10,"ul",8),o.TgZ(11,"li"),o.TgZ(12,"a",9),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.TgZ(15,"li"),o.TgZ(16,"a",9),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.qZA(),o.TgZ(19,"li"),o.TgZ(20,"a",9),o._uU(21),o.ALo(22,"translate"),o.qZA(),o.qZA(),o.TgZ(23,"li"),o.TgZ(24,"a",9),o._uU(25),o.ALo(26,"translate"),o.qZA(),o.qZA(),o.TgZ(27,"li"),o.TgZ(28,"a",9),o._uU(29),o.ALo(30,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"h1",10),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.TgZ(34,"ul",11),o.TgZ(35,"li"),o.TgZ(36,"a",9),o._uU(37),o.ALo(38,"translate"),o.qZA(),o.qZA(),o.TgZ(39,"li"),o.TgZ(40,"a",9),o._uU(41),o.ALo(42,"translate"),o.qZA(),o.qZA(),o.TgZ(43,"li"),o.TgZ(44,"a",9),o._uU(45),o.ALo(46,"translate"),o.qZA(),o.qZA(),o.TgZ(47,"li"),o.TgZ(48,"a",9),o._uU(49),o.ALo(50,"translate"),o.qZA(),o.qZA(),o.TgZ(51,"li"),o.TgZ(52,"a",9),o._uU(53),o.ALo(54,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(55,"div",3),o.TgZ(56,"h1",12),o.TgZ(57,"button",5),o.NdJ("click",function(){return r.handleOpen()}),o._UZ(58,"i",6),o.qZA(),o._uU(59),o.ALo(60,"translate"),o.qZA(),o.TgZ(61,"div",13),o.TgZ(62,"ul",8),o.TgZ(63,"li"),o.TgZ(64,"a",9),o._uU(65),o.ALo(66,"translate"),o.qZA(),o.qZA(),o.TgZ(67,"li"),o.TgZ(68,"a",9),o._uU(69),o.ALo(70,"translate"),o.qZA(),o.qZA(),o.TgZ(71,"li"),o.TgZ(72,"a",9),o._uU(73),o.ALo(74,"translate"),o.qZA(),o.qZA(),o.TgZ(75,"li"),o.TgZ(76,"a",9),o._uU(77),o.ALo(78,"translate"),o.qZA(),o.qZA(),o.TgZ(79,"li"),o.TgZ(80,"a",9),o._uU(81),o.ALo(82,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(83,"h1",10),o._uU(84),o.ALo(85,"translate"),o.qZA(),o.TgZ(86,"ul",11),o.TgZ(87,"li"),o.TgZ(88,"a",9),o._uU(89),o.ALo(90,"translate"),o.qZA(),o.qZA(),o.TgZ(91,"li"),o.TgZ(92,"a",9),o._uU(93),o.ALo(94,"translate"),o.qZA(),o.qZA(),o.TgZ(95,"li"),o.TgZ(96,"a",9),o._uU(97),o.ALo(98,"translate"),o.qZA(),o.qZA(),o.TgZ(99,"li"),o.TgZ(100,"a",9),o._uU(101),o.ALo(102,"translate"),o.qZA(),o.qZA(),o.TgZ(103,"li"),o.TgZ(104,"a",9),o._uU(105),o.ALo(106,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(107,"div",3),o.TgZ(108,"h1",14),o.TgZ(109,"button",5),o.NdJ("click",function(){return r.handleOpen()}),o._UZ(110,"i",6),o.qZA(),o._uU(111),o.ALo(112,"translate"),o.qZA(),o.TgZ(113,"div",15),o.TgZ(114,"ul",8),o.TgZ(115,"li"),o.TgZ(116,"a",9),o._uU(117),o.ALo(118,"translate"),o.qZA(),o.qZA(),o.TgZ(119,"li"),o.TgZ(120,"a",9),o._uU(121),o.ALo(122,"translate"),o.qZA(),o.qZA(),o.TgZ(123,"li"),o.TgZ(124,"a",9),o._uU(125),o.ALo(126,"translate"),o.qZA(),o.qZA(),o.TgZ(127,"li"),o.TgZ(128,"a",9),o._uU(129),o.ALo(130,"translate"),o.qZA(),o.qZA(),o.TgZ(131,"li"),o.TgZ(132,"a",9),o._uU(133),o.ALo(134,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(135,"h1",16),o._uU(136),o.ALo(137,"translate"),o.qZA(),o.TgZ(138,"ul",11),o.TgZ(139,"li"),o.TgZ(140,"a",9),o._uU(141),o.ALo(142,"translate"),o.qZA(),o.qZA(),o.TgZ(143,"li"),o.TgZ(144,"a",9),o._uU(145),o.ALo(146,"translate"),o.qZA(),o.qZA(),o.TgZ(147,"li"),o.TgZ(148,"a",9),o._uU(149),o.ALo(150,"translate"),o.qZA(),o.qZA(),o.TgZ(151,"li"),o.TgZ(152,"a",9),o._uU(153),o.ALo(154,"translate"),o.qZA(),o.qZA(),o.TgZ(155,"li"),o.TgZ(156,"a",9),o._uU(157),o.ALo(158,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(159,"div",3),o.TgZ(160,"h1",17),o.TgZ(161,"button",5),o.NdJ("click",function(){return r.handleOpen()}),o._UZ(162,"i",6),o.qZA(),o._uU(163),o.ALo(164,"translate"),o.qZA(),o.TgZ(165,"div",18),o.TgZ(166,"ul",8),o.TgZ(167,"li"),o.TgZ(168,"a",19),o._uU(169),o.ALo(170,"translate"),o.qZA(),o.qZA(),o.TgZ(171,"li"),o.TgZ(172,"a",20),o._uU(173),o.ALo(174,"translate"),o.qZA(),o.qZA(),o.TgZ(175,"li"),o.TgZ(176,"a",9),o._uU(177),o.ALo(178,"translate"),o.qZA(),o.qZA(),o.TgZ(179,"li"),o.TgZ(180,"a",9),o._uU(181),o.ALo(182,"translate"),o.qZA(),o.qZA(),o.TgZ(183,"li"),o.TgZ(184,"a",9),o._uU(185),o.ALo(186,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(187,"h1",21),o._uU(188),o.ALo(189,"translate"),o.qZA(),o.TgZ(190,"ul",11),o.TgZ(191,"li"),o.TgZ(192,"a",19),o._uU(193),o.ALo(194,"translate"),o.qZA(),o.qZA(),o.TgZ(195,"li"),o.TgZ(196,"a",20),o._uU(197),o.ALo(198,"translate"),o.qZA(),o.qZA(),o.TgZ(199,"li"),o.TgZ(200,"a",9),o._uU(201),o.ALo(202,"translate"),o.qZA(),o.qZA(),o.TgZ(203,"li"),o.TgZ(204,"a",9),o._uU(205),o.ALo(206,"translate"),o.qZA(),o.qZA(),o.TgZ(207,"li"),o.TgZ(208,"a",9),o._uU(209),o.ALo(210,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(211,"section",22),o._UZ(212,"hr"),o.TgZ(213,"div",1),o.TgZ(214,"div",23),o.TgZ(215,"div",24),o.TgZ(216,"div",25),o.TgZ(217,"a",26),o._UZ(218,"i",27),o.qZA(),o.TgZ(219,"a",26),o._UZ(220,"i",28),o.qZA(),o.TgZ(221,"a",26),o._UZ(222,"i",29),o.qZA(),o.qZA(),o.qZA(),o.TgZ(223,"div",30),o.TgZ(224,"a",26),o._UZ(225,"img",31),o.qZA(),o.qZA(),o.TgZ(226,"div",32),o.TgZ(227,"p"),o._uU(228,"Clinido &copy Coptyright 2021"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(4),o.Q6J("ngClass",r.arrowDir?"mainHeader":"mainHeaderBlue"),o.xp6(2),o.Q6J("ngClass",r.arrowDir?"fa-chevron-down":"fa-chevron-up"),o.xp6(1),o.hij(" ",o.lcZ(8,56,"specialties")," "),o.xp6(6),o.Oqu(o.lcZ(14,58,"ophthalmology")),o.xp6(4),o.Oqu(o.lcZ(18,60,"dermatology")),o.xp6(4),o.Oqu(o.lcZ(22,62,"dietitian and nutrition")),o.xp6(4),o.Oqu(o.lcZ(26,64,"ear, nose and throat")),o.xp6(4),o.Oqu(o.lcZ(30,66,"more specialities")),o.xp6(3),o.Oqu(o.lcZ(33,68,"specialties")),o.xp6(5),o.Oqu(o.lcZ(38,70,"ophthalmology")),o.xp6(4),o.Oqu(o.lcZ(42,72,"dermatology")),o.xp6(4),o.Oqu(o.lcZ(46,74,"dietitian and nutrition")),o.xp6(4),o.Oqu(o.lcZ(50,76,"ear, nose and throat")),o.xp6(4),o.Oqu(o.lcZ(54,78,"more specialities")),o.xp6(3),o.Q6J("ngClass",r.arrowDir?"mainHeader":"mainHeaderBlue"),o.xp6(2),o.Q6J("ngClass",r.arrowDir?"fa-chevron-down":"fa-chevron-up"),o.xp6(1),o.hij(" ",o.lcZ(60,80,"cities")," "),o.xp6(6),o.Oqu(o.lcZ(66,82,"cairo")),o.xp6(4),o.Oqu(o.lcZ(70,84,"giza")),o.xp6(4),o.Oqu(o.lcZ(74,86,"assuit")),o.xp6(4),o.Oqu(o.lcZ(78,88,"qena")),o.xp6(4),o.Oqu(o.lcZ(82,90,"more cities")),o.xp6(3),o.Oqu(o.lcZ(85,92,"cities")),o.xp6(5),o.Oqu(o.lcZ(90,94,"cairo")),o.xp6(4),o.Oqu(o.lcZ(94,96,"giza")),o.xp6(4),o.Oqu(o.lcZ(98,98,"assuit")),o.xp6(4),o.Oqu(o.lcZ(102,100,"qena")),o.xp6(4),o.Oqu(o.lcZ(106,102,"more cities")),o.xp6(3),o.Q6J("ngClass",r.arrowDir?"mainHeader":"mainHeaderBlue"),o.xp6(2),o.Q6J("ngClass",r.arrowDir?"fa-chevron-down":"fa-chevron-up"),o.xp6(1),o.hij(" ",o.lcZ(112,104,"polyclinics")," "),o.xp6(6),o.Oqu(o.lcZ(118,106,"polyclinics venus clinics")),o.xp6(4),o.Oqu(o.lcZ(122,108,"jumeirah clinics")),o.xp6(4),o.Oqu(o.lcZ(126,110,"polyClinic alsafwa medical")),o.xp6(4),o.Oqu(o.lcZ(130,112,"kaissar clinics")),o.xp6(4),o.Oqu(o.lcZ(134,114,"more polyclinics")),o.xp6(3),o.Oqu(o.lcZ(137,116,"polyclinics")),o.xp6(5),o.Oqu(o.lcZ(142,118,"polyclinics venus clinics")),o.xp6(4),o.Oqu(o.lcZ(146,120,"jumeirah clinics")),o.xp6(4),o.Oqu(o.lcZ(150,122,"polyClinic alsafwa medical")),o.xp6(4),o.Oqu(o.lcZ(154,124,"kaissar clinics")),o.xp6(4),o.Oqu(o.lcZ(158,126,"more polyclinics")),o.xp6(3),o.Q6J("ngClass",r.arrowDir?"mainHeader":"mainHeaderBlue"),o.xp6(2),o.Q6J("ngClass",r.arrowDir?"fa-chevron-down":"fa-chevron-up"),o.xp6(1),o.hij(" ",o.lcZ(164,128,"cliniDo")," "),o.xp6(6),o.Oqu(o.lcZ(170,130,"about us")),o.xp6(4),o.Oqu(o.lcZ(174,132,"clinido blog")),o.xp6(4),o.Oqu(o.lcZ(178,134,"symptoms checker")),o.xp6(4),o.Oqu(o.lcZ(182,136,"book home visit")),o.xp6(4),o.Oqu(o.lcZ(186,138,"insurance")),o.xp6(3),o.Oqu(o.lcZ(189,140,"cliniDo")),o.xp6(5),o.Oqu(o.lcZ(194,142,"about us")),o.xp6(4),o.Oqu(o.lcZ(198,144,"clinido blog")),o.xp6(4),o.Oqu(o.lcZ(202,146,"symptoms checker")),o.xp6(4),o.Oqu(o.lcZ(206,148,"book home visit")),o.xp6(4),o.Oqu(o.lcZ(210,150,"insurance")))},directives:[Gi],pipes:[ns],styles:[".footer[_ngcontent-%COMP%]{padding:35px 0 10px;font-size:15px;background-color:#fff}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:50px;padding-left:60px;margin-right:auto;margin-left:auto}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .footerCol[_ngcontent-%COMP%]{position:relative;min-height:1px;padding-right:15px;padding-left:15px;width:100%}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .mainHeader[_ngcontent-%COMP%]{color:#000;height:28px;font-size:1.7rem;font-weight:bold;font-stretch:normal;font-style:normal;line-height:1.4;letter-spacing:normal;text-align:left;outline:none;margin-bottom:20px;text-transform:capitalize}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .mainHeader[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{outline:none;background-color:#fff;border:none}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .mainHeader[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .mainHeaderBlue[_ngcontent-%COMP%]{color:#38b9db;height:28px;font-size:1.7rem;font-weight:bold;font-stretch:normal;font-style:normal;line-height:1.4;letter-spacing:normal;text-align:left;outline:none;margin-bottom:20px;text-transform:capitalize}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .clinicList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;list-style:none;font-size:16px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:2.36;letter-spacing:normal;text-align:left;color:#0e0e0e;margin-left:-5%}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .clinicList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:160px;font-size:14px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:2.36;letter-spacing:normal;text-align:left;color:#0e0e0e;text-transform:capitalize}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .clinicList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;margin-left:.255em;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}#footer[_ngcontent-%COMP%]{background-color:#fff}#footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:1px solid #979797;width:99%;margin:0}#footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}#footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px;text-align:center;align-items:center}#footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .socialIcons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#004f6c;font-size:30px;padding:15px;width:-moz-fit-content;width:fit-content}#footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;padding:25px 0 40px 15px}#footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}@media (max-width: 922px){#secOne[_ngcontent-%COMP%]{margin-bottom:100px}}@media (max-width: 576px){#secOne[_ngcontent-%COMP%]{margin-bottom:200px}}@media (min-width: 992px){.footerCol[_ngcontent-%COMP%]{width:25%!important}.footerCol[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none!important}.clinicList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:-10%!important}.social[_ngcontent-%COMP%]{justify-content:space-between}}"]}),n})(),V3=(()=>{class n{constructor(){this.title="CliniDo"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(o._UZ(0,"app-header"),o._UZ(1,"router-outlet"),o._UZ(2,"app-footer"))},directives:[L3,R_,F3],styles:["#cont1[_ngcontent-%COMP%]{padding-top:8%}@media (max-width: 991px){#cont1[_ngcontent-%COMP%]{padding-top:20%}}@media (max-width: 400px){#cont1[_ngcontent-%COMP%]{padding-top:40%}}#row1[_ngcontent-%COMP%]{justify-content:space-evenly}"]}),n})();function bE(n){return(bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function q3(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ur(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){q3(n,a,t[a])})}return n}function WP(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,a=!1,c=void 0;try{for(var p,h=n[Symbol.iterator]();!(r=(p=h.next()).done)&&(t.push(p.value),!e||t.length!==e);r=!0);}catch(v){a=!0,c=v}finally{try{!r&&null!=h.return&&h.return()}finally{if(a)throw c}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var YP={},EL={};try{"undefined"!=typeof window&&(YP=window),"undefined"!=typeof document&&(EL=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var IL=(YP.navigator||{}).userAgent,DL=void 0===IL?"":IL,Mv=YP,Is=EL,Ah=!!Is.documentElement&&!!Is.head&&"function"==typeof Is.addEventListener&&"function"==typeof Is.createElement,Ih=(~DL.indexOf("MSIE")||DL.indexOf("Trident/"),"___FONT_AWESOME___"),ML="svg-inline--fa",RL=[1,2,3,4,5,6,7,8,9,10],iZ=RL.concat([11,12,13,14,15,16,17,18,19,20]),jm={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},LL=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",jm.GROUP,jm.SWAP_OPACITY,jm.PRIMARY,jm.SECONDARY].concat(RL.map(function(n){return"".concat(n,"x")})).concat(iZ.map(function(n){return"w-".concat(n)})),Mv.FontAwesomeConfig||{});Is&&"function"==typeof Is.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=WP(n,2),r=e[1],a=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var e=Is.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=a&&(LL[r]=a)});var XP=ur({},{familyPrefix:"fa",replacementClass:ML,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},LL);XP.autoReplaceSvg||(XP.observeMutations=!1);var In=ur({},XP);Mv.FontAwesomeConfig=In;var Dh=Mv||{};Dh[Ih]||(Dh[Ih]={}),Dh[Ih].styles||(Dh[Ih].styles={}),Dh[Ih].hooks||(Dh[Ih].hooks={}),Dh[Ih].shims||(Dh[Ih].shims=[]);var mu=Dh[Ih],FL=[];Ah&&((Is.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Is.readyState)||Is.addEventListener("DOMContentLoaded",function n(){Is.removeEventListener("DOMContentLoaded",n),FL.map(function(e){return e()})}));var tN,eN="pending",VL="settled",XD="fulfilled",ex="rejected",fZ=function(){},UL="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,pZ="undefined"==typeof setImmediate?setTimeout:setImmediate,wE=[];function gZ(){for(var n=0;n<wE.length;n++)wE[n][0](wE[n][1]);wE=[],tN=!1}function tx(n,e){wE.push([n,e]),tN||(tN=!0,pZ(gZ,0))}function ZL(n){var e=n.owner,t=e._state,r=e._data,a=n[t],c=n.then;if("function"==typeof a){t=XD;try{r=a(r)}catch(h){EE(c,h)}}qL(c,r)||(t===XD&&nN(c,r),t===ex&&EE(c,r))}function qL(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===bE(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(a){t||(t=!0,e===a?jL(n,a):nN(n,a))},function(a){t||(t=!0,EE(n,a))}),!0}}catch(a){return t||EE(n,a),!0}return!1}function nN(n,e){(n===e||!qL(n,e))&&jL(n,e)}function jL(n,e){n._state===eN&&(n._state=VL,n._data=e,tx(_Z,n))}function EE(n,e){n._state===eN&&(n._state=VL,n._data=e,tx(yZ,n))}function BL(n){n._then=n._then.forEach(ZL)}function _Z(n){n._state=XD,BL(n)}function yZ(n){n._state=ex,BL(n),!n._handled&&UL&&global.process.emit("unhandledRejection",n._data,n)}function vZ(n){global.process.emit("rejectionHandled",n)}function Pl(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Pl))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(n,e){function r(a){EE(e,a)}try{n(function(a){nN(e,a)},r)}catch(a){r(a)}}(n,this)}Pl.prototype={constructor:Pl,_state:eN,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(fZ),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===ex&&UL&&tx(vZ,this)),this._state===XD||this._state===ex?tx(ZL,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Pl.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Pl(function(e,t){var r=[],a=0;function c(v){return a++,function(A){r[v]=A,--a||e(r)}}for(var p,h=0;h<n.length;h++)(p=n[h])&&"function"==typeof p.then?p.then(c(h),t):r[h]=p;a||e(r)})},Pl.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Pl(function(e,t){for(var a,r=0;r<n.length;r++)(a=n[r])&&"function"==typeof a.then?a.then(e,t):e(a)})},Pl.resolve=function(n){return n&&"object"===bE(n)&&n.constructor===Pl?n:new Pl(function(e){e(n)})},Pl.reject=function(n){return new Pl(function(e,t){t(n)})};var cN=function(e,t,r,a){var v,A,M,c=Object.keys(e),h=c.length,p=void 0!==a?function(e,t){return function(r,a,c,h){return e.call(t,r,a,c,h)}}(t,a):t;for(void 0===r?(v=1,M=e[c[0]]):(v=0,M=r);v<h;v++)M=p(M,e[A=c[v]],A,e);return M};function JL(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,a=void 0!==r&&r,c=Object.keys(e).reduce(function(h,p){var v=e[p];return v.icon?h[v.iconName]=v.icon:h[p]=v,h},{});"function"!=typeof mu.hooks.addPack||a?mu.styles[n]=ur({},mu.styles[n]||{},c):mu.hooks.addPack(n,c),"fas"===n&&JL("fa",e)}var XL=mu.styles,NZ=mu.shims,rF=function(){var e=function(a){return cN(XL,function(c,h,p){return c[p]=cN(h,a,{}),c},{})};e(function(r,a,c){return a[3]&&(r[a[3]]=c),r}),e(function(r,a,c){var h=a[2];return r[c]=c,h.forEach(function(p){r[p]=c}),r});var t="far"in XL;cN(NZ,function(r,a){var h=a[1];return"far"===h&&!t&&(h="fas"),r[a[0]]={prefix:h,iconName:a[2]},r},{})};function IE(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}rF(),(IE.prototype=Object.create(Error.prototype)).constructor=IE;var sx={fill:"currentColor"},dF={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},fN=(ur({},sx,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),ur({},dF,{attributeName:"opacity"}));ur({},sx,{cx:"256",cy:"364",r:"28"}),ur({},dF,{attributeName:"r",values:"28;14;28;28;14;28;"}),ur({},fN,{values:"1;0;1;1;0;1;"}),ur({},sx,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),ur({},fN,{values:"1;0;0;0;0;1;"}),ur({},sx,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),ur({},fN,{values:"0;0;1;1;0;0;"});new(function(){function n(){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,e,t){e&&bL(n.prototype,e)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];var h=a.reduce(this._pullDefinitions,{});Object.keys(h).forEach(function(p){t.definitions[p]=ur({},t.definitions[p]||{},h[p]),JL(p,h[p]),rF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(c){var h=a[c],p=h.prefix,v=h.iconName,A=h.icon;t[p]||(t[p]={}),t[p][v]=A}),t}}]),n}());let C6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const _F_firebaseConfig={apiKey:"AIzaSyDxtLeqwR3AMlQYM6zk7Uz4e8_Dk0MZWoI",authDomain:"clinido-ce15d.firebaseapp.com",databaseURL:"https://clinido-ce15d-default-rtdb.firebaseio.com",projectId:"clinido-ce15d",storageBucket:"clinido-ce15d.appspot.com",messagingSenderId:"584753027934",appId:"1:584753027934:web:719e525a3580d8fbad8dcf",measurementId:"G-JNX1CVNNNJ"};var b6=z(8819);class E6{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new T6(e,this.observables,this.project))}}class T6 extends rS{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const a=t.length;this.values=new Array(a);for(let c=0;c<a;c++)this.toRespond.push(c);for(let c=0;c<a;c++)this.add(m_(this,t[c],void 0,c))}notifyNext(e,t,r){this.values[r]=t;const a=this.toRespond;if(a.length>0){const c=a.indexOf(r);-1!==c&&a.splice(c,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class I6{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new D6(e,this.predicate))}}class D6 extends Xi.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}const yF="@firebase/database";let vN="";function CF(n){vN=n}class x6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,$.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,$.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class S6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,$.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const bF=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new x6(e)}}catch(e){}return new S6},Bm=bF("localStorage"),CN=bF("sessionStorage"),Rv=new Qa.Yd("@firebase/database"),wF=function(){let n=1;return function(){return n++}}(),EF=function(n){const e=(0,$.dS)(n),t=new $.gQ;t.update(e);const r=t.digest();return $.US.encodeByteArray(r)},xE=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=xE.apply(null,r):e+="object"==typeof r?(0,$.Pz)(r):r,e+=" "}return e};let Hm=null,TF=!0;const AF=function(n,e){(0,$.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Rv.logLevel=Qa.in.VERBOSE,Hm=Rv.log.bind(Rv),e&&CN.set("logging_enabled",!0)):"function"==typeof n?Hm=n:(Hm=null,CN.remove("logging_enabled"))},po=function(...n){if(!0===TF&&(TF=!1,null===Hm&&!0===CN.get("logging_enabled")&&AF(!0)),Hm){const e=xE.apply(null,n);Hm(e)}},SE=function(n){return function(...e){po(n,...e)}},bN=function(...n){const e="FIREBASE INTERNAL ERROR: "+xE(...n);Rv.error(e)},_d=function(...n){const e=`FIREBASE FATAL ERROR: ${xE(...n)}`;throw Rv.error(e),new Error(e)},Ma=function(...n){const e="FIREBASE WARNING: "+xE(...n);Rv.warn(e)},lx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Sh="[MIN_NAME]",yd="[MAX_NAME]",$m=function(n,e){if(n===e)return 0;if(n===Sh||e===yd)return-1;if(e===Sh||n===yd)return 1;{const t=cx(n),r=cx(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},P6=function(n,e){return n===e?0:n<e?-1:1},OE=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,$.Pz)(e))},wN=function(n){if("object"!=typeof n||null===n)return(0,$.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,$.Pz)(e[r]),t+=":",t+=wN(n[e[r]]);return t+="}",t},IF=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let a=0;a<t;a+=e)r.push(n.substring(a,a+e>t?t:a+e));return r};function go(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const DF=function(n){(0,$.hu)(!lx(n),"Invalid JSON number");const r=1023;let a,c,h,p,v;0===n?(c=0,h=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=p+r,h=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(c=0,h=Math.round(n/Math.pow(2,-1074))));const A=[];for(v=52;v;v-=1)A.push(h%2?1:0),h=Math.floor(h/2);for(v=11;v;v-=1)A.push(c%2?1:0),c=Math.floor(c/2);A.push(a?1:0),A.reverse();const M=A.join("");let N="";for(v=0;v<64;v+=8){let B=parseInt(M.substr(v,8),2).toString(16);1===B.length&&(B="0"+B),N+=B}return N.toLowerCase()},L6=new RegExp("^-?(0*)\\d{1,10}$"),xF=-2147483648,EN=2147483647,cx=function(n){if(L6.test(n)){const e=Number(n);if(e>=xF&&e<=EN)return e}return null},Lv=function(n){try{n()}catch(e){setTimeout(()=>{throw Ma("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ME=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class V6{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ma(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class U6{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(po("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ma(e)}}let PE=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const NF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RF="websocket",LF="long_polling";class AN{constructor(e,t,r,a,c=!1,h="",p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function FF(n,e,t){let r;if((0,$.hu)("string"==typeof e,"typeof type must == string"),(0,$.hu)("object"==typeof t,"typeof params must == object"),e===RF)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==LF)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const a=[];return go(t,(c,h)=>{a.push(c+"="+h)}),r+a.join("&")}class j6{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,$.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,$.p$)(this.counters_)}}const IN={},DN={};function xN(n){const e=n.toString();return IN[e]||(IN[e]=new j6),IN[e]}class H6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&Lv(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fv{constructor(e,t,r,a,c,h,p){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=SE(e),this.stats_=xN(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),FF(t,LF,v))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new H6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,$.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new SN((...c)=>{const[h,p,v,A,M]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=p,this.password=v;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&NF.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fv.forceAllow_=!0}static forceDisallow(){Fv.forceDisallow_=!0}static isAvailable(){return!((0,$.Yr)()||!Fv.forceAllow_&&(Fv.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,$.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,$.h$)(t),a=IF(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,$.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,$.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class SN{constructor(e,t,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,$.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=wF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=SN.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){po("frame writing exception"),p.stack&&po(p.stack),po(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||po("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+a+"="+h.seg+"&ts"+a+"="+h.ts+"&d"+a+"="+h.d,a++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(a),r()})}addTag(e,t){(0,$.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{po("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let NE=null;"undefined"!=typeof MozWebSocket?NE=MozWebSocket:"undefined"!=typeof WebSocket&&(NE=WebSocket);let kE=(()=>{class n{constructor(t,r,a,c,h,p,v){this.connId=t,this.applicationId=a,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=SE(this.connId),this.stats_=xN(r),this.connURL=n.connectionURL_(r,p,v,c),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,a,c){const h={v:"5"};return!(0,$.Yr)()&&"undefined"!=typeof location&&location.hostname&&NF.test(location.hostname)&&(h.r="f"),r&&(h.s=r),a&&(h.ls=a),c&&(h.ac=c),FF(t,RF,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bm.set("previous_websocket_failure",!0);try{if((0,$.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${vN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,p=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;p&&(c.proxy={origin:p}),this.mySock=new NE(this.connURL,[],c)}else this.mySock=new NE(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&null!==NE&&!n.forceDisallow_}static previouslyFailed(){return Bm.isInMemoryStorage||!0===Bm.get("previous_websocket_failure")}markConnectionHealthy(){Bm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,$.cI)(r);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,$.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const r=(0,$.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=IF(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class ON{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fv,kE]}initTransports_(e){const t=kE&&kE.isAvailable();let r=t&&!kE.previouslyFailed();if(e.webSocketOnly&&(t||Ma("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kE];else{const a=this.transports_=[];for(const c of ON.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class YF{constructor(e,t,r,a,c,h,p,v,A,M){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=v,this.onKill_=A,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=SE("c:"+this.id+":"),this.transportManager_=new ON(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=ME(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=OE("t",e),r=OE("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=OE("t",e),r=OE("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=OE("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?bN("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ma("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),ME(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ME(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class QF{put(e,t,r,a){}merge(e,t,r,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class JF{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,$.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const a=this.getInitialEvent(e);a&&t.apply(r,a)}off(e,t,r){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let c=0;c<a.length;c++)if(a[c].callback===t&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(e){(0,$.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class dx extends JF{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,$.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new dx}getInitialEvent(e){return(0,$.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Or{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function wr(){return new Or("")}function jn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Op(n){return n.pieces_.length-n.pieceNum_}function Kr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Or(n.pieces_,e)}function PN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function RE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function t2(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Or(e,0)}function Ti(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Or)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&t.push(r[a])}return new Or(t,0)}function Bn(n){return n.pieceNum_>=n.pieces_.length}function Pa(n,e){const t=jn(n),r=jn(e);if(null===t)return e;if(t===r)return Pa(Kr(n),Kr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function h4(n,e){const t=RE(n,0),r=RE(e,0);for(let a=0;a<t.length&&a<r.length;a++){const c=$m(t[a],r[a]);if(0!==c)return c}return t.length===r.length?0:t.length<r.length?-1:1}function NN(n,e){if(Op(n)!==Op(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Sc(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Op(n)>Op(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class f4{constructor(e,t){this.errorPrefix_=t,this.parts_=RE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,$.ug)(this.parts_[r]);n2(this)}}function n2(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gm(n))}function Gm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class kN extends JF{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new kN}getInitialEvent(e){return(0,$.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const LE=1e3;let fx,zm=(()=>{class n extends QF{constructor(t,r,a,c,h,p,v,A){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=p,this.appCheckTokenProvider_=v,this.authOverride_=A,this.id=n.nextPersistentConnectionId_++,this.log_=SE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=LE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,$.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&dx.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,a){const c=++this.requestNumber_,h={r:c,a:t,b:r};this.log_((0,$.Pz)(h)),(0,$.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[c]=a)}get(t){this.initConnection_();const r=new $.BH,a={p:t._path.toString(),q:t._queryObject},c={action:"g",request:a,onComplete:p=>{const v=p.d;"ok"===p.s?(this.onDataUpdate_(a.p,v,!1,null),r.resolve(v)):r.reject(v)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const p=this.outstandingGets_[h];void 0===p||c!==p||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),r.promise}listen(t,r,a,c){this.initConnection_();const h=t._queryIdentifier,p=t._path.toString();this.log_("Listen called for "+p+" "+h),this.listens.has(p)||this.listens.set(p,new Map),(0,$.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,$.hu)(!this.listens.get(p).has(h),"listen() called twice for same path/queryId.");const v={onComplete:c,hashFn:r,query:t,tag:a};this.listens.get(p).set(h,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(t){const r=t.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const h={p:a};t.tag&&(h.q=r._queryObject,h.t=t.tag),h.h=t.hashFn(),this.sendRequest("q",h,v=>{const A=v.d,M=v.s;n.warnOnListenWarnings_(A,r),(this.listens.get(a)&&this.listens.get(a).get(c))===t&&(this.log_("listen response",v),"ok"!==M&&this.removeListen_(a,c),t.onComplete&&t.onComplete(M,A))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,$.r3)(t,"w")){const a=(0,$.DV)(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();Ma(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,$.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,$.w9)(t)?"auth":"gauth",a={cred:t};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const h=c.s,p=c.d||"error";this.authToken_===t&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,a=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(t,r){const a=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,$.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,t._queryObject,r)}sendUnlisten_(t,r,a,c){this.log_("Unlisten on "+t+" for "+r);const h={p:t};c&&(h.q=a,h.t=c),this.sendRequest("n",h)}onDisconnectPut(t,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:a})}onDisconnectMerge(t,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:a})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,a,c){const h={p:r,d:a};this.log_("onDisconnect "+t,h),this.sendRequest(t,h,p=>{c&&setTimeout(()=>{c(p.s,p.d)},Math.floor(0))})}put(t,r,a,c){this.putInternal("p",t,r,a,c)}merge(t,r,a,c){this.putInternal("m",t,r,a,c)}putInternal(t,r,a,c,h){this.initConnection_();const p={p:r,d:a};void 0!==h&&(p.h=h),this.outstandingPuts_.push({action:t,request:p,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,a,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,$.Pz)(t));const r=t.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):bN("Unrecognized action received from server: "+(0,$.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,$.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=LE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=LE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=LE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,$e.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),a=t.onReady_.bind(t),c=t.onRealtimeDisconnect_.bind(t),h=t.id+":"+n.nextConnectionId_++,p=t.lastSessionId;let v=!1,A=null;const M=function(){A?A.close():(v=!0,c())};t.realtime_={close:M,sendRequest:function(Y){(0,$.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(Y)}};const B=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[Y,de]=yield Promise.all([t.authTokenProvider_.getToken(B),t.appCheckTokenProvider_.getToken(B)]);v?po("getToken() completed but was canceled"):(po("getToken() completed. Creating connection."),t.authToken_=Y&&Y.accessToken,t.appCheckToken_=de&&de.token,A=new YF(h,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,a,c,je=>{Ma(je+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},p))}catch(Y){t.log_("Failed to get token: "+Y),v||(t.repoInfo_.nodeAdmin&&Ma(Y),M())}}})()}interrupt(t){po("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){po("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,$.xb)(this.interruptReasons_)&&(this.reconnectDelay_=LE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let a;a=r?r.map(h=>wN(h)).join("$"):"default";const c=this.removeListen_(t,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,r){const a=new Or(t).toString();let c;if(this.listens.has(a)){const h=this.listens.get(a);c=h.get(r),h.delete(r),0===h.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(t,r){po("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){po("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,$.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+vN.replace(/\./g,"-")]=1,(0,$.uI)()?t["framework.cordova"]=1:(0,$.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=dx.getInstance().currentlyOnline();return(0,$.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Jn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Jn(e,t)}}class hx{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Jn(Sh,e),a=new Jn(Sh,t);return 0!==this.compare(r,a)}minPost(){return Jn.MIN}}class o2 extends hx{static get __EMPTY_NODE(){return fx}static set __EMPTY_NODE(e){fx=e}compare(e,t){return $m(e.name,t.name)}isDefinedOn(e){throw(0,$.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Jn.MIN}maxPost(){return new Jn(yd,fx)}makePost(e,t){return(0,$.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Jn(e,fx)}toString(){return".key"}}const vd=new o2;class px{constructor(e,t,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=t?r(e.key,t):1,a&&(h*=-1),h<0)e=this.isReverse_?e.left:e.right;else{if(0===h){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let LN,yu=(()=>{class n{constructor(t,r,a,c,h){this.key=t,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=c?c:rl.EMPTY_NODE,this.right=null!=h?h:rl.EMPTY_NODE}copy(t,r,a,c,h){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let c=this;const h=a(t,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(t,r,a),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(t,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return rl.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let a,c;if(a=this,r(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(t,a.key)){if(a.right.isEmpty())return rl.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class rl{constructor(e,t=rl.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new rl(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,yu.BLACK,null,null))}remove(e){return new rl(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yu.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,a=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new px(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new px(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new px(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new px(this.root_,null,this.comparator_,!0,e)}}function w4(n,e){return $m(n.name,e.name)}function RN(n,e){return $m(n,e)}rl.EMPTY_NODE=new class{copy(e,t,r,a,c){return this}insert(e,t,r){return new yu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const a2=function(n){return"number"==typeof n?"number:"+DF(n):"string:"+n},l2=function(n){if(n.isLeafNode()){const e=n.val();(0,$.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,$.r3)(e,".sv"),"Priority must be a string or number.")}else(0,$.hu)(n===LN||n.isEmpty(),"priority of unexpected type.");(0,$.hu)(n===LN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let c2,u2,d2,Vv=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,$.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),l2(this.priorityNode_)}static set __childrenNodeConstructor(t){c2=t}static get __childrenNodeConstructor(){return c2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Bn(t)?this:".priority"===jn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const a=jn(t);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,$.hu)(".priority"!==a||1===Op(t),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+a2(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?DF(this.value_):this.value_,this.lazyHash_=EF(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,$.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(a);return(0,$.hu)(c>=0,"Unknown leaf type: "+r),(0,$.hu)(h>=0,"Unknown leaf type: "+a),c===h?"object"===a?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ii=new class extends hx{compare(e,t){const r=e.node.getPriority(),a=t.node.getPriority(),c=r.compareTo(a);return 0===c?$m(e.name,t.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Jn.MIN}maxPost(){return new Jn(yd,new Vv("[PRIORITY-POST]",d2))}makePost(e,t){const r=u2(e);return new Jn(t,new Vv("[PRIORITY-POST]",r))}toString(){return".priority"}},D4=Math.log(2);class x4{constructor(e){this.count=parseInt(Math.log(e+1)/D4,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gx=function(n,e,t,r){n.sort(e);const a=function(v,A){const M=A-v;let N,B;if(0===M)return null;if(1===M)return N=n[v],B=t?t(N):N,new yu(B,N.node,yu.BLACK,null,null);{const Y=parseInt(M/2,10)+v,de=a(v,Y),je=a(Y+1,A);return N=n[Y],B=t?t(N):N,new yu(B,N.node,yu.BLACK,de,je)}},p=function(v){let A=null,M=null,N=n.length;const B=function(de,je){const nt=N-de,vt=N;N-=de;const Yt=a(nt+1,vt),xn=n[nt],ln=t?t(xn):xn;Y(new yu(ln,xn.node,je,null,Yt))},Y=function(de){A?(A.left=de,A=de):(M=de,A=de)};for(let de=0;de<v.count;++de){const je=v.nextBitIsOne(),nt=Math.pow(2,v.count-(de+1));je?B(nt,yu.BLACK):(B(nt,yu.BLACK),B(nt,yu.RED))}return M}(new x4(n.length));return new rl(r||e,p)};let FN;const Uv={};class Oh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,$.hu)(Uv&&ii,"ChildrenNode.ts has not been loaded"),FN=FN||new Oh({".priority":Uv},{".priority":ii}),FN}get(e){const t=(0,$.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof rl?t:null}hasIndex(e){return(0,$.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,$.hu)(e!==vd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=t.getIterator(Jn.Wrap);let p,h=c.getNext();for(;h;)a=a||e.isDefinedOn(h.node),r.push(h),h=c.getNext();p=a?gx(r,e.getCompare()):Uv;const v=e.toString(),A=Object.assign({},this.indexSet_);A[v]=e;const M=Object.assign({},this.indexes_);return M[v]=p,new Oh(M,A)}addToIndexes(e,t){const r=(0,$.UI)(this.indexes_,(a,c)=>{const h=(0,$.DV)(this.indexSet_,c);if((0,$.hu)(h,"Missing index implementation for "+c),a===Uv){if(h.isDefinedOn(e.node)){const p=[],v=t.getIterator(Jn.Wrap);let A=v.getNext();for(;A;)A.name!==e.name&&p.push(A),A=v.getNext();return p.push(e),gx(p,h.getCompare())}return Uv}{const p=t.get(e.name);let v=a;return p&&(v=v.remove(new Jn(e.name,p))),v.insert(e,e.node)}});return new Oh(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,$.UI)(this.indexes_,a=>{if(a===Uv)return a;{const c=t.get(e.name);return c?a.remove(new Jn(e.name,c)):a}});return new Oh(r,this.indexSet_)}}let FE,Dn=(()=>{class n{constructor(t,r,a){this.children_=t,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&l2(this.priorityNode_),this.children_.isEmpty()&&(0,$.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return FE||(FE=new n(new rl(RN),null,Oh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||FE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?FE:r}}getChild(t){const r=jn(t);return null===r?this:this.getImmediateChild(r).getChild(Kr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,$.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const a=new Jn(t,r);let c,h;r.isEmpty()?(c=this.children_.remove(t),h=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(t,r),h=this.indexMap_.addToIndexes(a,this.children_));const p=c.isEmpty()?FE:this.priorityNode_;return new n(c,p,h)}}updateChild(t,r){const a=jn(t);if(null===a)return r;{(0,$.hu)(".priority"!==jn(t)||1===Op(t),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Kr(t),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let a=0,c=0,h=!0;if(this.forEachChild(ii,(p,v)=>{r[p]=v.val(t),a++,h&&n.INTEGER_REGEXP_.test(p)?c=Math.max(c,Number(p)):h=!1}),!t&&h&&c<2*a){const p=[];for(const v in r)p[v]=r[v];return p}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+a2(this.getPriority().val())+":"),this.forEachChild(ii,(r,a)=>{const c=a.hash();""!==c&&(t+=":"+r+":"+c)}),this.lazyHash_=""===t?"":EF(t)}return this.lazyHash_}getPredecessorChildName(t,r,a){const c=this.resolveIndex_(a);if(c){const h=c.getPredecessorKey(new Jn(t,r));return h?h.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Jn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Jn(r,this.children_.get(r)):null}forEachChild(t,r){const a=this.resolveIndex_(t);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,Jn.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,t)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,Jn.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,t)>0;)c.getNext(),h=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===VE?-1:0}withIndex(t){if(t===vd||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===vd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(ii),c=r.getIterator(ii);let h=a.getNext(),p=c.getNext();for(;h&&p;){if(h.name!==p.name||!h.node.equals(p.node))return!1;h=a.getNext(),p=c.getNext()}return null===h&&null===p}return!1}return!1}}resolveIndex_(t){return t===vd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const VE=new class extends Dn{constructor(){super(new rl(RN),Dn.EMPTY_NODE,Oh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Dn.EMPTY_NODE}isEmpty(){return!1}};function Mi(n,e=null){if(null===n)return Dn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,$.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Vv(n,Mi(e));if(n instanceof Array){let t=Dn.EMPTY_NODE;return go(n,(r,a)=>{if((0,$.r3)(n,r)&&"."!==r.substring(0,1)){const c=Mi(a);(c.isLeafNode()||!c.isEmpty())&&(t=t.updateImmediateChild(r,c))}}),t.updatePriority(Mi(e))}{const t=[];let r=!1;if(go(n,(h,p)=>{if("."!==h.substring(0,1)){const v=Mi(p);v.isEmpty()||(r=r||!v.getPriority().isEmpty(),t.push(new Jn(h,v)))}}),0===t.length)return Dn.EMPTY_NODE;const c=gx(t,w4,h=>h.name,RN);if(r){const h=gx(t,ii.getCompare());return new Dn(c,Mi(e),new Oh({".priority":h},{".priority":ii}))}return new Dn(c,Mi(e),Oh.Default)}}Object.defineProperties(Jn,{MIN:{value:new Jn(Sh,Dn.EMPTY_NODE)},MAX:{value:new Jn(yd,VE)}}),o2.__EMPTY_NODE=Dn.EMPTY_NODE,Vv.__childrenNodeConstructor=Dn,function(n){LN=n}(VE),function(n){d2=n}(VE),function(n){u2=n}(Mi);class VN extends hx{constructor(e){super(),this.indexPath_=e,(0,$.hu)(!Bn(e)&&".priority"!==jn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),a=this.extractChild(t.node),c=r.compareTo(a);return 0===c?$m(e.name,t.name):c}makePost(e,t){const r=Mi(e),a=Dn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Jn(t,a)}maxPost(){const e=Dn.EMPTY_NODE.updateChild(this.indexPath_,VE);return new Jn(yd,e)}toString(){return RE(this.indexPath_,0).join("/")}}const UN=new class extends hx{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?$m(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Jn.MIN}maxPost(){return Jn.MAX}makePost(e,t){const r=Mi(e);return new Jn(t,r)}toString(){return".value"}},Zv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",P4=function(){let n=0;const e=[];return function(t){const r=t===n;let a;n=t;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Zv.charAt(t%64),t=Math.floor(t/64);(0,$.hu)(0===t,"Cannot push at time == 0");let h=c.join("");if(r){for(a=11;a>=0&&63===e[a];a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)h+=Zv.charAt(e[a]);return(0,$.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),p2=function(n){if(n===""+EN)return"-";const e=cx(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let h=0;h<t.length;h++)t[h]=n.charAt(h);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return yd;const c=Zv.charAt(Zv.indexOf(t[r])+1);return t[r]=c,t.slice(0,r+1).join("")},g2=function(n){if(n===""+xF)return Sh;const e=cx(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+EN:(delete t[t.length-1],t.join("")):(t[t.length-1]=Zv.charAt(Zv.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function m2(n){return{type:"value",snapshotNode:n}}function qv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function UE(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ZE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class qN{constructor(e){this.index_=e}updateChild(e,t,r,a,c,h){(0,$.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=e.getImmediateChild(t);return p.getChild(a).equals(r.getChild(a))&&p.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?e.hasChild(t)?h.trackChildChange(UE(t,p)):(0,$.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(qv(t,r)):h.trackChildChange(ZE(t,r,p))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(ii,(a,c)=>{t.hasChild(a)||r.trackChildChange(UE(a,c))}),t.isLeafNode()||t.forEachChild(ii,(a,c)=>{if(e.hasChild(a)){const h=e.getImmediateChild(a);h.equals(c)||r.trackChildChange(ZE(a,c,h))}else r.trackChildChange(qv(a,c))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Dn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qE{constructor(e){this.indexedFilter_=new qN(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qE.getStartPost_(e),this.endPost_=qE.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,a,c,h){return this.matches(new Jn(t,r))||(r=Dn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,a,c,h)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Dn.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(Dn.EMPTY_NODE);const c=this;return t.forEachChild(ii,(h,p)=>{c.matches(new Jn(h,p))||(a=a.updateImmediateChild(h,Dn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class k4{constructor(e){this.rangedFilter_=new qE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,a,c,h){return this.rangedFilter_.matches(new Jn(t,r))||(r=Dn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,a,c,h):this.fullLimitUpdateChild_(e,t,r,c,h)}updateFullNode(e,t,r){let a;if(t.isLeafNode()||t.isEmpty())a=Dn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let c;a=Dn.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const p=c.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),p)<=0:this.index_.compare(p,this.rangedFilter_.getEndPost())<=0,!v)break;a=a.updateImmediateChild(p.name,p.node),h++}}else{let c,h,p,v;if(a=t.withIndex(this.index_),a=a.updatePriority(Dn.EMPTY_NODE),this.reverse_){v=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const N=this.index_.getCompare();p=(B,Y)=>N(Y,B)}else v=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();let A=0,M=!1;for(;v.hasNext();){const N=v.getNext();!M&&p(c,N)<=0&&(M=!0),M&&A<this.limit_&&p(N,h)<=0?A++:a=a.updateImmediateChild(N.name,Dn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,a,c){let h;if(this.reverse_){const N=this.index_.getCompare();h=(B,Y)=>N(Y,B)}else h=this.index_.getCompare();const p=e;(0,$.hu)(p.numChildren()===this.limit_,"");const v=new Jn(t,r),A=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),M=this.rangedFilter_.matches(v);if(p.hasChild(t)){const N=p.getImmediateChild(t);let B=a.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=B&&(B.name===t||p.hasChild(B.name));)B=a.getChildAfterChild(this.index_,B,this.reverse_);const Y=null==B?1:h(B,v);if(M&&!r.isEmpty()&&Y>=0)return null!=c&&c.trackChildChange(ZE(t,r,N)),p.updateImmediateChild(t,r);{null!=c&&c.trackChildChange(UE(t,N));const je=p.updateImmediateChild(t,Dn.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(null!=c&&c.trackChildChange(qv(B.name,B.node)),je.updateImmediateChild(B.name,B.node)):je}}return r.isEmpty()?e:M&&h(A,v)>=0?(null!=c&&(c.trackChildChange(UE(A.name,A.node)),c.trackChildChange(qv(t,r))),p.updateImmediateChild(t,r).updateImmediateChild(A.name,Dn.EMPTY_NODE)):e}}class mx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ii}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,$.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ii}copy(){const e=new mx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jN(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function BN(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function _x(n,e){const t=n.copy();return t.index_=e,t}function _2(n){const e={};if(n.isDefault())return e;let t;return n.index_===ii?t="$priority":n.index_===UN?t="$value":n.index_===vd?t="$key":((0,$.hu)(n.index_ instanceof VN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,$.Pz)(t),n.startSet_&&(e.startAt=(0,$.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,$.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,$.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,$.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function y2(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ii&&(e.i=n.index_.toString()),e}class yx extends QF{constructor(e,t,r,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=SE("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,$.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,a){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const h=yx.getListenId_(e,r),p={};this.listens_[h]=p;const v=_2(e._queryParams);this.restRequest_(c+".json",v,(A,M)=>{let N=M;if(404===A&&(N=null,A=null),null===A&&this.onDataUpdate_(c,N,!1,r),(0,$.DV)(this.listens_,h)===p){let B;B=A?401===A?"permission_denied":"rest_error:"+A:"ok",a(B,null)}})}unlisten(e,t){const r=yx.getListenId_(e,t);delete this.listens_[r]}get(e){const t=_2(e._queryParams),r=e._path.toString(),a=new $.BH;return this.restRequest_(r+".json",t,(c,h)=>{let p=h;404===c&&(p=null,c=null),null===c?(this.onDataUpdate_(r,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(t.auth=a.accessToken),c&&c.token&&(t.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,$.xO)(t);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&4===p.readyState){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let v=null;if(p.status>=200&&p.status<300){try{v=(0,$.cI)(p.responseText)}catch(A){Ma("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,v)}else 401!==p.status&&404!==p.status&&Ma("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}class Z4{constructor(){this.rootNode_=Dn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function vx(){return{value:null,children:new Map}}function jv(n,e,t){if(Bn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=jn(e);n.children.has(r)||n.children.set(r,vx()),jv(n.children.get(r),e=Kr(e),t)}}function HN(n,e){if(Bn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(ii,(r,a)=>{jv(n,new Or(r),a)}),HN(n,e)}}if(n.children.size>0){const t=jn(e);return e=Kr(e),n.children.has(t)&&HN(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function $N(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,a)=>{$N(a,new Or(e.toString()+"/"+r),t)})}class j4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&go(this.last_,(r,a)=>{t[r]=t[r]-a}),this.last_=e,t}}class $4{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new j4(e);const r=1e4+2e4*Math.random();ME(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;go(e,(a,c)=>{c>0&&(0,$.r3)(this.statsToReport_,a)&&(t[a]=c,r=!0)}),r&&this.server_.reportStats(t),ME(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Oc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Oc||(Oc={})),Oc))();function WN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Cx{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Oc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Bn(this.path)){if(null!=this.affectedTree.value)return(0,$.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Or(e));return new Cx(wr(),t,this.revert)}}return(0,$.hu)(jn(this.path)===e,"operationForChild called for unrelated child."),new Cx(Kr(this.path),this.affectedTree,this.revert)}}class jE{constructor(e,t){this.source=e,this.path=t,this.type=Oc.LISTEN_COMPLETE}operationForChild(e){return Bn(this.path)?new jE(this.source,wr()):new jE(this.source,Kr(this.path))}}class Wm{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Oc.OVERWRITE}operationForChild(e){return Bn(this.path)?new Wm(this.source,wr(),this.snap.getImmediateChild(e)):new Wm(this.source,Kr(this.path),this.snap)}}class Bv{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Oc.MERGE}operationForChild(e){if(Bn(this.path)){const t=this.children.subtree(new Or(e));return t.isEmpty()?null:t.value?new Wm(this.source,wr(),t.value):new Bv(this.source,wr(),t)}return(0,$.hu)(jn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bv(this.source,Kr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Mp{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Bn(e))return this.isFullyInitialized()&&!this.filtered_;const t=jn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class G4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BE(n,e,t,r,a,c){const h=r.filter(p=>p.type===t);h.sort((p,v)=>function(n,e,t){if(null==e.childName||null==t.childName)throw(0,$.g5)("Should only compare child_ events.");const r=new Jn(e.childName,e.snapshotNode),a=new Jn(t.childName,t.snapshotNode);return n.index_.compare(r,a)}(n,p,v)),h.forEach(p=>{const v=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,p,c);a.forEach(A=>{A.respondsTo(p.type)&&e.push(A.createEvent(v,n.query_))})})}function bx(n,e){return{eventCache:n,serverCache:e}}function HE(n,e,t,r){return bx(new Mp(e,t,r),n.serverCache)}function C2(n,e,t,r){return bx(n.eventCache,new Mp(e,t,r))}function wx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Km(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let KN;class si{constructor(e,t=(()=>(KN||(KN=new rl(P6)),KN))()){this.value=e,this.children=t}static fromObject(e){let t=new si(null);return go(e,(r,a)=>{t=t.set(new Or(r),a)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:wr(),value:this.value};if(Bn(e))return null;{const r=jn(e),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Kr(e),t);return null!=c?{path:Ti(new Or(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Bn(e))return this;{const t=jn(e),r=this.children.get(t);return null!==r?r.subtree(Kr(e)):new si(null)}}set(e,t){if(Bn(e))return new si(t,this.children);{const r=jn(e),c=(this.children.get(r)||new si(null)).set(Kr(e),t),h=this.children.insert(r,c);return new si(this.value,h)}}remove(e){if(Bn(e))return this.children.isEmpty()?new si(null):new si(null,this.children);{const t=jn(e),r=this.children.get(t);if(r){const a=r.remove(Kr(e));let c;return c=a.isEmpty()?this.children.remove(t):this.children.insert(t,a),null===this.value&&c.isEmpty()?new si(null):new si(this.value,c)}return this}}get(e){if(Bn(e))return this.value;{const t=jn(e),r=this.children.get(t);return r?r.get(Kr(e)):null}}setTree(e,t){if(Bn(e))return t;{const r=jn(e),c=(this.children.get(r)||new si(null)).setTree(Kr(e),t);let h;return h=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new si(this.value,h)}}fold(e){return this.fold_(wr(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(Ti(e,a),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,wr(),t)}findOnPath_(e,t,r){const a=!!this.value&&r(t,this.value);if(a)return a;if(Bn(e))return null;{const c=jn(e),h=this.children.get(c);return h?h.findOnPath_(Kr(e),Ti(t,c),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,wr(),t)}foreachOnPath_(e,t,r){if(Bn(e))return this;{this.value&&r(t,this.value);const a=jn(e),c=this.children.get(a);return c?c.foreachOnPath_(Kr(e),Ti(t,a),r):new si(null)}}foreach(e){this.foreach_(wr(),e)}foreach_(e,t){this.children.inorderTraversal((r,a)=>{a.foreach_(Ti(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class vu{constructor(e){this.writeTree_=e}static empty(){return new vu(new si(null))}}function $E(n,e,t){if(Bn(e))return new vu(new si(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const a=r.path;let c=r.value;const h=Pa(a,e);return c=c.updateChild(h,t),new vu(n.writeTree_.set(a,c))}{const a=new si(t),c=n.writeTree_.setTree(e,a);return new vu(c)}}}function YN(n,e,t){let r=n;return go(t,(a,c)=>{r=$E(r,Ti(e,a),c)}),r}function b2(n,e){if(Bn(e))return vu.empty();{const t=n.writeTree_.setTree(e,new si(null));return new vu(t)}}function QN(n,e){return null!=Ym(n,e)}function Ym(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Pa(t.path,e)):null}function w2(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ii,(r,a)=>{e.push(new Jn(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&e.push(new Jn(r,a.value))}),e}function Pp(n,e){if(Bn(e))return n;{const t=Ym(n,e);return new vu(null!=t?new si(t):n.writeTree_.subtree(e))}}function JN(n){return n.writeTree_.isEmpty()}function Hv(n,e){return E2(wr(),n.writeTree_,e)}function E2(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((a,c)=>{".priority"===a?((0,$.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):t=E2(Ti(n,a),c,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Ti(n,".priority"),r)),t}}function Ex(n,e){return x2(e,n)}function tq(n,e){if(n.snap)return Sc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Sc(Ti(n.path,t),e))return!0;return!1}function rq(n){return n.visible}function T2(n,e,t){let r=vu.empty();for(let a=0;a<n.length;++a){const c=n[a];if(e(c)){const h=c.path;let p;if(c.snap)Sc(t,h)?(p=Pa(t,h),r=$E(r,p,c.snap)):Sc(h,t)&&(p=Pa(h,t),r=$E(r,wr(),c.snap.getChild(p)));else{if(!c.children)throw(0,$.g5)("WriteRecord should have .snap or .children");if(Sc(t,h))p=Pa(t,h),r=YN(r,p,c.children);else if(Sc(h,t))if(p=Pa(h,t),Bn(p))r=YN(r,wr(),c.children);else{const v=(0,$.DV)(c.children,jn(p));if(v){const A=v.getChild(Kr(p));r=$E(r,wr(),A)}}}}}return r}function A2(n,e,t,r,a){if(r||a){const c=Pp(n.visibleWrites,e);return!a&&JN(c)?t:a||null!=t||QN(c,wr())?Hv(T2(n.allWrites,function(A){return(A.visible||a)&&(!r||!~r.indexOf(A.writeId))&&(Sc(A.path,e)||Sc(e,A.path))},e),t||Dn.EMPTY_NODE):null}{const c=Ym(n.visibleWrites,e);if(null!=c)return c;{const h=Pp(n.visibleWrites,e);return JN(h)?t:null!=t||QN(h,wr())?Hv(h,t||Dn.EMPTY_NODE):null}}}function Tx(n,e,t,r){return A2(n.writeTree,n.treePath,e,t,r)}function XN(n,e){return function(n,e,t){let r=Dn.EMPTY_NODE;const a=Ym(n.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(ii,(c,h)=>{r=r.updateImmediateChild(c,h)}),r;if(t){const c=Pp(n.visibleWrites,e);return t.forEachChild(ii,(h,p)=>{const v=Hv(Pp(c,new Or(h)),p);r=r.updateImmediateChild(h,v)}),w2(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return w2(Pp(n.visibleWrites,e)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,e)}function I2(n,e,t,r){return function(n,e,t,r,a){(0,$.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=Ti(e,t);if(QN(n.visibleWrites,c))return null;{const h=Pp(n.visibleWrites,c);return JN(h)?a.getChild(t):Hv(h,a.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Ax(n,e){return function(n,e){return Ym(n.visibleWrites,e)}(n.writeTree,Ti(n.treePath,e))}function ek(n,e,t){return function(n,e,t,r){const a=Ti(e,t),c=Ym(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(t)?Hv(Pp(n.visibleWrites,a),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function D2(n,e){return x2(Ti(n.treePath,e),n.writeTree)}function x2(n,e){return{treePath:n,writeTree:e}}class dq{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,$.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,$.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===t&&"child_removed"===c)this.changeMap.set(r,ZE(r,e.snapshotNode,a.snapshotNode));else if("child_removed"===t&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===c)this.changeMap.set(r,UE(r,a.oldSnap));else if("child_changed"===t&&"child_added"===c)this.changeMap.set(r,qv(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==c)throw(0,$.g5)("Illegal combination of changes: "+e+" occurred after "+a);this.changeMap.set(r,ZE(r,e.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const S2=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class tk{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Mp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ek(this.writes_,e,r)}}getChildAfterChild(e,t,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Km(this.viewCache_),c=function(n,e,t,r,a,c){return function(n,e,t,r,a,c,h){let p;const v=Pp(n.visibleWrites,e),A=Ym(v,wr());if(null!=A)p=A;else{if(null==t)return[];p=Hv(v,t)}if(p=p.withIndex(h),p.isEmpty()||p.isLeafNode())return[];{const M=[],N=h.getCompare(),B=c?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let Y=B.getNext();for(;Y&&M.length<a;)0!==N(Y,r)&&M.push(Y),Y=B.getNext();return M}}(n.writeTree,n.treePath,e,t,r,a,c)}(this.writes_,a,t,1,r,e);return 0===c.length?null:c[0]}}function O2(n,e,t,r,a,c){const h=e.eventCache;if(null!=Ax(r,t))return e;{let p,v;if(Bn(t))if((0,$.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const A=Km(e),N=XN(r,A instanceof Dn?A:Dn.EMPTY_NODE);p=n.filter.updateFullNode(e.eventCache.getNode(),N,c)}else{const A=Tx(r,Km(e));p=n.filter.updateFullNode(e.eventCache.getNode(),A,c)}else{const A=jn(t);if(".priority"===A){(0,$.hu)(1===Op(t),"Can't have a priority with additional path components");const M=h.getNode();v=e.serverCache.getNode();const N=I2(r,t,M,v);p=null!=N?n.filter.updatePriority(M,N):h.getNode()}else{const M=Kr(t);let N;if(h.isCompleteForChild(A)){v=e.serverCache.getNode();const B=I2(r,t,h.getNode(),v);N=null!=B?h.getNode().getImmediateChild(A).updateChild(M,B):h.getNode().getImmediateChild(A)}else N=ek(r,A,e.serverCache);p=null!=N?n.filter.updateChild(h.getNode(),A,N,M,a,c):h.getNode()}}return HE(e,p,h.isFullyInitialized()||Bn(t),n.filter.filtersNodes())}}function Ix(n,e,t,r,a,c,h,p){const v=e.serverCache;let A;const M=h?n.filter:n.filter.getIndexedFilter();if(Bn(t))A=M.updateFullNode(v.getNode(),r,null);else if(M.filtersNodes()&&!v.isFiltered()){const Y=v.getNode().updateChild(t,r);A=M.updateFullNode(v.getNode(),Y,null)}else{const Y=jn(t);if(!v.isCompleteForPath(t)&&Op(t)>1)return e;const de=Kr(t),nt=v.getNode().getImmediateChild(Y).updateChild(de,r);A=".priority"===Y?M.updatePriority(v.getNode(),nt):M.updateChild(v.getNode(),Y,nt,de,S2,null)}const N=C2(e,A,v.isFullyInitialized()||Bn(t),M.filtersNodes());return O2(n,N,t,a,new tk(a,N,c),p)}function nk(n,e,t,r,a,c,h){const p=e.eventCache;let v,A;const M=new tk(a,e,c);if(Bn(t))A=n.filter.updateFullNode(e.eventCache.getNode(),r,h),v=HE(e,A,!0,n.filter.filtersNodes());else{const N=jn(t);if(".priority"===N)A=n.filter.updatePriority(e.eventCache.getNode(),r),v=HE(e,A,p.isFullyInitialized(),p.isFiltered());else{const B=Kr(t),Y=p.getNode().getImmediateChild(N);let de;if(Bn(B))de=r;else{const je=M.getCompleteChild(N);de=null!=je?".priority"===PN(B)&&je.getChild(t2(B)).isEmpty()?je:je.updateChild(B,r):Dn.EMPTY_NODE}v=Y.equals(de)?e:HE(e,n.filter.updateChild(p.getNode(),N,de,B,M,h),p.isFullyInitialized(),n.filter.filtersNodes())}}return v}function M2(n,e){return n.eventCache.isCompleteForChild(e)}function P2(n,e,t){return t.foreach((r,a)=>{e=e.updateChild(r,a)}),e}function rk(n,e,t,r,a,c,h,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let A,v=e;A=Bn(t)?r:new si(null).setTree(t,r);const M=e.serverCache.getNode();return A.children.inorderTraversal((N,B)=>{if(M.hasChild(N)){const de=P2(0,e.serverCache.getNode().getImmediateChild(N),B);v=Ix(n,v,new Or(N),de,a,c,h,p)}}),A.children.inorderTraversal((N,B)=>{const Y=!e.serverCache.isCompleteForChild(N)&&void 0===B.value;if(!M.hasChild(N)&&!Y){const je=P2(0,e.serverCache.getNode().getImmediateChild(N),B);v=Ix(n,v,new Or(N),je,a,c,h,p)}}),v}class bq{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new qN(r.getIndex()),c=function(n){return n.loadsAllData()?new qN(n.getIndex()):n.hasLimit()?new k4(n):new qE(n)}(r);this.processor_=function(n){return{filter:n}}(c);const h=t.serverCache,p=t.eventCache,v=a.updateFullNode(Dn.EMPTY_NODE,h.getNode(),null),A=c.updateFullNode(Dn.EMPTY_NODE,p.getNode(),null),M=new Mp(v,h.isFullyInitialized(),a.filtersNodes()),N=new Mp(A,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=bx(N,M),this.eventGenerator_=new G4(this.query_)}get query(){return this.query_}}function Tq(n,e){const t=Km(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Bn(e)&&!t.getImmediateChild(jn(e)).isEmpty())?t.getChild(e):null}function N2(n){return 0===n.eventRegistrations_.length}function k2(n,e,t){const r=[];if(t){(0,$.hu)(null==e,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(t,a);h&&r.push(h)})}if(e){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const h=n.eventRegistrations_[c];if(h.matches(e)){if(e.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(h)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function R2(n,e,t,r){e.type===Oc.MERGE&&null!==e.source.queryId&&((0,$.hu)(Km(n.viewCache_),"We should always have a full cache before handling merges"),(0,$.hu)(wx(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function(n,e,t,r,a){const c=new dq;let h,p;if(t.type===Oc.OVERWRITE){const A=t;A.source.fromUser?h=nk(n,e,A.path,A.snap,r,a,c):((0,$.hu)(A.source.fromServer,"Unknown source."),p=A.source.tagged||e.serverCache.isFiltered()&&!Bn(A.path),h=Ix(n,e,A.path,A.snap,r,a,p,c))}else if(t.type===Oc.MERGE){const A=t;A.source.fromUser?h=function(n,e,t,r,a,c,h){let p=e;return r.foreach((v,A)=>{const M=Ti(t,v);M2(e,jn(M))&&(p=nk(n,p,M,A,a,c,h))}),r.foreach((v,A)=>{const M=Ti(t,v);M2(e,jn(M))||(p=nk(n,p,M,A,a,c,h))}),p}(n,e,A.path,A.children,r,a,c):((0,$.hu)(A.source.fromServer,"Unknown source."),p=A.source.tagged||e.serverCache.isFiltered(),h=rk(n,e,A.path,A.children,r,a,p,c))}else if(t.type===Oc.ACK_USER_WRITE){const A=t;h=A.revert?function(n,e,t,r,a,c){let h;if(null!=Ax(r,t))return e;{const p=new tk(r,e,a),v=e.eventCache.getNode();let A;if(Bn(t)||".priority"===jn(t)){let M;if(e.serverCache.isFullyInitialized())M=Tx(r,Km(e));else{const N=e.serverCache.getNode();(0,$.hu)(N instanceof Dn,"serverChildren would be complete if leaf node"),M=XN(r,N)}M=M,A=n.filter.updateFullNode(v,M,c)}else{const M=jn(t);let N=ek(r,M,e.serverCache);null==N&&e.serverCache.isCompleteForChild(M)&&(N=v.getImmediateChild(M)),A=null!=N?n.filter.updateChild(v,M,N,Kr(t),p,c):e.eventCache.getNode().hasChild(M)?n.filter.updateChild(v,M,Dn.EMPTY_NODE,Kr(t),p,c):v,A.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=Tx(r,Km(e)),h.isLeafNode()&&(A=n.filter.updateFullNode(A,h,c)))}return h=e.serverCache.isFullyInitialized()||null!=Ax(r,wr()),HE(e,A,h,n.filter.filtersNodes())}}(n,e,A.path,r,a,c):function(n,e,t,r,a,c,h){if(null!=Ax(a,t))return e;const p=e.serverCache.isFiltered(),v=e.serverCache;if(null!=r.value){if(Bn(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return Ix(n,e,t,v.getNode().getChild(t),a,c,p,h);if(Bn(t)){let A=new si(null);return v.getNode().forEachChild(vd,(M,N)=>{A=A.set(new Or(M),N)}),rk(n,e,t,A,a,c,p,h)}return e}{let A=new si(null);return r.foreach((M,N)=>{const B=Ti(t,M);v.isCompleteForPath(B)&&(A=A.set(M,v.getNode().getChild(B)))}),rk(n,e,t,A,a,c,p,h)}}(n,e,A.path,A.affectedTree,r,a,c)}else{if(t.type!==Oc.LISTEN_COMPLETE)throw(0,$.g5)("Unknown operation type: "+t.type);h=function(n,e,t,r,a){const c=e.serverCache;return O2(n,C2(e,c.getNode(),c.isFullyInitialized()||Bn(t),c.isFiltered()),t,r,S2,a)}(n,e,t.path,r,c)}const v=c.getChanges();return function(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=wx(n);(t.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&t.push(m2(wx(e)))}}(e,h,v),{viewCache:h,changes:v}}(n.processor_,a,e,t,r);return function(n,e){(0,$.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,$.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,$.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,L2(n,c.changes,c.viewCache.eventCache.getNode(),null)}function L2(n,e,t,r){return function(n,e,t,r){const a=[],c=[];return e.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(h.childName,h.snapshotNode))}),BE(n,a,"child_removed",e,r,t),BE(n,a,"child_added",e,r,t),BE(n,a,"child_moved",c,r,t),BE(n,a,"child_changed",e,r,t),BE(n,a,"value",e,r,t),a}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let Dx,Sx;class F2{constructor(){this.views=new Map}}function ik(n,e,t,r){const a=e.source.queryId;if(null!==a){const c=n.views.get(a);return(0,$.hu)(null!=c,"SyncTree gave us an op for an invalid query."),R2(c,e,t,r)}{let c=[];for(const h of n.views.values())c=c.concat(R2(h,e,t,r));return c}}function V2(n,e,t,r,a){const h=n.views.get(e._queryIdentifier);if(!h){let p=Tx(t,a?r:null),v=!1;p?v=!0:r instanceof Dn?(p=XN(t,r),v=!1):(p=Dn.EMPTY_NODE,v=!1);const A=bx(new Mp(p,v,!1),new Mp(r,a,!1));return new bq(e,A)}return h}function U2(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Np(n,e){let t=null;for(const r of n.views.values())t=t||Tq(r,e);return t}function Z2(n,e){return e._queryParams.loadsAllData()?xx(n):n.views.get(e._queryIdentifier)}function q2(n,e){return null!=Z2(n,e)}function kp(n){return null!=xx(n)}function xx(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let kq=1;class j2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new si(null),this.pendingWriteTree_={visibleWrites:vu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sk(n,e,t,r,a){return function(n,e,t,r,a){(0,$.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:a}),a&&(n.visibleWrites=$E(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,a),a?$v(n,new Wm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Rp(n,e,t=!1){const r=function(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(p=>p.writeId===e);(0,$.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let a=r.visible,c=!1,h=n.allWrites.length-1;for(;a&&h>=0;){const p=n.allWrites[h];p.visible&&(h>=t&&tq(p,r.path)?a=!1:Sc(r.path,p.path)&&(c=!0)),h--}return!!a&&(c?(function(n){n.visibleWrites=T2(n.allWrites,rq,wr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=b2(n.visibleWrites,r.path):go(r.children,v=>{n.visibleWrites=b2(n.visibleWrites,Ti(r.path,v))}),!0))}(n.pendingWriteTree_,e)){let c=new si(null);return null!=r.snap?c=c.set(wr(),!0):go(r.children,h=>{c=c.set(new Or(h),!0)}),$v(n,new Cx(r.path,c,t))}return[]}function GE(n,e,t){return $v(n,new Wm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function ok(n,e,t,r){const a=e._path,c=n.syncPointTree_.get(a);let h=[];if(c&&("default"===e._queryIdentifier||q2(c,e))){const p=function(n,e,t,r){const a=e._queryIdentifier,c=[];let h=[];const p=kp(n);if("default"===a)for(const[v,A]of n.views.entries())h=h.concat(k2(A,t,r)),N2(A)&&(n.views.delete(v),A.query._queryParams.loadsAllData()||c.push(A.query));else{const v=n.views.get(a);v&&(h=h.concat(k2(v,t,r)),N2(v)&&(n.views.delete(a),v.query._queryParams.loadsAllData()||c.push(v.query)))}return p&&!kp(n)&&c.push(new((0,$.hu)(Dx,"Reference.ts has not been loaded"),Dx)(e._repo,e._path)),{removed:c,events:h}}(c,e,t,r);(function(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const v=p.removed;h=p.events;const A=-1!==v.findIndex(N=>N._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(a,(N,B)=>kp(B));if(A&&!M){const N=n.syncPointTree_.subtree(a);if(!N.isEmpty()){const B=function(n){return n.fold((e,t,r)=>{if(t&&kp(t))return[xx(t)];{let a=[];return t&&(a=U2(t)),go(r,(c,h)=>{a=a.concat(h)}),a}})}(N);for(let Y=0;Y<B.length;++Y){const de=B[Y],je=de.query,nt=G2(n,de);n.listenProvider_.startListening(zE(je),Mx(n,je),nt.hashFn,nt.onComplete)}}}if(!M&&v.length>0&&!r)if(A){const N=null;n.listenProvider_.stopListening(zE(e),N)}else v.forEach(N=>{const B=n.queryToTagMap.get(Px(N));n.listenProvider_.stopListening(zE(N),B)});!function(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const a=Px(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,v)}return h}function B2(n,e,t){const r=e._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(r,(N,B)=>{const Y=Pa(N,r);a=a||Np(B,Y),c=c||kp(B)});let p,h=n.syncPointTree_.get(r);h?(c=c||kp(h),a=a||Np(h,wr())):(h=new F2,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=a?p=!0:(p=!1,a=Dn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,Y)=>{const de=Np(Y,wr());de&&(a=a.updateImmediateChild(B,de))}));const v=q2(h,e);if(!v&&!e._queryParams.loadsAllData()){const N=Px(e);(0,$.hu)(!n.queryToTagMap.has(N),"View does not exist, but we have a tag");const B=kq++;n.queryToTagMap.set(N,B),n.tagToQueryMap.set(B,N)}let M=function(n,e,t,r,a,c){const h=V2(n,e,r,a,c);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,h),function(n,e){n.eventRegistrations_.push(e)}(h,t),function(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ii,(c,h)=>{r.push(qv(c,h))}),t.isFullyInitialized()&&r.push(m2(t.getNode())),L2(n,r,t.getNode(),e)}(h,t)}(h,e,t,Ex(n.pendingWriteTree_,r),a,p);if(!v&&!c){const N=Z2(h,e);M=M.concat(function(n,e,t){const r=e._path,a=Mx(n,e),c=G2(n,t),h=n.listenProvider_.startListening(zE(e),a,c.hashFn,c.onComplete),p=n.syncPointTree_.subtree(r);if(a)(0,$.hu)(!kp(p.value),"If we're adding a query, it shouldn't be shadowed");else{const v=p.fold((A,M,N)=>{if(!Bn(A)&&M&&kp(M))return[xx(M).query];{let B=[];return M&&(B=B.concat(U2(M).map(Y=>Y.query))),go(N,(Y,de)=>{B=B.concat(de)}),B}});for(let A=0;A<v.length;++A){const M=v[A];n.listenProvider_.stopListening(zE(M),Mx(n,M))}}return h}(n,e,N))}return M}function Ox(n,e,t){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(e,(h,p)=>{const A=Np(p,Pa(h,e));if(A)return A});return A2(a,e,c,t,!0)}function $v(n,e){return H2(e,n.syncPointTree_,null,Ex(n.pendingWriteTree_,wr()))}function H2(n,e,t,r){if(Bn(n.path))return $2(n,e,t,r);{const a=e.get(wr());null==t&&null!=a&&(t=Np(a,wr()));let c=[];const h=jn(n.path),p=n.operationForChild(h),v=e.children.get(h);if(v&&p){const A=t?t.getImmediateChild(h):null,M=D2(r,h);c=c.concat(H2(p,v,A,M))}return a&&(c=c.concat(ik(a,n,r,t))),c}}function $2(n,e,t,r){const a=e.get(wr());null==t&&null!=a&&(t=Np(a,wr()));let c=[];return e.children.inorderTraversal((h,p)=>{const v=t?t.getImmediateChild(h):null,A=D2(r,h),M=n.operationForChild(h);M&&(c=c.concat($2(M,p,v,A)))}),a&&(c=c.concat(ik(a,n,r,t))),c}function G2(n,e){const t=e.query,r=Mx(n,t);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(e)||Dn.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function(n,e,t){const r=ak(n,t);if(r){const a=lk(r),c=a.path,h=a.queryId,p=Pa(c,e);return ck(n,c,new jE(WN(h),p))}return[]}(n,t._path,r):function(n,e){return $v(n,new jE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const c=function(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(a,t);return ok(n,t,null,c)}}}}function Mx(n,e){const t=Px(e);return n.queryToTagMap.get(t)}function Px(n){return n._path.toString()+"$"+n._queryIdentifier}function ak(n,e){return n.tagToQueryMap.get(e)}function lk(n){const e=n.indexOf("$");return(0,$.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Or(n.substr(0,e))}}function ck(n,e,t){const r=n.syncPointTree_.get(e);return(0,$.hu)(r,"Missing sync point for query tag that we're tracking"),ik(r,t,Ex(n.pendingWriteTree_,e),null)}function zE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,$.hu)(Sx,"Reference.ts has not been loaded"),Sx)(n._repo,n._path):n}class uk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new uk(t)}node(){return this.node_}}class dk{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ti(this.path_,e);return new dk(this.syncTree_,t)}node(){return Ox(this.syncTree_,this.path_)}}const z2=function(n,e,t){return n&&"object"==typeof n?((0,$.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?zq(n[".sv"],e,t):"object"==typeof n[".sv"]?Wq(n[".sv"],e):void(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},zq=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:(0,$.hu)(!1,"Unexpected server value: "+n)}},Wq=function(n,e,t){n.hasOwnProperty("increment")||(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,$.hu)(!1,"Unexpected increment value: "+r);const a=e.node();if((0,$.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const h=a.getValue();return"number"!=typeof h?r:h+r},W2=function(n,e,t,r){return fk(e,new dk(t,n),r)},hk=function(n,e,t){return fk(n,new uk(e),t)};function fk(n,e,t){const r=n.getPriority().val(),a=z2(r,e.getImmediateChild(".priority"),t);let c;if(n.isLeafNode()){const h=n,p=z2(h.getValue(),e,t);return p!==h.getValue()||a!==h.getPriority().val()?new Vv(p,Mi(a)):n}{const h=n;return c=h,a!==h.getPriority().val()&&(c=c.updatePriority(new Vv(a))),h.forEachChild(ii,(p,v)=>{const A=fk(v,e.getImmediateChild(p),t);A!==v&&(c=c.updateImmediateChild(p,A))}),c}}class pk{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Nx(n,e){let t=e instanceof Or?e:new Or(e),r=n,a=jn(t);for(;null!==a;){const c=(0,$.DV)(r.node.children,a)||{children:{},childCount:0};r=new pk(a,r,c),t=Kr(t),a=jn(t)}return r}function Qm(n){return n.node.value}function gk(n,e){n.node.value=e,mk(n)}function K2(n){return n.node.childCount>0}function kx(n,e){go(n.node.children,(t,r)=>{e(new pk(t,n,r))})}function Y2(n,e,t,r){t&&!r&&e(n),kx(n,a=>{Y2(a,e,!0,r)}),t&&r&&e(n)}function WE(n){return new Or(null===n.parent?n.name:WE(n.parent)+"/"+n.name)}function mk(n){null!==n.parent&&function(n,e,t){const r=function(n){return void 0===Qm(n)&&!K2(n)}(t),a=(0,$.r3)(n.node.children,e);r&&a?(delete n.node.children[e],n.node.childCount--,mk(n)):!r&&!a&&(n.node.children[e]=t.node,n.node.childCount++,mk(n))}(n.parent,n.name,n)}const Jq=/[\[\].#$\/\u0000-\u001F\u007F]/,Xq=/[\[\].#$\u0000-\u001F\u007F]/,_k=10485760,Rx=function(n){return"string"==typeof n&&0!==n.length&&!Jq.test(n)},Q2=function(n){return"string"==typeof n&&0!==n.length&&!Xq.test(n)},KE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!lx(n)||n&&"object"==typeof n&&(0,$.r3)(n,".sv")},Cd=function(n,e,t,r){r&&void 0===e||YE((0,$.gK)(n,"value"),e,t)},YE=function(n,e,t){const r=t instanceof Or?new f4(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Gm(r));if("function"==typeof e)throw new Error(n+"contains a function "+Gm(r)+" with contents = "+e.toString());if(lx(e))throw new Error(n+"contains "+e.toString()+" "+Gm(r));if("string"==typeof e&&e.length>_k/3&&(0,$.ug)(e)>_k)throw new Error(n+"contains a string greater than "+_k+" utf8 bytes "+Gm(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let a=!1,c=!1;if(go(e,(h,p)=>{if(".value"===h)a=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!Rx(h)))throw new Error(n+" contains an invalid key ("+h+") "+Gm(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,$.ug)(e),n2(n)})(r,h),YE(n,p,r),function(n){const e=n.parts_.pop();n.byteLength_-=(0,$.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+Gm(r)+" in addition to actual children.")}},J2=function(n,e,t,r){if(r&&void 0===e)return;const a=(0,$.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const c=[];go(e,(h,p)=>{const v=new Or(h);if(YE(a,p,Ti(t,v)),".priority"===PN(v)&&!KE(p))throw new Error(a+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(v)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const c=RE(r);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!Rx(c[h]))throw new Error(n+"contains an invalid key ("+c[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(h4);let a=null;for(t=0;t<e.length;t++){if(r=e[t],null!==a&&Sc(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,c)},yk=function(n,e,t){if(!t||void 0!==e){if(lx(e))throw new Error((0,$.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!KE(e))throw new Error((0,$.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},QE=function(n,e,t,r){if(!(r&&void 0===t||Rx(t)))throw new Error((0,$.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},JE=function(n,e,t,r){if(!(r&&void 0===t||Q2(t)))throw new Error((0,$.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mc=function(n,e){if(".info"===jn(e))throw new Error(n+" failed = Can't modify data under /.info/")},X2=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Rx(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Q2(n)}(t))throw new Error((0,$.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Lx(n,e){let t=null;for(let r=0;r<e.length;r++){const a=e[r],c=a.getPath();null!==t&&!NN(c,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:c}),t.events.push(a)}t&&n.eventLists_.push(t)}function vk(n,e,t){Lx(n,t),eV(n,r=>NN(r,e))}function Pc(n,e,t){Lx(n,t),eV(n,r=>Sc(r,e)||Sc(e,r))}function eV(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(e(a.path)?(ij(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function ij(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Hm&&po("event: "+t.toString()),Lv(r)}}}const tV="repo_interrupt";class oj{constructor(e,t,r,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vx(),this.transactionQueueTree_=new pk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nV(n){const t=n.infoData_.getNode(new Or(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function XE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:nV(n)})}function rV(n,e,t,r,a){n.dataUpdateCount++;const c=new Or(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let h=[];if(a)if(r){const v=(0,$.UI)(t,A=>Mi(A));h=function(n,e,t,r){const a=ak(n,r);if(a){const c=lk(a),h=c.path,p=c.queryId,v=Pa(h,e),A=si.fromObject(t);return ck(n,h,new Bv(WN(p),v,A))}return[]}(n.serverSyncTree_,c,v,a)}else{const v=Mi(t);h=function(n,e,t,r){const a=ak(n,r);if(null!=a){const c=lk(a),h=c.path,p=c.queryId,v=Pa(h,e);return ck(n,h,new Wm(WN(p),v,t))}return[]}(n.serverSyncTree_,c,v,a)}else if(r){const v=(0,$.UI)(t,A=>Mi(A));h=function(n,e,t){const r=si.fromObject(t);return $v(n,new Bv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,c,v)}else{const v=Mi(t);h=GE(n.serverSyncTree_,c,v)}let p=c;h.length>0&&(p=zv(n,c)),Pc(n.eventQueue_,p,h)}function iV(n,e){Ck(n,"connected",e),!1===e&&function(n){Gv(n,"onDisconnectEvents");const e=XE(n),t=vx();$N(n.onDisconnect_,wr(),(a,c)=>{const h=W2(a,c,n.serverSyncTree_,e);jv(t,a,h)});let r=[];$N(t,wr(),(a,c)=>{r=r.concat(GE(n.serverSyncTree_,a,c));const h=Tk(n,a);zv(n,h)}),n.onDisconnect_=vx(),Pc(n.eventQueue_,wr(),r)}(n)}function Ck(n,e,t){const r=new Or("/.info/"+e),a=Mi(t);n.infoData_.updateSnapshot(r,a);const c=GE(n.infoSyncTree_,r,a);Pc(n.eventQueue_,r,c)}function Fx(n){return n.nextWriteId_++}function bk(n,e,t,r,a){Gv(n,"set",{path:e.toString(),value:t,priority:r});const c=XE(n),h=Mi(t,r),p=Ox(n.serverSyncTree_,e),v=hk(h,p,c),A=Fx(n),M=sk(n.serverSyncTree_,e,v,A,!0);Lx(n.eventQueue_,M),n.server_.put(e.toString(),h.val(!0),(B,Y)=>{const de="ok"===B;de||Ma("set at "+e+" failed: "+B);const je=Rp(n.serverSyncTree_,A,!de);Pc(n.eventQueue_,e,je),Lp(0,a,B,Y)});const N=Tk(n,e);zv(n,N),Pc(n.eventQueue_,N,[])}function hj(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,a)=>{"ok"===r&&HN(n.onDisconnect_,e),Lp(0,t,r,a)})}function sV(n,e,t,r){const a=Mi(t);n.server_.onDisconnectPut(e.toString(),a.val(!0),(c,h)=>{"ok"===c&&jv(n.onDisconnect_,e,a),Lp(0,r,c,h)})}function wk(n,e,t){let r;r=".info"===jn(e._path)?ok(n.infoSyncTree_,e,t):ok(n.serverSyncTree_,e,t),vk(n.eventQueue_,e._path,r)}function oV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(tV)}function Gv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),po(t,...e)}function Lp(n,e,t,r){e&&Lv(()=>{if("ok"===t)e(null);else{const a=(t||"error").toUpperCase();let c=a;r&&(c+=": "+r);const h=new Error(c);h.code=a,e(h)}})}function Ek(n,e,t){return Ox(n.serverSyncTree_,e,t)||Dn.EMPTY_NODE}function Vx(n,e=n.transactionQueueTree_){if(e||Ux(n,e),Qm(e)){const t=lV(n,e);(0,$.hu)(t.length>0,"Sending zero length transaction queue"),t.every(a=>0===a.status)&&function(n,e,t){const r=t.map(A=>A.currentWriteId),a=Ek(n,e,r);let c=a;const h=a.hash();for(let A=0;A<t.length;A++){const M=t[A];(0,$.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const N=Pa(e,M.path);c=c.updateChild(N,M.currentOutputSnapshotRaw)}const p=c.val(!0),v=e;n.server_.put(v.toString(),p,A=>{Gv(n,"transaction put response",{path:v.toString(),status:A});let M=[];if("ok"===A){const N=[];for(let B=0;B<t.length;B++)t[B].status=2,M=M.concat(Rp(n.serverSyncTree_,t[B].currentWriteId)),t[B].onComplete&&N.push(()=>t[B].onComplete(null,!0,t[B].currentOutputSnapshotResolved)),t[B].unwatcher();Ux(n,Nx(n.transactionQueueTree_,e)),Vx(n,n.transactionQueueTree_),Pc(n.eventQueue_,e,M);for(let B=0;B<N.length;B++)Lv(N[B])}else{if("datastale"===A)for(let N=0;N<t.length;N++)t[N].status=3===t[N].status?4:0;else{Ma("transaction at "+v.toString()+" failed: "+A);for(let N=0;N<t.length;N++)t[N].status=4,t[N].abortReason=A}zv(n,e)}},h)}(n,WE(e),t)}else K2(e)&&kx(e,t=>{Vx(n,t)})}function zv(n,e){const t=aV(n,e),r=WE(t);return function(n,e,t){if(0===e.length)return;const r=[];let a=[];const h=e.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const v=e[p],A=Pa(t,v.path);let N,M=!1;if((0,$.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)M=!0,N=v.abortReason,a=a.concat(Rp(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)M=!0,N="maxretry",a=a.concat(Rp(n.serverSyncTree_,v.currentWriteId,!0));else{const B=Ek(n,v.path,h);v.currentInputSnapshot=B;const Y=e[p].update(B.val());if(void 0!==Y){YE("transaction failed: Data returned ",Y,v.path);let de=Mi(Y);"object"==typeof Y&&null!=Y&&(0,$.r3)(Y,".priority")||(de=de.updatePriority(B.getPriority()));const nt=v.currentWriteId,vt=XE(n),Yt=hk(de,B,vt);v.currentOutputSnapshotRaw=de,v.currentOutputSnapshotResolved=Yt,v.currentWriteId=Fx(n),h.splice(h.indexOf(nt),1),a=a.concat(sk(n.serverSyncTree_,v.path,Yt,v.currentWriteId,v.applyLocally)),a=a.concat(Rp(n.serverSyncTree_,nt,!0))}else M=!0,N="nodata",a=a.concat(Rp(n.serverSyncTree_,v.currentWriteId,!0))}Pc(n.eventQueue_,t,a),a=[],M&&(e[p].status=2,setTimeout(e[p].unwatcher,Math.floor(0)),e[p].onComplete&&r.push("nodata"===N?()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot):()=>e[p].onComplete(new Error(N),!1,null)))}Ux(n,n.transactionQueueTree_);for(let p=0;p<r.length;p++)Lv(r[p]);Vx(n,n.transactionQueueTree_)}(n,lV(n,t),r),r}function aV(n,e){let t,r=n.transactionQueueTree_;for(t=jn(e);null!==t&&void 0===Qm(r);)r=Nx(r,t),t=jn(e=Kr(e));return r}function lV(n,e){const t=[];return cV(n,e,t),t.sort((r,a)=>r.order-a.order),t}function cV(n,e,t){const r=Qm(e);if(r)for(let a=0;a<r.length;a++)t.push(r[a]);kx(e,a=>{cV(n,a,t)})}function Ux(n,e){const t=Qm(e);if(t){let r=0;for(let a=0;a<t.length;a++)2!==t[a].status&&(t[r]=t[a],r++);t.length=r,gk(e,t.length>0?t:void 0)}kx(e,r=>{Ux(n,r)})}function Tk(n,e){const t=WE(aV(n,e)),r=Nx(n.transactionQueueTree_,e);return function(n,e,t){let r=n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,a=>{Ak(n,a)}),Ak(n,r),Y2(r,a=>{Ak(n,a)}),t}function Ak(n,e){const t=Qm(e);if(t){const r=[];let a=[],c=-1;for(let h=0;h<t.length;h++)3===t[h].status||(1===t[h].status?((0,$.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,t[h].status=3,t[h].abortReason="set"):((0,$.hu)(0===t[h].status,"Unexpected transaction status in abort"),t[h].unwatcher(),a=a.concat(Rp(n.serverSyncTree_,t[h].currentWriteId,!0)),t[h].onComplete&&r.push(t[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?gk(e,void 0):t.length=c+1,Pc(n.eventQueue_,WE(e),a);for(let h=0;h<r.length;h++)Lv(r[h])}}const Ik=function(n,e){const t=wj(n),r=t.namespace;return"firebase.com"===t.domain&&_d(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&_d("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ma("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new AN(t.host,t.secure,r,e,"ws"===t.scheme||"wss"===t.scheme,"",r!==t.subdomain),path:new Or(t.pathString)}},wj=function(n){let e="",t="",r="",a="",c="",h=!0,p="https",v=443;if("string"==typeof n){let A=n.indexOf("//");A>=0&&(p=n.substring(0,A-1),n=n.substring(A+2));let M=n.indexOf("/");-1===M&&(M=n.length);let N=n.indexOf("?");-1===N&&(N=n.length),e=n.substring(0,Math.min(M,N)),M<N&&(a=function(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let a=t[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}e+="/"+a}return e}(n.substring(M,N)));const B=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ma(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,N)));A=e.indexOf(":"),A>=0?(h="https"===p||"wss"===p,v=parseInt(e.substring(A+1),10)):A=e.length;const Y=e.slice(0,A);if("localhost"===Y.toLowerCase())t="localhost";else if(Y.split(".").length<=2)t=Y;else{const de=e.indexOf(".");r=e.substring(0,de).toLowerCase(),t=e.substring(de+1),c=r}"ns"in B&&(c=B.ns)}return{host:e,port:v,domain:t,subdomain:r,secure:h,scheme:p,pathString:a,namespace:c}};class uV{constructor(e,t,r,a){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=a}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,$.Pz)(this.snapshot.exportVal())}}class dV{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hV{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,$.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class fV{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new $.BH;return hj(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Mc("OnDisconnect.remove",this._path);const e=new $.BH;return sV(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Mc("OnDisconnect.set",this._path),Cd("OnDisconnect.set",e,this._path,!1);const t=new $.BH;return sV(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Mc("OnDisconnect.setWithPriority",this._path),Cd("OnDisconnect.setWithPriority",e,this._path,!1),yk("OnDisconnect.setWithPriority",t,!1);const r=new $.BH;return function(n,e,t,r,a){const c=Mi(t,r);n.server_.onDisconnectPut(e.toString(),c.val(!0),(h,p)=>{"ok"===h&&jv(n.onDisconnect_,e,c),Lp(0,a,h,p)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Mc("OnDisconnect.update",this._path),J2("OnDisconnect.update",e,this._path,!1);const t=new $.BH;return function(n,e,t,r){if((0,$.xb)(t))return po("onDisconnect().update() called with empty data.  Don't do anything."),void Lp(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(a,c)=>{"ok"===a&&go(t,(h,p)=>{const v=Mi(p);jv(n.onDisconnect_,Ti(e,h),v)}),Lp(0,r,a,c)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class il{constructor(e,t,r,a){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=a}get key(){return Bn(this._path)?null:PN(this._path)}get ref(){return new Nc(this._repo,this._path)}get _queryIdentifier(){const e=y2(this._queryParams),t=wN(e);return"{}"===t?"default":t}get _queryObject(){return y2(this._queryParams)}isEqual(e){if(!((e=(0,$.m9)(e))instanceof il))return!1;const t=this._repo===e._repo,r=NN(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Zx(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Fp(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===vd){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Sh)throw new Error(r);if("string"!=typeof e)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==yd)throw new Error(r);if("string"!=typeof t)throw new Error(a)}}else if(n.getIndex()===ii){if(null!=e&&!KE(e)||null!=t&&!KE(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,$.hu)(n.getIndex()instanceof VN||n.getIndex()===UN,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qx(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Nc extends il{constructor(e,t){super(e,t,new mx,!1)}get parent(){const e=t2(this._path);return null===e?null:new Nc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Jm{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Or(e),r=Xm(this.ref,e);return new Jm(this._node.getChild(t),r,ii)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>e(new Jm(a,Xm(this.ref,r),ii)))}hasChild(e){const t=new Or(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pV(n,e){return(n=(0,$.m9)(n))._checkNotDeleted("ref"),void 0!==e?Xm(n._root,e):n._root}function gV(n,e){(n=(0,$.m9)(n))._checkNotDeleted("refFromURL");const t=Ik(e,n._repo.repoInfo_.nodeAdmin);X2("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&_d("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),pV(n,t.path.toString())}function Xm(n,e){return null===jn((n=(0,$.m9)(n))._path)?((t=e)&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),JE("child","path",t,!1)):JE("child","path",e,!1),new Nc(n._repo,Ti(n._path,e));var t}function Dk(n,e){n=(0,$.m9)(n),Mc("set",n._path),Cd("set",e,n._path,!1);const t=new $.BH;return bk(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Dj(n,e){J2("update",e,n._path,!1);const t=new $.BH;return function(n,e,t,r){Gv(n,"update",{path:e.toString(),value:t});let a=!0;const c=XE(n),h={};if(go(t,(p,v)=>{a=!1,h[p]=W2(Ti(e,p),Mi(v),n.serverSyncTree_,c)}),a)po("update() called with empty data.  Don't do anything."),Lp(0,r,"ok",void 0);else{const p=Fx(n),v=function(n,e,t,r){!function(n,e,t,r){(0,$.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=YN(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const a=si.fromObject(t);return $v(n,new Bv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,a))}(n.serverSyncTree_,e,h,p);Lx(n.eventQueue_,v),n.server_.merge(e.toString(),t,(A,M)=>{const N="ok"===A;N||Ma("update at "+e+" failed: "+A);const B=Rp(n.serverSyncTree_,p,!N),Y=B.length>0?zv(n,e):e;Pc(n.eventQueue_,Y,B),Lp(0,r,A,M)}),go(t,A=>{const M=Tk(n,Ti(e,A));zv(n,M)}),Pc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function xj(n){return function(n,e){const t=function(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(A,M)=>{const N=Pa(A,t);r=r||Np(M,N)});let a=n.syncPointTree_.get(t);a?r=r||Np(a,wr()):(a=new F2,n.syncPointTree_=n.syncPointTree_.set(t,a));const c=null!=r,h=c?new Mp(r,!0,!1):null;return function(n){return wx(n.viewCache_)}(V2(a,e,Ex(n.pendingWriteTree_,e._path),c?h.getNode():Dn.EMPTY_NODE,c))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const a=Mi(r).withIndex(e._queryParams.getIndex()),c=GE(n.serverSyncTree_,e._path,a);return vk(n.eventQueue_,e._path,c),Promise.resolve(a)},r=>(Gv(n,"get for query "+(0,$.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,$.m9)(n))._repo,n).then(e=>new Jm(e,new Nc(n._repo,n._path),n._queryParams.getIndex()))}class jx{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new uV("value",this,new Jm(e.snapshotNode,new Nc(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new dV(this,e,t):null}matches(e){return e instanceof jx&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Bx{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new dV(this,e,t):null}createEvent(e,t){(0,$.hu)(null!=e.childName,"Child events should have a childName.");const r=Xm(new Nc(t._repo,t._path),e.childName),a=t._queryParams.getIndex();return new uV(e.type,this,new Jm(e.snapshotNode,r,a),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Bx&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function eT(n,e,t,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const v=t,A=(M,N)=>{wk(n._repo,n,p),v(M,N)};A.userCallback=t.userCallback,A.context=t.context,t=A}const h=new hV(t,c||void 0),p="value"===e?new jx(h):new Bx(e,h);return function(n,e,t){let r;r=".info"===jn(e._path)?B2(n.infoSyncTree_,e,t):B2(n.serverSyncTree_,e,t),vk(n.eventQueue_,e._path,r)}(n._repo,n,p),()=>wk(n._repo,n,p)}function xk(n,e,t,r){return eT(n,"value",e,t,r)}function mV(n,e,t,r){return eT(n,"child_added",e,t,r)}function _V(n,e,t,r){return eT(n,"child_changed",e,t,r)}function yV(n,e,t,r){return eT(n,"child_moved",e,t,r)}function vV(n,e,t,r){return eT(n,"child_removed",e,t,r)}function CV(n,e,t){let r=null;const a=t?new hV(t):null;"value"===e?r=new jx(a):e&&(r=new Bx(e,a)),wk(n._repo,n,r)}class Cu{}class bV extends Cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Cd("endAt",this._value,e._path,!0);const t=BN(e._queryParams,this._value,this._key);if(qx(t),Fp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new il(e._repo,e._path,t,e._orderByCalled)}}class Oj extends Cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Cd("endBefore",this._value,e._path,!1);const t=function(n,e,t){let r,a;return n.index_===vd?("string"==typeof e&&(e=g2(e)),a=BN(n,e,t)):(r=null==t?Sh:g2(t),a=BN(n,e,r)),a.endBeforeSet_=!0,a}(e._queryParams,this._value,this._key);if(qx(t),Fp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new il(e._repo,e._path,t,e._orderByCalled)}}class wV extends Cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Cd("startAt",this._value,e._path,!0);const t=jN(e._queryParams,this._value,this._key);if(qx(t),Fp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new il(e._repo,e._path,t,e._orderByCalled)}}class Nj extends Cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Cd("startAfter",this._value,e._path,!1);const t=function(n,e,t){let r;if(n.index_===vd)"string"==typeof e&&(e=p2(e)),r=jN(n,e,t);else{let a;a=null==t?yd:p2(t),r=jN(n,e,a)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(qx(t),Fp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new il(e._repo,e._path,t,e._orderByCalled)}}class Rj extends Cu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new il(e._repo,e._path,function(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Fj extends Cu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new il(e._repo,e._path,function(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Uj extends Cu{constructor(e){super(),this._path=e}_apply(e){Zx(e,"orderByChild");const t=new Or(this._path);if(Bn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new VN(t),a=_x(e._queryParams,r);return Fp(a),new il(e._repo,e._path,a,!0)}}class qj extends Cu{_apply(e){Zx(e,"orderByKey");const t=_x(e._queryParams,vd);return Fp(t),new il(e._repo,e._path,t,!0)}}class Bj extends Cu{_apply(e){Zx(e,"orderByPriority");const t=_x(e._queryParams,ii);return Fp(t),new il(e._repo,e._path,t,!0)}}class $j extends Cu{_apply(e){Zx(e,"orderByValue");const t=_x(e._queryParams,UN);return Fp(t),new il(e._repo,e._path,t,!0)}}class zj extends Cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Cd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bV(this._value,this._key)._apply(new wV(this._value,this._key)._apply(e))}}function bu(n,...e){let t=(0,$.m9)(n);for(const r of e)t=r._apply(t);return t}(function(n){(0,$.hu)(!Dx,"__referenceConstructor has already been defined"),Dx=n})(Nc),function(n){(0,$.hu)(!Sx,"__referenceConstructor has already been defined"),Sx=n}(Nc);const Sk={};function TV(n,e,t,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||_d("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),po("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,A,h=Ik(c,a),p=h.repoInfo;"undefined"!=typeof process&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(v=!0,c=`http://${A}?ns=${p.namespace}`,h=Ik(c,a),p=h.repoInfo):v=!h.repoInfo.secure;const M=a&&v?new PE(PE.OWNER):new U6(n.name,n.options,e);X2("Invalid Firebase Database URL",h),Bn(h.path)||_d("Database URL must point to the root of a Firebase Database (not including a child path).");const N=function(n,e,t,r){let a=Sk[e.name];a||(a={},Sk[e.name]=a);let c=a[n.toURLString()];return c&&_d("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new oj(n,false,t,r),a[n.toURLString()]=c,c}(p,n,M,new V6(n.name,t));return new eB(N,n)}class eB{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=xN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new yx(n.repoInfo_,(r,a,c,h)=>{rV(n,r,a,c,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>iV(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,$.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new zm(n.repoInfo_,e,(r,a,c,h)=>{rV(n,r,a,c,h)},r=>{iV(n,r)},r=>{!function(n,e){go(e,(t,r)=>{Ck(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,e){const t=n.toString();return DN[t]||(DN[t]=e()),DN[t]}(n.repoInfo_,()=>new $4(n.stats_,n.server_)),n.infoData_=new Z4,n.infoSyncTree_=new j2({startListening:(r,a,c,h)=>{let p=[];const v=n.infoData_.getNode(r._path);return v.isEmpty()||(p=GE(n.infoSyncTree_,r._path,v),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Ck(n,"connected",!1),n.serverSyncTree_=new j2({startListening:(r,a,c,h)=>(n.server_.listen(r,c,a,(p,v)=>{const A=h(p,v);Pc(n.eventQueue_,r._path,A)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nc(this._repo,wr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=Sk[e];(!t||t[n.key]!==n)&&_d(`Database ${e}(${n.repoInfo_}) has already been deleted.`),oV(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&_d("Cannot call "+e+" on a deleted database.")}}function iB(n,e){AF(n,e)}class cB{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},zm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},CF(Qo.SDK_VERSION),(0,Qo._registerComponent)(new Jo.wA("database",(e,{instanceIdentifier:t})=>TV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Qo.registerVersion)(yF,"0.12.4",void 0),(0,Qo.registerVersion)(yF,"0.12.4","esm2017");const fB=new Qa.Yd("@firebase/database-compat"),AV=function(n){fB.warn("FIREBASE WARNING: "+n)};class mB{constructor(e){this._delegate=e}cancel(e){(0,$.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,$.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,$.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,$.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,$.Dv)("OnDisconnect.set",1,2,arguments.length),(0,$.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),a=>t(a)),r}setWithPriority(e,t,r){(0,$.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,$.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(e,t);return r&&a.then(()=>r(null),c=>r(c)),a}update(e,t){if((0,$.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const a={};for(let c=0;c<e.length;++c)a[""+c]=e[c];e=a,AV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,$.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),a=>t(a)),r}}class _B{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,$.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Vp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,$.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,$.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,$.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,$.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,$.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),JE("DataSnapshot.child","path",e,!1),new Vp(this._database,this._delegate.child(e))}hasChild(e){return(0,$.Dv)("DataSnapshot.hasChild",1,1,arguments.length),JE("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,$.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,$.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,$.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Vp(this._database,t)))}hasChildren(){return(0,$.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,$.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,$.Dv)("DataSnapshot.ref",0,0,arguments.length),new Nl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class No{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,a){var c;(0,$.Dv)("Query.on",2,4,arguments.length),(0,$.Wj)("Query.on","callback",t,!1);const h=No.getCancelAndContextArgs_("Query.on",r,a),p=(A,M)=>{t.call(h.context,new Vp(this.database,A),M)};p.userCallback=t,p.context=h.context;const v=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(e){case"value":return xk(this._delegate,p,v),t;case"child_added":return mV(this._delegate,p,v),t;case"child_removed":return vV(this._delegate,p,v),t;case"child_changed":return _V(this._delegate,p,v),t;case"child_moved":return yV(this._delegate,p,v),t;default:throw new Error((0,$.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,$.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,$.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,$.Wj)("Query.off","callback",t,!0),(0,$.lb)("Query.off","context",r,!0),t){const a=()=>{};a.userCallback=t,a.context=r,CV(this._delegate,e,a)}else CV(this._delegate,e)}get(){return xj(this._delegate).then(e=>new Vp(this.database,e))}once(e,t,r,a){(0,$.Dv)("Query.once",1,4,arguments.length),(0,$.Wj)("Query.once","callback",t,!0);const c=No.getCancelAndContextArgs_("Query.once",r,a),h=new $.BH,p=(A,M)=>{const N=new Vp(this.database,A);t&&t.call(c.context,N,M),h.resolve(N)};p.userCallback=t,p.context=c.context;const v=A=>{c.cancel&&c.cancel.call(c.context,A),h.reject(A)};switch(e){case"value":xk(this._delegate,p,v,{onlyOnce:!0});break;case"child_added":mV(this._delegate,p,v,{onlyOnce:!0});break;case"child_removed":vV(this._delegate,p,v,{onlyOnce:!0});break;case"child_changed":_V(this._delegate,p,v,{onlyOnce:!0});break;case"child_moved":yV(this._delegate,p,v,{onlyOnce:!0});break;default:throw new Error((0,$.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(e){return(0,$.Dv)("Query.limitToFirst",1,1,arguments.length),new No(this.database,bu(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Rj(n)}(e)))}limitToLast(e){return(0,$.Dv)("Query.limitToLast",1,1,arguments.length),new No(this.database,bu(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Fj(n)}(e)))}orderByChild(e){return(0,$.Dv)("Query.orderByChild",1,1,arguments.length),new No(this.database,bu(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return JE("orderByChild","path",n,!1),new Uj(n)}(e)))}orderByKey(){return(0,$.Dv)("Query.orderByKey",0,0,arguments.length),new No(this.database,bu(this._delegate,new qj))}orderByPriority(){return(0,$.Dv)("Query.orderByPriority",0,0,arguments.length),new No(this.database,bu(this._delegate,new Bj))}orderByValue(){return(0,$.Dv)("Query.orderByValue",0,0,arguments.length),new No(this.database,bu(this._delegate,new $j))}startAt(e=null,t){return(0,$.Dv)("Query.startAt",0,2,arguments.length),new No(this.database,bu(this._delegate,function(n=null,e){return QE("startAt","key",e,!0),new wV(n,e)}(e,t)))}startAfter(e=null,t){return(0,$.Dv)("Query.startAfter",0,2,arguments.length),new No(this.database,bu(this._delegate,function(n,e){return QE("startAfter","key",e,!0),new Nj(n,e)}(e,t)))}endAt(e=null,t){return(0,$.Dv)("Query.endAt",0,2,arguments.length),new No(this.database,bu(this._delegate,function(n,e){return QE("endAt","key",e,!0),new bV(n,e)}(e,t)))}endBefore(e=null,t){return(0,$.Dv)("Query.endBefore",0,2,arguments.length),new No(this.database,bu(this._delegate,function(n,e){return QE("endBefore","key",e,!0),new Oj(n,e)}(e,t)))}equalTo(e,t){return(0,$.Dv)("Query.equalTo",1,2,arguments.length),new No(this.database,bu(this._delegate,function(n,e){return QE("equalTo","key",e,!0),new zj(n,e)}(e,t)))}toString(){return(0,$.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,$.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,$.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof No))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const a={cancel:void 0,context:void 0};if(t&&r)a.cancel=t,(0,$.Wj)(e,"cancel",a.cancel,!0),a.context=r,(0,$.lb)(e,"context",a.context,!0);else if(t)if("object"==typeof t&&null!==t)a.context=t;else{if("function"!=typeof t)throw new Error((0,$.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=t}return a}get ref(){return new Nl(this.database,new Nc(this._delegate._repo,this._delegate._path))}}class Nl extends No{constructor(e,t){super(e,new il(t._repo,t._path,new mx,!1)),this.database=e,this._delegate=t}getKey(){return(0,$.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,$.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Nl(this.database,Xm(this._delegate,e))}getParent(){(0,$.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Nl(this.database,e):null}getRoot(){return(0,$.Dv)("Reference.root",0,0,arguments.length),new Nl(this.database,this._delegate.root)}set(e,t){(0,$.Dv)("Reference.set",1,2,arguments.length),(0,$.Wj)("Reference.set","onComplete",t,!0);const r=Dk(this._delegate,e);return t&&r.then(()=>t(null),a=>t(a)),r}update(e,t){if((0,$.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const a={};for(let c=0;c<e.length;++c)a[""+c]=e[c];e=a,AV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mc("Reference.update",this._delegate._path),(0,$.Wj)("Reference.update","onComplete",t,!0);const r=Dj(this._delegate,e);return t&&r.then(()=>t(null),a=>t(a)),r}setWithPriority(e,t,r){(0,$.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,$.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function(n,e,t){if(Mc("setWithPriority",n._path),Cd("setWithPriority",e,n._path,!1),yk("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new $.BH;return bk(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&a.then(()=>r(null),c=>r(c)),a}remove(e){(0,$.Dv)("Reference.remove",0,1,arguments.length),(0,$.Wj)("Reference.remove","onComplete",e,!0);const t=function(n){return Mc("remove",n._path),Dk(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,$.Dv)("Reference.transaction",1,3,arguments.length),(0,$.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,$.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,$.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function(n,e,t){var r;if(n=(0,$.m9)(n),Mc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,c=new $.BH,p=xk(n,()=>{});return function(n,e,t,r,a,c){Gv(n,"transaction on "+e);const h={path:e,update:t,onComplete:r,status:null,order:wF(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=Ek(n,e,void 0);h.currentInputSnapshot=p;const v=h.update(p.val());if(void 0===v)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{YE("transaction failed: Data returned ",v,h.path),h.status=0;const A=Nx(n.transactionQueueTree_,e),M=Qm(A)||[];let N;M.push(h),gk(A,M),"object"==typeof v&&null!==v&&(0,$.r3)(v,".priority")?(N=(0,$.DV)(v,".priority"),(0,$.hu)(KE(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(Ox(n.serverSyncTree_,e)||Dn.EMPTY_NODE).getPriority().val();const B=XE(n),Y=Mi(v,N),de=hk(Y,p,B);h.currentOutputSnapshotRaw=Y,h.currentOutputSnapshotResolved=de,h.currentWriteId=Fx(n);const je=sk(n.serverSyncTree_,e,de,h.currentWriteId,h.applyLocally);Pc(n.eventQueue_,e,je),Vx(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(v,A,M)=>{let N=null;v?c.reject(v):(N=new Jm(M,new Nc(n._repo,n._path),ii),c.resolve(new cB(A,N)))},p,a),c.promise}(this._delegate,e,{applyLocally:r}).then(c=>new _B(c.committed,new Vp(this.database,c.snapshot)));return t&&a.then(c=>t(null,c.committed,c.snapshot),c=>t(c,!1,null)),a}setPriority(e,t){(0,$.Dv)("Reference.setPriority",1,2,arguments.length),(0,$.Wj)("Reference.setPriority","onComplete",t,!0);const r=function(n,e){n=(0,$.m9)(n),Mc("setPriority",n._path),yk("setPriority",e,!1);const t=new $.BH;return bk(n._repo,Ti(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),a=>t(a)),r}push(e,t){(0,$.Dv)("Reference.push",0,2,arguments.length),(0,$.Wj)("Reference.push","onComplete",t,!0);const r=function(n,e){n=(0,$.m9)(n),Mc("push",n._path),Cd("push",e,n._path,!0);const t=nV(n._repo),r=P4(t),a=Xm(n,r),c=Xm(n,r);let h;return h=null!=e?Dk(c,e).then(()=>c):Promise.resolve(c),a.then=h.then.bind(h),a.catch=h.then.bind(h,void 0),a}(this._delegate,e),a=r.then(h=>new Nl(this.database,h));t&&a.then(()=>t(null),h=>t(h));const c=new Nl(this.database,r);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Mc("Reference.onDisconnect",this._delegate._path),new mB(new fV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class tT{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(e,t,r={}){!function(n,e,t,r={}){(n=(0,$.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&_d("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&_d('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new PE(PE.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,$.Sg)(r.mockUserToken,n.app.options.projectId);c=new PE(h)}!function(n,e,t,r){n.repoInfo_=new AN(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(a,e,t,c)}(this._delegate,e,t,r)}ref(e){if((0,$.Dv)("database.ref",0,1,arguments.length),e instanceof Nl){const t=gV(this._delegate,e.toString());return new Nl(this,t)}{const t=pV(this._delegate,e);return new Nl(this,t)}}refFromURL(e){(0,$.Dv)("database.refFromURL",1,1,arguments.length);const r=gV(this._delegate,e);return new Nl(this,r)}goOffline(){return(0,$.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,$.m9)(n))._checkNotDeleted("goOffline"),oV(n._repo)}(this._delegate)}goOnline(){return(0,$.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,$.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(tV)}(n._repo)}(this._delegate)}}tT.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var vB=Object.freeze({__proto__:null,initStandalone:function({app:n,url:e,version:t,customAuthImpl:r,namespace:a,nodeAdmin:c=!1}){CF(t);const h=new Jo.zt("auth-internal",new Jo.H0("database-standalone"));return h.setComponent(new Jo.wA("auth-internal",()=>r,"PRIVATE")),{instance:new tT(TV(n,h,void 0,e,c),n),namespace:a}}});const CB=tT.ServerValue;function IV(n){return null==n}function DV(n){return"function"==typeof n.set}function xV(n,e){return DV(e)?e:n.ref(e)}function SV(n,e){if(function(n){return"string"==typeof n}(n))return e.stringCase();if(DV(n))return e.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function nT(n,e,t="on",r=x1.z){return new Ji.y(a=>{let c=null;return c=n[t](e,(h,p)=>{r.schedule(()=>{a.next({snapshot:h,prevKey:p})}),"once"===t&&r.schedule(()=>a.complete())},h=>{r.schedule(()=>a.error(h))}),"on"===t?{unsubscribe(){null!=c&&n.off(e,c)}}:{unsubscribe(){}}}).pipe((0,Ut.U)(a=>{const{snapshot:c,prevKey:h}=a;let p=null;return c.exists()&&(p=c.key),{type:e,payload:c,prevKey:h,key:p}}),(0,b6.B)())}function OV(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function IB(n,e){const{payload:t,prevKey:r,key:a}=e,c=OV(n,a),h=function(n,e){if(IV(e))return 0;{const t=OV(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let p=null;e.payload.forEach(v=>{const A={payload:v,type:"value",prevKey:p,key:v.key};return p=v.key,n=[...n,A],!1})}return n;case"child_added":if(c>-1){const p=n[c-1];(p&&p.key||null)!==r&&(n=n.filter(v=>v.payload.key!==t.key)).splice(h,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(h,0,e)}return n;case"child_removed":return n.filter(p=>p.payload.key!==t.key);case"child_changed":return n.map(p=>p.payload.key===a?e:p);case"child_moved":if(c>-1){const p=n.splice(c,1)[0];return(n=n.slice()).splice(h,0,p),n}return n;default:return n}}function MV(n){return(IV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function PV(n,e,t){return function(n,e,t){return nT(n,"value","once",t).pipe(_i(r=>{const a=[(0,Et.of)(r)];return e.forEach(c=>a.push(nT(n,c,"on",t))),(0,qD.T)(...a).pipe(Ya(IB,[]))}),F_())}(n,e=MV(e),t)}function NV(n,e,t){const r=(e=MV(e)).map(a=>nT(n,a,"on",t));return(0,qD.T)(...r)}function kV(n,e){return function(r,a){return SV(r,{stringCase:()=>n.child(r)[e](a),firebaseCase:()=>r[e](a),snapshotCase:()=>r.ref[e](a)})}}function OB(n){return function(t){return t?SV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function RV(n,e){return function(){return nT(n,"value","on",e)}}!function(n){n.INTERNAL.registerComponent(new Jo.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),a=e.getProvider("database").getImmediate({identifier:t});return new tT(a,r)},"PUBLIC").setServiceProps({Reference:Nl,Query:No,Database:tT,DataSnapshot:Vp,enableLogging:iB,INTERNAL:vB,ServerValue:CB}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.4")}(S1.Z);const NB=new o.OlP("angularfire2.realtimeDatabaseURL"),kB=new o.OlP("angularfire2.database.use-emulator");let RB=(()=>{class n{constructor(t,r,a,c,h,p,v,A,M,N,B,Y,de,je,nt){this.schedulers=p;const vt=v,Yt=(0,Do.on)(t,h,r);A&&HP(Yt,h,M,B,Y,de,N,je),this.database=(0,Do.cc)(`${Yt.name}.database.${a}`,"AngularFireDatabase",Yt.name,()=>{const xn=h.runOutsideAngular(()=>Yt.database(a||void 0));return vt&&xn.useEmulator(...vt),xn},[vt])}list(t,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>xV(this.database,t));let c=a;return r&&(c=r(a)),function(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:kV(r,"update"),set:kV(r,"set"),push:a=>r.push(a),remove:OB(r),snapshotChanges:a=>PV(n,a,t).pipe(zr.iC),stateChanges:a=>NV(n,a,t).pipe(zr.iC),auditTrail:a=>function(n,e,t){return function(n,e,t){return function(n,e){return nT(n,"value","on",e).pipe((0,Ut.U)(t=>{let r;return t.payload.forEach(a=>(r=a.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new E6(n,t))}}(e),(0,Ut.U)(([a,c])=>{const h=a.lastKeyToLoad,p=c.map(v=>v.key);return{actions:c,lastKeyToLoad:h,loadedKeys:p}}),function(n){return e=>e.lift(new I6(n))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ut.U)(a=>a.actions))}(n,NV(n,e).pipe(Ya((a,c)=>[...a,c],[])),t)}(n,a,t).pipe(zr.iC),valueChanges:(a,c)=>PV(n,a,t).pipe((0,Ut.U)(p=>p.map(v=>c&&c.idField?Object.assign(Object.assign({},v.payload.val()),{[c.idField]:v.key}):v.payload.val())),zr.iC)}}(c,this)}object(t){return function(n,e){return{query:n,snapshotChanges:()=>RV(n,e.schedulers.outsideAngular)().pipe(zr.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>RV(n,e.schedulers.outsideAngular)().pipe(zr.iC,(0,Ut.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Do.Dh),o.LFG(Do.xv,8),o.LFG(NB,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(zr.HU),o.LFG(kB,8),o.LFG(_E,8),o.LFG(VP,8),o.LFG(UP,8),o.LFG(ZP,8),o.LFG(qP,8),o.LFG(jP,8),o.LFG(BP,8),o.LFG(KD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LB=(()=>{class n{constructor(){FP.Z.registerVersion("angularfire",zr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[RB]}),n})();class LV{}class FV{}class Mh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const a=t.slice(0,r),c=a.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const a=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(t,a))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Mh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Mh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Mh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const a=("a"===e.op?this.headers.get(t):void 0)||[];a.push(...r),this.headers.set(t,a);break;case"d":const c=e.value;if(c){let h=this.headers.get(t);if(!h)return;h=h.filter(p=>-1===c.indexOf(p)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class FB{encodeKey(e){return VV(e)}encodeValue(e){return VV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const UB=/%(\d[a-f0-9])/gi,ZB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function VV(n){return encodeURIComponent(n).replace(UB,(e,t)=>{var r;return null!==(r=ZB[t])&&void 0!==r?r:e})}function UV(n){return`${n}`}class Up{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new FB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[h,p]=-1==c?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,c)),e.decodeValue(a.slice(c+1))],v=t.get(h)||[];v.push(p),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const a=e[r];Array.isArray(a)?a.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:a,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Up({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(UV(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const a=r.indexOf(UV(e.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function ZV(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function qV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function jV(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rT{constructor(e,t,r,a){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,c=a):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Mh),this.context||(this.context=new qB),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+h}}else this.params=new Up,this.urlWithParams=t}serializeBody(){return null===this.body?null:ZV(this.body)||qV(this.body)||jV(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Up?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jV(this.body)?null:qV(this.body)?this.body.type||null:ZV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Up?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,a=e.url||this.url,c=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let A=e.headers||this.headers,M=e.params||this.params;const N=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(A=Object.keys(e.setHeaders).reduce((B,Y)=>B.set(Y,e.setHeaders[Y]),A)),e.setParams&&(M=Object.keys(e.setParams).reduce((B,Y)=>B.set(Y,e.setParams[Y]),M)),new rT(r,a,h,{params:M,headers:A,context:N,reportProgress:v,responseType:c,withCredentials:p})}}var Ds=(()=>((Ds=Ds||{})[Ds.Sent=0]="Sent",Ds[Ds.UploadProgress=1]="UploadProgress",Ds[Ds.ResponseHeader=2]="ResponseHeader",Ds[Ds.DownloadProgress=3]="DownloadProgress",Ds[Ds.Response=4]="Response",Ds[Ds.User=5]="User",Ds))();class Ok{constructor(e,t=200,r="OK"){this.headers=e.headers||new Mh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Mk extends Ok{constructor(e={}){super(e),this.type=Ds.ResponseHeader}clone(e={}){return new Mk({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Hx extends Ok{constructor(e={}){super(e),this.type=Ds.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Hx({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class BV extends Ok{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Pk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let HV=(()=>{class n{constructor(t){this.handler=t}request(t,r,a={}){let c;if(t instanceof rT)c=t;else{let v,A;v=a.headers instanceof Mh?a.headers:new Mh(a.headers),a.params&&(A=a.params instanceof Up?a.params:new Up({fromObject:a.params})),c=new rT(t,r,void 0!==a.body?a.body:null,{headers:v,context:a.context,params:A,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=(0,Et.of)(c).pipe(Yl(v=>this.handler.handle(v)));if(t instanceof rT||"events"===a.observe)return h;const p=h.pipe(dc(v=>v instanceof Hx));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe((0,Ut.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,Ut.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,Ut.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));case"json":default:return p.pipe((0,Ut.U)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Up).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,a={}){return this.request("PATCH",t,Pk(a,r))}post(t,r,a={}){return this.request("POST",t,Pk(a,r))}put(t,r,a={}){return this.request("PUT",t,Pk(a,r))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(LV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class $V{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const GV=new o.OlP("HTTP_INTERCEPTORS");let HB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const $B=/^\)\]\}',?\n/;let zV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ji.y(r=>{const a=this.xhrFactory.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((Y,de)=>a.setRequestHeader(Y,de.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Y=t.detectContentTypeHeader();null!==Y&&a.setRequestHeader("Content-Type",Y)}if(t.responseType){const Y=t.responseType.toLowerCase();a.responseType="json"!==Y?Y:"text"}const c=t.serializeBody();let h=null;const p=()=>{if(null!==h)return h;const Y=1223===a.status?204:a.status,de=a.statusText||"OK",je=new Mh(a.getAllResponseHeaders()),nt=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||t.url;return h=new Mk({headers:je,status:Y,statusText:de,url:nt}),h},v=()=>{let{headers:Y,status:de,statusText:je,url:nt}=p(),vt=null;204!==de&&(vt=void 0===a.response?a.responseText:a.response),0===de&&(de=vt?200:0);let Yt=de>=200&&de<300;if("json"===t.responseType&&"string"==typeof vt){const xn=vt;vt=vt.replace($B,"");try{vt=""!==vt?JSON.parse(vt):null}catch(ln){vt=xn,Yt&&(Yt=!1,vt={error:ln,text:vt})}}Yt?(r.next(new Hx({body:vt,headers:Y,status:de,statusText:je,url:nt||void 0})),r.complete()):r.error(new BV({error:vt,headers:Y,status:de,statusText:je,url:nt||void 0}))},A=Y=>{const{url:de}=p(),je=new BV({error:Y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:de||void 0});r.error(je)};let M=!1;const N=Y=>{M||(r.next(p()),M=!0);let de={type:Ds.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(de.total=Y.total),"text"===t.responseType&&!!a.responseText&&(de.partialText=a.responseText),r.next(de)},B=Y=>{let de={type:Ds.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(de.total=Y.total),r.next(de)};return a.addEventListener("load",v),a.addEventListener("error",A),a.addEventListener("timeout",A),a.addEventListener("abort",A),t.reportProgress&&(a.addEventListener("progress",N),null!==c&&a.upload&&a.upload.addEventListener("progress",B)),a.send(c),r.next({type:Ds.Sent}),()=>{a.removeEventListener("error",A),a.removeEventListener("abort",A),a.removeEventListener("load",v),a.removeEventListener("timeout",A),t.reportProgress&&(a.removeEventListener("progress",N),null!==c&&a.upload&&a.upload.removeEventListener("progress",B)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Nk=new o.OlP("XSRF_COOKIE_NAME"),kk=new o.OlP("XSRF_HEADER_NAME");class WV{}let zB=(()=>{class n{constructor(t,r,a){this.doc=t,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Fe),o.LFG(o.Lbi),o.LFG(Nk))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Rk=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const a=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(WV),o.LFG(kk))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),WB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(GV,[]);this.chain=r.reduceRight((a,c)=>new $V(a,c),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(FV),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),KB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Rk,useClass:HB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Nk,useValue:t.cookieName}:[],t.headerName?{provide:kk,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Rk,{provide:GV,useExisting:Rk,multi:!0},{provide:WV,useClass:zB},{provide:Nk,useValue:"XSRF-TOKEN"},{provide:kk,useValue:"X-XSRF-TOKEN"}]}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[HV,{provide:LV,useClass:WB},zV,{provide:FV,useExisting:zV}],imports:[[KB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class QB{constructor(e,t="/assets/i18n/",r=".json"){this.http=e,this.prefix=t,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}let JB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[V3]}),n.\u0275inj=o.cJS({providers:[xp],imports:[[jt,YB,nS,O3,Do.hO.initializeApp(_F_firebaseConfig),RU,BU,LB,a3,yT,fs.forRoot({defaultLanguage:"en",loader:{provide:Ql,useFactory:XB,deps:[HV]}})],C6]}),n})();function XB(n){return new QB(n,"./assets/i18/",".json")}(0,o.G48)(),Mt().bootstrapModule(JB).catch(n=>console.error(n))},3394:(Tt,Ke,z)=>{"use strict";z.d(Ke,{Z:()=>Me});var o=z(3854),W=z(3910),H=z(8026),Ee=z(5422);class Ie{constructor(ke,ue){this._delegate=ke,this.firebase=ue,(0,H._addComponent)(ke,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(ke,ue=H._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(ke);return!Ve.isInitialized()&&"EXPLICIT"===(null===(Pe=Ve.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:ue})}_removeServiceInstance(ke,ue=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(ue)}_addComponent(ke){(0,H._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,H._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function ve(){const we=function(we){const ke={},ue={__esModule:!0,initializeApp:function(qt,Hn={}){const on=H.initializeApp(qt,Hn);if((0,o.r3)(ke,on.name))return ke[on.name];const Qt=new we(on,ue);return ke[on.name]=Qt,Qt},app:Ve,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(qt){const Hn=qt.name,on=Hn.replace("-compat","");if(H._registerComponent(qt)&&"PUBLIC"===qt.type){const Qt=(en=Ve())=>{if("function"!=typeof en[on])throw Fe.create("invalid-app-argument",{appName:Hn});return en[on]()};void 0!==qt.serviceProps&&(0,o.ZB)(Qt,qt.serviceProps),ue[on]=Qt,we.prototype[on]=function(...en){return this._getService.bind(this,Hn).apply(this,qt.multipleInstances?en:[])}}return"PUBLIC"===qt.type?ue[on]:null},removeApp:function(qt){delete ke[qt]},useAsService:function(qt,Hn){return"serverAuth"===Hn?null:Hn},modularAPIs:H}};function Ve(qt){if(!(0,o.r3)(ke,qt=qt||H._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:qt});return ke[qt]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function(){return Object.keys(ke).map(qt=>ke[qt])}}),Ve.App=we,ue}(Ie);return we.INTERNAL=Object.assign(Object.assign({},we.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function(ue){(0,o.ZB)(we,ue)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),we}(),Q=new Ee.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const we=self.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=K;(0,H.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:(Tt,Ke,z)=>{"use strict";z.r(Ke),z.d(Ke,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>ls,_DEFAULT_ENTRY_NAME:()=>xs,_addComponent:()=>Ws,_addOrOverwriteComponent:()=>Ai,_apps:()=>Un,_clearComponents:()=>Xn,_components:()=>nn,_getProvider:()=>$n,_registerComponent:()=>di,_removeServiceInstance:()=>Ks,deleteApp:()=>yr,getApp:()=>Je,getApps:()=>Zn,initializeApp:()=>Ss,onLog:()=>On,registerVersion:()=>at,setLogLevel:()=>oi});var o=z(8239),W=z(3910),H=z(5422),Ee=z(3854);class Ie{constructor(Nt){this.container=Nt}getPlatformInfoString(){return this.container.getProviders().map(rn=>{if(function(Pt){const Nt=Pt.getComponent();return"VERSION"===(null==Nt?void 0:Nt.type)}(rn)){const Jt=rn.getImmediate();return`${Jt.library}/${Jt.version}`}return null}).filter(rn=>rn).join(" ")}}const Fe="@firebase/app",ve=new H.Yd("@firebase/app"),xs="[DEFAULT]",ko={[Fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Un=new Map,nn=new Map;function Ws(Pt,Nt){try{Pt.container.addComponent(Nt)}catch(rn){ve.debug(`Component ${Nt.name} failed to register with FirebaseApp ${Pt.name}`,rn)}}function Ai(Pt,Nt){Pt.container.addOrOverwriteComponent(Nt)}function di(Pt){const Nt=Pt.name;if(nn.has(Nt))return ve.debug(`There were multiple attempts to register component ${Nt}.`),!1;nn.set(Nt,Pt);for(const rn of Un.values())Ws(rn,Pt);return!0}function $n(Pt,Nt){return Pt.container.getProvider(Nt)}function Ks(Pt,Nt,rn=xs){$n(Pt,Nt).clearInstance(rn)}function Xn(){nn.clear()}const _n=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mo{constructor(Nt,rn,Jt){this._isDeleted=!1,this._options=Object.assign({},Nt),this._config=Object.assign({},rn),this._name=rn.name,this._automaticDataCollectionEnabled=rn.automaticDataCollectionEnabled,this._container=Jt,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Nt){this._isDeleted=Nt}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const ls="9.5.0";function Ss(Pt,Nt={}){"object"!=typeof Nt&&(Nt={name:Nt});const rn=Object.assign({name:xs,automaticDataCollectionEnabled:!1},Nt),Jt=rn.name;if("string"!=typeof Jt||!Jt)throw _n.create("bad-app-name",{appName:String(Jt)});const dr=Un.get(Jt);if(dr){if((0,Ee.vZ)(Pt,dr.options)&&(0,Ee.vZ)(rn,dr.config))return dr;throw _n.create("duplicate-app",{appName:Jt})}const Tn=new W.H0(Jt);for(const St of nn.values())Tn.addComponent(St);const ot=new mo(Pt,rn,Tn);return Un.set(Jt,ot),ot}function Je(Pt=xs){const Nt=Un.get(Pt);if(!Nt)throw _n.create("no-app",{appName:Pt});return Nt}function Zn(){return Array.from(Un.values())}function yr(Pt){return wt.apply(this,arguments)}function wt(){return(wt=(0,o.Z)(function*(Pt){const Nt=Pt.name;Un.has(Nt)&&(Un.delete(Nt),yield Promise.all(Pt.container.getProviders().map(rn=>rn.delete())),Pt.isDeleted=!0)})).apply(this,arguments)}function at(Pt,Nt,rn){var Jt;let dr=null!==(Jt=ko[Pt])&&void 0!==Jt?Jt:Pt;rn&&(dr+=`-${rn}`);const Tn=dr.match(/\s|\//),ot=Nt.match(/\s|\//);if(Tn||ot){const St=[`Unable to register library "${dr}" with version "${Nt}":`];return Tn&&St.push(`library name "${dr}" contains illegal characters (whitespace or "/")`),Tn&&ot&&St.push("and"),ot&&St.push(`version name "${Nt}" contains illegal characters (whitespace or "/")`),void ve.warn(St.join(" "))}di(new W.wA(`${dr}-version`,()=>({library:dr,version:Nt}),"VERSION"))}function On(Pt,Nt){if(null!==Pt&&"function"!=typeof Pt)throw _n.create("invalid-log-argument");(0,H.Am)(Pt,Nt)}function oi(Pt){(0,H.Ub)(Pt)}di(new W.wA("platform-logger",Nt=>new Ie(Nt),"PRIVATE")),at(Fe,"0.7.9",""),at(Fe,"0.7.9","esm2017"),at("fire-js","")},3910:(Tt,Ke,z)=>{"use strict";z.d(Ke,{wA:()=>H,H0:()=>ge,zt:()=>Ie});var o=z(8239),W=z(3854);class H{constructor(K,Q,re){this.name=K,this.instanceFactory=Q,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const Ee="[DEFAULT]";class Ie{constructor(K,Q){this.name=K,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Q)){const re=new W.BH;if(this.instancesDeferred.set(Q,re),this.isInitialized(Q)||this.shouldAutoInitialize())try{const De=this.getOrInitializeService({instanceIdentifier:Q});De&&re.resolve(De)}catch(De){}}return this.instancesDeferred.get(Q).promise}getImmediate(K){var Q;const re=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),De=null!==(Q=null==K?void 0:K.optional)&&void 0!==Q&&Q;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(De)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ne){if(De)return null;throw Ne}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if("EAGER"===K.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ee})}catch(Q){}for(const[Q,re]of this.instancesDeferred.entries()){const De=this.normalizeInstanceIdentifier(Q);try{const Ne=this.getOrInitializeService({instanceIdentifier:De});re.resolve(Ne)}catch(Ne){}}}}clearInstance(K=Ee){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,o.Z)(function*(){const Q=Array.from(K.instances.values());yield Promise.all([...Q.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Q.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=Ee){return this.instances.has(K)}getOptions(K=Ee){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Q={}}=K,re=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const De=this.getOrInitializeService({instanceIdentifier:re,options:Q});for(const[Ne,Me]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ne)&&Me.resolve(De);return De}onInit(K,Q){var re;const De=this.normalizeInstanceIdentifier(Q),Ne=null!==(re=this.onInitCallbacks.get(De))&&void 0!==re?re:new Set;Ne.add(K),this.onInitCallbacks.set(De,Ne);const Me=this.instances.get(De);return Me&&K(Me,De),()=>{Ne.delete(K)}}invokeOnInitCallbacks(K,Q){const re=this.onInitCallbacks.get(Q);if(re)for(const De of re)try{De(K,Q)}catch(Ne){}}getOrInitializeService({instanceIdentifier:K,options:Q={}}){let re=this.instances.get(K);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=K,ve===Ee?void 0:ve),options:Q}),this.instances.set(K,re),this.instancesOptions.set(K,Q),this.invokeOnInitCallbacks(re,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,re)}catch(De){}var ve;return re||null}normalizeInstanceIdentifier(K=Ee){return this.component?this.component.multipleInstances?K:Ee:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Q=this.getProvider(K.name);if(Q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Q=new Ie(K,this);return this.providers.set(K,Q),Q}getProviders(){return Array.from(this.providers.values())}}},5422:(Tt,Ke,z)=>{"use strict";z.d(Ke,{in:()=>W,Yd:()=>Fe,Ub:()=>ge,Am:()=>ve});const o=[];var W=(()=>{return(K=W||(W={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",W;var K})();const H={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Ee=W.INFO,Ie={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},fe=(K,Q,...re)=>{if(Q<K.logLevel)return;const De=(new Date).toISOString(),Ne=Ie[Q];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Ne](`[${De}]  ${K.name}:`,...re)};class Fe{constructor(Q){this.name=Q,this._logLevel=Ee,this._logHandler=fe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in W))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?H[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...Q),this._logHandler(this,W.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...Q),this._logHandler(this,W.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,W.INFO,...Q),this._logHandler(this,W.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,W.WARN,...Q),this._logHandler(this,W.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...Q),this._logHandler(this,W.ERROR,...Q)}}function ge(K){o.forEach(Q=>{Q.setLogLevel(K)})}function ve(K,Q){for(const re of o){let De=null;Q&&Q.level&&(De=H[Q.level]),re.userLogHandler=null===K?null:(Ne,Me,...we)=>{const ke=we.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch(Pe){return null}}).filter(ue=>ue).join(" ");Me>=(null!=De?De:Ne.logLevel)&&K({level:W[Me].toLowerCase(),message:ke,args:we,type:Ne.name})}}}},8239:(Tt,Ke,z)=>{"use strict";function o(H,Ee,Ie,fe,Fe,ge,ve){try{var K=H[ge](ve),Q=K.value}catch(re){return void Ie(re)}K.done?Ee(Q):Promise.resolve(Q).then(fe,Fe)}function W(H){return function(){var Ee=this,Ie=arguments;return new Promise(function(fe,Fe){var ge=H.apply(Ee,Ie);function ve(Q){o(ge,fe,Fe,ve,K,"next",Q)}function K(Q){o(ge,fe,Fe,ve,K,"throw",Q)}ve(void 0)})}}z.d(Ke,{Z:()=>W})}},Tt=>{Tt(Tt.s=7290)}]);